/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/***/ ((module) => {

eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FndGFpbC8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzP2ZhYTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/events/events.js\n");

/***/ }),

/***/ "./client/src/components/StreamField/blocks/BaseSequenceBlock.js":
/*!***********************************************************************!*\
  !*** ./client/src/components/StreamField/blocks/BaseSequenceBlock.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/* eslint-disable no-underscore-dangle */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.BaseSequenceBlock = exports.BaseInsertionControl = exports.BaseSequenceChild = void 0;\n/* global $ */\nvar uuid_1 = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\nvar events_1 = __importDefault(__webpack_require__(/*! events */ \"./node_modules/events/events.js\"));\nvar text_1 = __webpack_require__(/*! ../../../utils/text */ \"./client/src/utils/text.ts\");\nvar panels_1 = __webpack_require__(/*! ../../../includes/panels */ \"./client/src/includes/panels.ts\");\nvar range_1 = __webpack_require__(/*! ../../../utils/range */ \"./client/src/utils/range.ts\");\nvar ActionButton = /** @class */ (function () {\n    function ActionButton(sequenceChild) {\n        this.sequenceChild = sequenceChild;\n    }\n    ActionButton.prototype.render = function (container) {\n        var _this = this;\n        var label = this.sequenceChild.strings[this.labelIdentifier] || this.labelIdentifier;\n        this.dom = $(\"\\n      <button type=\\\"button\\\" class=\\\"button button--icon text-replace white\\\" title=\\\"\".concat((0, text_1.escapeHtml)(label), \"\\\">\\n        <svg class=\\\"icon icon-\").concat((0, text_1.escapeHtml)(this.icon), \"\\\" aria-hidden=\\\"true\\\">\\n          <use href=\\\"#icon-\").concat((0, text_1.escapeHtml)(this.icon), \"\\\"></use>\\n        </svg>\\n      </button>\\n    \"));\n        this.dom.on('click', function () {\n            if (_this.onClick)\n                _this.onClick();\n            return false; // don't propagate to header's onclick event (which collapses the block)\n        });\n        $(container).append(this.dom);\n        if (this.enableEvent) {\n            this.sequenceChild.on(this.enableEvent, function () {\n                _this.enable();\n            });\n        }\n        if (this.disableEvent) {\n            this.sequenceChild.on(this.disableEvent, function () {\n                _this.disable();\n            });\n        }\n        if (this.initiallyDisabled) {\n            this.disable();\n        }\n    };\n    ActionButton.prototype.enable = function () {\n        this.dom.removeAttr('disabled');\n    };\n    ActionButton.prototype.disable = function () {\n        this.dom.attr('disabled', 'true');\n    };\n    return ActionButton;\n}());\nvar MoveUpButton = /** @class */ (function (_super) {\n    __extends(MoveUpButton, _super);\n    function MoveUpButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enableEvent = 'enableMoveUp';\n        _this.disableEvent = 'disableMoveUp';\n        _this.initiallyDisabled = true;\n        _this.icon = 'arrow-up';\n        _this.labelIdentifier = 'MOVE_UP';\n        return _this;\n    }\n    MoveUpButton.prototype.onClick = function () {\n        this.sequenceChild.moveUp();\n    };\n    return MoveUpButton;\n}(ActionButton));\nvar MoveDownButton = /** @class */ (function (_super) {\n    __extends(MoveDownButton, _super);\n    function MoveDownButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enableEvent = 'enableMoveDown';\n        _this.disableEvent = 'disableMoveDown';\n        _this.initiallyDisabled = true;\n        _this.icon = 'arrow-down';\n        _this.labelIdentifier = 'MOVE_DOWN';\n        return _this;\n    }\n    MoveDownButton.prototype.onClick = function () {\n        this.sequenceChild.moveDown();\n    };\n    return MoveDownButton;\n}(ActionButton));\nvar DuplicateButton = /** @class */ (function (_super) {\n    __extends(DuplicateButton, _super);\n    function DuplicateButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enableEvent = 'enableDuplication';\n        _this.disableEvent = 'disableDuplication';\n        _this.icon = 'duplicate';\n        _this.labelIdentifier = 'DUPLICATE';\n        return _this;\n    }\n    DuplicateButton.prototype.onClick = function () {\n        this.sequenceChild.duplicate({ animate: true });\n    };\n    return DuplicateButton;\n}(ActionButton));\nvar DeleteButton = /** @class */ (function (_super) {\n    __extends(DeleteButton, _super);\n    function DeleteButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.icon = 'bin';\n        _this.labelIdentifier = 'DELETE';\n        return _this;\n    }\n    DeleteButton.prototype.onClick = function () {\n        this.sequenceChild[\"delete\"]({ animate: true });\n    };\n    return DeleteButton;\n}(ActionButton));\nvar BaseSequenceChild = /** @class */ (function (_super) {\n    __extends(BaseSequenceChild, _super);\n    function BaseSequenceChild(blockDef, placeholder, prefix, index, id, initialState, sequence, opts) {\n        var _this = this;\n        _this.blockDef = blockDef;\n        _this.type = blockDef.name;\n        _this.prefix = prefix;\n        _this.index = index;\n        _this.id = id;\n        _this.sequence = sequence;\n        var animate = opts && opts.animate;\n        var focus = opts && opts.focus;\n        var collapsed = opts && opts.collapsed;\n        _this.strings = (opts && opts.strings) || {};\n        var panelId = \"block-\".concat(id, \"-section\");\n        var headingId = \"block-\".concat(id, \"-heading\");\n        var contentId = \"block-\".concat(id, \"-content\");\n        var blockTypeIcon = (0, text_1.escapeHtml)(_this.blockDef.meta.icon);\n        var blockTypeLabel = (0, text_1.escapeHtml)(_this.blockDef.meta.label);\n        var dom = $(\"\\n      <div \".concat(_this.id\n            ? \"data-contentpath=\\\"\".concat((0, text_1.escapeHtml)(_this.id), \"\\\"\")\n            : 'data-contentpath-disabled', \">\\n        <input type=\\\"hidden\\\"  name=\\\"\").concat(_this.prefix, \"-deleted\\\" value=\\\"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\").concat(_this.prefix, \"-order\\\" value=\\\"\").concat(index, \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\").concat(_this.prefix, \"-type\\\" value=\\\"\").concat((0, text_1.escapeHtml)(_this.type || ''), \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\").concat(_this.prefix, \"-id\\\" value=\\\"\").concat((0, text_1.escapeHtml)(_this.id || ''), \"\\\">\\n        <section class=\\\"w-panel w-panel--nested\\\" id=\\\"\").concat(panelId, \"\\\" aria-labelledby=\\\"\").concat(headingId, \"\\\" data-panel>\\n          <div class=\\\"w-panel__header\\\">\\n            <a class=\\\"w-panel__anchor w-panel__anchor--prefix\\\" href=\\\"#\").concat(panelId, \"\\\" aria-labelledby=\\\"\").concat(headingId, \"\\\" data-panel-anchor>\\n              <svg class=\\\"icon icon-link w-panel__icon\\\" aria-hidden=\\\"true\\\">\\n                <use href=\\\"#icon-link\\\"></use>\\n              </svg>\\n            </a>\\n            <button class=\\\"w-panel__toggle\\\" type=\\\"button\\\" aria-label=\\\"\").concat('Toggle section', \"\\\" aria-describedby=\\\"\").concat(headingId, \"\\\" data-panel-toggle aria-controls=\\\"\").concat(contentId, \"\\\" aria-expanded=\\\"true\\\">\\n              <svg class=\\\"icon icon-\").concat(blockTypeIcon, \" w-panel__icon\\\" aria-hidden=\\\"true\\\">\\n                <use href=\\\"#icon-\").concat(blockTypeIcon, \"\\\"></use>\\n              </svg>\\n            </button>\\n            <h2 class=\\\"w-panel__heading w-panel__heading--label\\\" aria-level=\\\"3\\\" id=\\\"\").concat(headingId, \"\\\" data-panel-heading>\\n              <span data-panel-heading-text class=\\\"c-sf-block__title\\\"></span>\\n              <span class=\\\"c-sf-block__type\\\">\").concat(blockTypeLabel, \"</span>\\n              \").concat(blockDef.meta.required\n            ? '<span class=\"w-required-mark\" data-panel-required>*</span>'\n            : '', \"\\n            </h2>\\n            <a class=\\\"w-panel__anchor w-panel__anchor--suffix\\\" href=\\\"#\").concat(panelId, \"\\\" aria-labelledby=\\\"\").concat(headingId, \"\\\">\\n              <svg class=\\\"icon icon-link w-panel__icon\\\" aria-hidden=\\\"true\\\">\\n                <use href=\\\"#icon-link\\\"></use>\\n              </svg>\\n            </a>\\n            <div class=\\\"w-panel__divider\\\"></div>\\n            <div class=\\\"w-panel__controls\\\" data-panel-controls>\\n              <div class=\\\"w-panel__controls-cue\\\">\\n                <svg class=\\\"icon icon-dots-horizontal w-panel__icon\\\" aria-hidden=\\\"true\\\">\\n                  <use href=\\\"#icon-dots-horizontal\\\"></use>\\n                </svg>\\n              </div>\\n            </div>\\n          </div>\\n          <div id=\\\"\").concat(contentId, \"\\\" class=\\\"w-panel__content\\\">\\n            <div data-streamfield-block></div>\\n          </div>\\n        </section>\\n      </div>\\n    \"));\n        $(placeholder).replaceWith(dom);\n        _this.element = dom.get(0);\n        var blockElement = dom.find('[data-streamfield-block]').get(0);\n        _this.actionsContainerElement = dom.find('[data-panel-controls]').get(0);\n        _this.titleElement = dom.find('[data-panel-heading-text]');\n        _this.toggleElement = _this.element.querySelector('[data-panel-toggle]');\n        _this.deletedInput = dom.find(\"input[name=\\\"\".concat(_this.prefix, \"-deleted\\\"]\"));\n        _this.indexInput = dom.find(\"input[name=\\\"\".concat(_this.prefix, \"-order\\\"]\"));\n        _this.addActionButton(new MoveUpButton(_this));\n        _this.addActionButton(new MoveDownButton(_this));\n        _this.addActionButton(new DuplicateButton(_this));\n        _this.addActionButton(new DeleteButton(_this));\n        var capabilities = new Map();\n        capabilities.set('duplicate', {\n            enabled: true,\n            fn: _this.duplicate\n        });\n        capabilities.set('split', {\n            enabled: true,\n            fn: _this.split.bind(_this)\n        });\n        capabilities.set('addSibling', {\n            enabled: true,\n            fn: _this.addSibling.bind(_this),\n            blockGroups: _this.sequence.getBlockGroups(),\n            getBlockCount: _this.sequence.getBlockCount.bind(_this.sequence),\n            getBlockMax: _this.sequence.getBlockMax.bind(_this.sequence)\n        });\n        _this.block = _this.blockDef.render(blockElement, _this.prefix + '-value', initialState, undefined, capabilities);\n        (0, panels_1.initCollapsiblePanel)(_this.element.querySelector('[data-panel-toggle]'));\n        if (collapsed) {\n            _this.collapse();\n        }\n        _this.toggleElement.addEventListener('wagtail:panel-toggle', function () {\n            var label = _this.getTextLabel({ maxLength: 50 });\n            _this.titleElement.text(label || '');\n        });\n        // Set in initialisation regardless of block state for screen reader users.\n        var textLabel = _this.getTextLabel({ maxLength: 50 });\n        _this.titleElement.text(textLabel || '');\n        if (animate) {\n            dom.hide();\n            setTimeout(function () {\n                dom.slideDown();\n                if (focus) {\n                    // focus this field if we can do so without obtrusive UI behaviour\n                    _this.block.focus({ soft: true });\n                }\n            }, 10);\n        }\n        else if (focus) {\n            // focus this field if we can do so without obtrusive UI behaviour\n            _this.block.focus({ soft: true });\n        }\n        return _this;\n    }\n    BaseSequenceChild.prototype.addActionButton = function (button) {\n        button.render(this.actionsContainerElement);\n    };\n    BaseSequenceChild.prototype.addSibling = function (opts) {\n        this.sequence._onRequestInsert(this.index + 1, opts);\n    };\n    BaseSequenceChild.prototype.moveUp = function () {\n        this.sequence.moveBlockUp(this.index);\n    };\n    BaseSequenceChild.prototype.moveDown = function () {\n        this.sequence.moveBlockDown(this.index);\n    };\n    BaseSequenceChild.prototype.duplicate = function (opts) {\n        this.sequence.duplicateBlock(this.index, opts);\n    };\n    BaseSequenceChild.prototype[\"delete\"] = function (opts) {\n        this.sequence.deleteBlock(this.index, opts);\n    };\n    BaseSequenceChild.prototype.markDeleted = function (_a) {\n        var _b = _a.animate, animate = _b === void 0 ? false : _b;\n        this.deletedInput.val('1');\n        if (animate) {\n            $(this.element).slideUp().dequeue().fadeOut().attr('aria-hidden', 'true');\n        }\n        else {\n            $(this.element).hide().attr('aria-hidden', 'true');\n        }\n        // Inform the comment app that the content path of this block is no longer valid\n        // This will hide any comments that were previously on the block\n        var contentPath = this.getContentPath();\n        if (contentPath && window.comments.commentApp) {\n            window.comments.commentApp.invalidateContentPath(contentPath);\n        }\n    };\n    BaseSequenceChild.prototype.getContentPath = function () {\n        var _a;\n        return (_a = window.comments) === null || _a === void 0 ? void 0 : _a.getContentPath(this.element);\n    };\n    BaseSequenceChild.prototype.enableDuplication = function () {\n        this.emit('enableDuplication');\n        if (this.block && this.block.setCapabilityOptions) {\n            this.block.setCapabilityOptions('duplicate', { enabled: true });\n        }\n    };\n    BaseSequenceChild.prototype.disableDuplication = function () {\n        this.emit('disableDuplication');\n        if (this.block && this.block.setCapabilityOptions) {\n            this.block.setCapabilityOptions('duplicate', { enabled: false });\n        }\n    };\n    BaseSequenceChild.prototype.enableSplit = function () {\n        if (this.block && this.block.setCapabilityOptions) {\n            this.block.setCapabilityOptions('split', { enabled: true });\n        }\n    };\n    BaseSequenceChild.prototype.disableSplit = function () {\n        if (this.block && this.block.setCapabilityOptions) {\n            this.block.setCapabilityOptions('split', { enabled: false });\n        }\n    };\n    BaseSequenceChild.prototype.enableMoveUp = function () {\n        this.emit('enableMoveUp');\n    };\n    BaseSequenceChild.prototype.disableMoveUp = function () {\n        this.emit('disableMoveUp');\n    };\n    BaseSequenceChild.prototype.enableMoveDown = function () {\n        this.emit('enableMoveDown');\n    };\n    BaseSequenceChild.prototype.disableMoveDown = function () {\n        this.emit('disableMoveDown');\n    };\n    BaseSequenceChild.prototype.setIndex = function (newIndex) {\n        this.index = newIndex;\n        this.indexInput.val(newIndex);\n    };\n    BaseSequenceChild.prototype.setError = function (error) {\n        this.block.setError(error);\n    };\n    BaseSequenceChild.prototype.focus = function (opts) {\n        this.block.focus(opts);\n    };\n    BaseSequenceChild.prototype.getTextLabel = function (opts) {\n        if (this.block.getTextLabel) {\n            return this.block.getTextLabel(opts);\n        }\n        return null;\n    };\n    BaseSequenceChild.prototype.collapse = function () {\n        (0, panels_1.toggleCollapsiblePanel)(this.toggleElement, false);\n    };\n    BaseSequenceChild.prototype.getDuplicatedState = function () {\n        return {\n            id: (0, uuid_1.v4)(),\n            value: this.block.getDuplicatedState === undefined\n                ? this.block.getState()\n                : this.block.getDuplicatedState()\n        };\n    };\n    return BaseSequenceChild;\n}(events_1[\"default\"]));\nexports.BaseSequenceChild = BaseSequenceChild;\nvar BaseInsertionControl = /** @class */ (function () {\n    /* Base class for controls that appear between blocks in a sequence, to allow inserting new\n    blocks at that point. Subclasses should render an HTML structure with a single root element\n    (replacing the placeholder passed to the constructor) and set it as this.element.\n    When the user requests to insert a block, we call onRequestInsert passing the index number\n    and a dict of control-specific options. */\n    function BaseInsertionControl(placeholder, opts) {\n        this.index = opts && opts.index;\n        this.onRequestInsert = opts && opts.onRequestInsert;\n    }\n    BaseInsertionControl.prototype.setIndex = function (newIndex) {\n        this.index = newIndex;\n    };\n    BaseInsertionControl.prototype[\"delete\"] = function (_a) {\n        var _b = _a.animate, animate = _b === void 0 ? false : _b;\n        if (animate) {\n            $(this.element).slideUp().attr('aria-hidden', 'true');\n        }\n        else {\n            $(this.element).hide().attr('aria-hidden', 'true');\n        }\n    };\n    return BaseInsertionControl;\n}());\nexports.BaseInsertionControl = BaseInsertionControl;\nvar BaseSequenceBlock = /** @class */ (function () {\n    function BaseSequenceBlock() {\n    }\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    BaseSequenceBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, sequence, opts) {\n        throw new Error('not implemented');\n    };\n    BaseSequenceBlock.prototype._createInsertionControl = function (placeholder, opts) {\n        throw new Error('not implemented');\n    };\n    BaseSequenceBlock.prototype._getChildDataForInsertion = function (opts) {\n        throw new Error('not implemented');\n    };\n    BaseSequenceBlock.prototype.getBlockGroups = function () {\n        throw new Error('not implemented');\n    };\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    BaseSequenceBlock.prototype.clear = function () {\n        var _this = this;\n        this.countInput.val(0);\n        this.sequenceContainer.empty();\n        this.children = [];\n        this.blockCounter = 0;\n        // Create initial insertion control\n        var placeholder = document.createElement('div');\n        this.sequenceContainer.append(placeholder);\n        this.inserters = [\n            this._createInsertionControl(placeholder, {\n                index: 0,\n                onRequestInsert: function (newIndex, opts) {\n                    _this._onRequestInsert(newIndex, opts);\n                },\n                strings: this.blockDef.meta.strings\n            }),\n        ];\n        this.blockCountChanged();\n    };\n    BaseSequenceBlock.prototype._onRequestInsert = function (index, opts) {\n        /* handler for an 'insert new block' action */\n        var _a = __read(this._getChildDataForInsertion(opts), 3), blockDef = _a[0], initialState = _a[1], id = _a[2];\n        this._insert(blockDef, initialState, id || null, index, {\n            animate: true,\n            focus: true\n        });\n    };\n    BaseSequenceBlock.prototype.blockCountChanged = function () {\n        /* Called whenever the block count has changed; subclasses can override this to apply\n        checks on max block count and disable insert / duplicate controls accordingly */\n    };\n    BaseSequenceBlock.prototype._insert = function (childBlockDef, initialState, id, index, opts) {\n        var _this = this;\n        var prefix = this.prefix + '-' + this.blockCounter;\n        var animate = opts && opts.animate;\n        var focus = opts && opts.focus;\n        var collapsed = opts && opts.collapsed;\n        this.blockCounter += 1;\n        /*\n        a new inserter and block will be inserted AFTER the inserter with the given index;\n        e.g if there are 3 blocks the children of sequenceContainer will be\n        [inserter 0, block 0, inserter 1, block 1, inserter 2, block 2, inserter 3]\n        and inserting a new block at index 1 will create a new block 1 and inserter 2 after the\n        current inserter 1, and increment everything after that point\n        */\n        var existingInserterElement = this.inserters[index].element;\n        var blockPlaceholder = document.createElement('div');\n        var inserterPlaceholder = document.createElement('div');\n        $(blockPlaceholder).insertAfter(existingInserterElement);\n        $(inserterPlaceholder).insertAfter(blockPlaceholder);\n        /* shuffle up indexes of all blocks / inserters above this index */\n        (0, range_1.range)(index, this.children.length).forEach(function (i) {\n            _this.children[i].setIndex(i + 1);\n        });\n        (0, range_1.range)(index + 1, this.inserters.length).forEach(function (i) {\n            _this.inserters[i].setIndex(i + 1);\n        });\n        var child = this._createChild(childBlockDef, blockPlaceholder, prefix, index, id, initialState, this, {\n            animate: animate,\n            focus: focus,\n            collapsed: collapsed,\n            strings: this.blockDef.meta.strings\n        });\n        this.children.splice(index, 0, child);\n        var inserter = this._createInsertionControl(inserterPlaceholder, {\n            index: index + 1,\n            onRequestInsert: function (newIndex, inserterOpts) {\n                _this._onRequestInsert(newIndex, inserterOpts);\n            },\n            strings: this.blockDef.meta.strings,\n            animate: animate\n        });\n        this.inserters.splice(index + 1, 0, inserter);\n        this.countInput.val(this.blockCounter);\n        var isFirstChild = index === 0;\n        var isLastChild = index === this.children.length - 1;\n        if (!isFirstChild) {\n            child.enableMoveUp();\n            if (isLastChild) {\n                /* previous child (which was previously the last one) can now move down */\n                this.children[index - 1].enableMoveDown();\n            }\n        }\n        if (!isLastChild) {\n            child.enableMoveDown();\n            if (isFirstChild) {\n                /* next child (which was previously the first one) can now move up */\n                this.children[index + 1].enableMoveUp();\n            }\n        }\n        this.blockCountChanged();\n        return child;\n    };\n    BaseSequenceBlock.prototype.deleteBlock = function (index, opts) {\n        var _this = this;\n        var animate = opts && opts.animate;\n        this.children[index].markDeleted({ animate: animate });\n        this.inserters[index][\"delete\"]({ animate: animate });\n        this.children.splice(index, 1);\n        this.inserters.splice(index, 1);\n        /* index numbers of children / inserters above this index now need updating to match\n        their array indexes */\n        (0, range_1.range)(index, this.children.length).forEach(function (i) {\n            _this.children[i].setIndex(i);\n        });\n        (0, range_1.range)(index, this.inserters.length).forEach(function (i) {\n            _this.inserters[i].setIndex(i);\n        });\n        if (index === 0 && this.children.length > 0) {\n            /* we have removed the first child; the new first child cannot be moved up */\n            this.children[0].disableMoveUp();\n        }\n        if (index === this.children.length && this.children.length > 0) {\n            /* we have removed the last child; the new last child cannot be moved down */\n            this.children[this.children.length - 1].disableMoveDown();\n        }\n        this.blockCountChanged();\n    };\n    BaseSequenceBlock.prototype.moveBlock = function (oldIndex, newIndex) {\n        var _this = this;\n        if (oldIndex === newIndex)\n            return;\n        var inserterToMove = this.inserters[oldIndex];\n        var childToMove = this.children[oldIndex];\n        /* move HTML elements */\n        if (newIndex > oldIndex) {\n            $(inserterToMove.element).insertAfter(this.children[newIndex].element);\n        }\n        else {\n            $(inserterToMove.element).insertBefore(this.inserters[newIndex].element);\n        }\n        $(childToMove.element).insertAfter(inserterToMove.element);\n        /* reorder items in the `inserters` and `children` arrays */\n        this.inserters.splice(oldIndex, 1);\n        this.inserters.splice(newIndex, 0, inserterToMove);\n        this.children.splice(oldIndex, 1);\n        this.children.splice(newIndex, 0, childToMove);\n        /* update index properties of moved items */\n        if (newIndex > oldIndex) {\n            (0, range_1.range)(oldIndex, newIndex + 1).forEach(function (i) {\n                _this.inserters[i].setIndex(i);\n                _this.children[i].setIndex(i);\n            });\n        }\n        else {\n            (0, range_1.range)(newIndex, oldIndex + 1).forEach(function (i) {\n                _this.inserters[i].setIndex(i);\n                _this.children[i].setIndex(i);\n            });\n        }\n        /* enable/disable up/down arrows as required */\n        var maxIndex = this.children.length - 1;\n        if (oldIndex === 0) {\n            childToMove.enableMoveUp();\n            this.children[0].disableMoveUp();\n        }\n        if (oldIndex === maxIndex) {\n            childToMove.enableMoveDown();\n            this.children[maxIndex].disableMoveDown();\n        }\n        if (newIndex === 0) {\n            childToMove.disableMoveUp();\n            this.children[1].enableMoveUp();\n        }\n        if (newIndex === maxIndex) {\n            childToMove.disableMoveDown();\n            this.children[maxIndex - 1].enableMoveDown();\n        }\n    };\n    BaseSequenceBlock.prototype.moveBlockUp = function (index) {\n        this.moveBlock(index, index - 1);\n    };\n    BaseSequenceBlock.prototype.moveBlockDown = function (index) {\n        this.moveBlock(index, index + 1);\n    };\n    BaseSequenceBlock.prototype.setState = function (values) {\n        var _this = this;\n        this.clear();\n        values.forEach(function (val, i) {\n            _this.insert(val, i);\n        });\n    };\n    BaseSequenceBlock.prototype.getState = function () {\n        return this.children.map(function (child) { return child.getState(); });\n    };\n    BaseSequenceBlock.prototype.getDuplicatedState = function () {\n        return this.children.map(function (child) { return child.getDuplicatedState(); });\n    };\n    BaseSequenceBlock.prototype.getValue = function () {\n        return this.children.map(function (child) { return child.getValue(); });\n    };\n    BaseSequenceBlock.prototype.getTextLabel = function (opts) {\n        var e_1, _a;\n        /* Use as many child text labels as we can fit into maxLength */\n        var maxLength = opts && opts.maxLength;\n        var result = '';\n        try {\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                var childLabel = child.getTextLabel({ maxLength: maxLength });\n                if (childLabel) {\n                    if (!result) {\n                        // always use the first child, truncated as necessary\n                        result = childLabel;\n                    }\n                    else {\n                        var newResult = result + ', ' + childLabel;\n                        if (maxLength && newResult.length > maxLength - 1) {\n                            // too long, so don't add this; return the current list with an ellipsis instead\n                            if (!result.endsWith('…'))\n                                result += '…';\n                            return result;\n                        }\n                        result = newResult;\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return result;\n    };\n    BaseSequenceBlock.prototype.focus = function (opts) {\n        if (this.children.length) {\n            this.children[0].focus(opts);\n        }\n    };\n    return BaseSequenceBlock;\n}());\nexports.BaseSequenceBlock = BaseSequenceBlock;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL0Jhc2VTZXF1ZW5jZUJsb2NrLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vY2xpZW50L3NyYy9jb21wb25lbnRzL1N0cmVhbUZpZWxkL2Jsb2Nrcy9CYXNlU2VxdWVuY2VCbG9jay5qcz8xMWU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CYXNlU2VxdWVuY2VCbG9jayA9IGV4cG9ydHMuQmFzZUluc2VydGlvbkNvbnRyb2wgPSBleHBvcnRzLkJhc2VTZXF1ZW5jZUNoaWxkID0gdm9pZCAwO1xuLyogZ2xvYmFsICQgKi9cbnZhciB1dWlkXzEgPSByZXF1aXJlKFwidXVpZFwiKTtcbnZhciBldmVudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiZXZlbnRzXCIpKTtcbnZhciB0ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdGV4dFwiKTtcbnZhciBwYW5lbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9pbmNsdWRlcy9wYW5lbHNcIik7XG52YXIgcmFuZ2VfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9yYW5nZVwiKTtcbnZhciBBY3Rpb25CdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWN0aW9uQnV0dG9uKHNlcXVlbmNlQ2hpbGQpIHtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZUNoaWxkID0gc2VxdWVuY2VDaGlsZDtcbiAgICB9XG4gICAgQWN0aW9uQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBsYWJlbCA9IHRoaXMuc2VxdWVuY2VDaGlsZC5zdHJpbmdzW3RoaXMubGFiZWxJZGVudGlmaWVyXSB8fCB0aGlzLmxhYmVsSWRlbnRpZmllcjtcbiAgICAgICAgdGhpcy5kb20gPSAkKFwiXFxuICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gYnV0dG9uLS1pY29uIHRleHQtcmVwbGFjZSB3aGl0ZVxcXCIgdGl0bGU9XFxcIlwiLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKGxhYmVsKSwgXCJcXFwiPlxcbiAgICAgICAgPHN2ZyBjbGFzcz1cXFwiaWNvbiBpY29uLVwiKS5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKSh0aGlzLmljb24pLCBcIlxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPlxcbiAgICAgICAgICA8dXNlIGhyZWY9XFxcIiNpY29uLVwiKS5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKSh0aGlzLmljb24pLCBcIlxcXCI+PC91c2U+XFxuICAgICAgICA8L3N2Zz5cXG4gICAgICA8L2J1dHRvbj5cXG4gICAgXCIpKTtcbiAgICAgICAgdGhpcy5kb20ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9uQ2xpY2spXG4gICAgICAgICAgICAgICAgX3RoaXMub25DbGljaygpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBkb24ndCBwcm9wYWdhdGUgdG8gaGVhZGVyJ3Mgb25jbGljayBldmVudCAod2hpY2ggY29sbGFwc2VzIHRoZSBibG9jaylcbiAgICAgICAgfSk7XG4gICAgICAgICQoY29udGFpbmVyKS5hcHBlbmQodGhpcy5kb20pO1xuICAgICAgICBpZiAodGhpcy5lbmFibGVFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZUNoaWxkLm9uKHRoaXMuZW5hYmxlRXZlbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbmFibGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZUNoaWxkLm9uKHRoaXMuZGlzYWJsZUV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzYWJsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGx5RGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBY3Rpb25CdXR0b24ucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kb20ucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICB9O1xuICAgIEFjdGlvbkJ1dHRvbi5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kb20uYXR0cignZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbkJ1dHRvbjtcbn0oKSk7XG52YXIgTW92ZVVwQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNb3ZlVXBCdXR0b24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTW92ZVVwQnV0dG9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZW5hYmxlRXZlbnQgPSAnZW5hYmxlTW92ZVVwJztcbiAgICAgICAgX3RoaXMuZGlzYWJsZUV2ZW50ID0gJ2Rpc2FibGVNb3ZlVXAnO1xuICAgICAgICBfdGhpcy5pbml0aWFsbHlEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmljb24gPSAnYXJyb3ctdXAnO1xuICAgICAgICBfdGhpcy5sYWJlbElkZW50aWZpZXIgPSAnTU9WRV9VUCc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTW92ZVVwQnV0dG9uLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlcXVlbmNlQ2hpbGQubW92ZVVwKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTW92ZVVwQnV0dG9uO1xufShBY3Rpb25CdXR0b24pKTtcbnZhciBNb3ZlRG93bkJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTW92ZURvd25CdXR0b24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTW92ZURvd25CdXR0b24oKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5lbmFibGVFdmVudCA9ICdlbmFibGVNb3ZlRG93bic7XG4gICAgICAgIF90aGlzLmRpc2FibGVFdmVudCA9ICdkaXNhYmxlTW92ZURvd24nO1xuICAgICAgICBfdGhpcy5pbml0aWFsbHlEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmljb24gPSAnYXJyb3ctZG93bic7XG4gICAgICAgIF90aGlzLmxhYmVsSWRlbnRpZmllciA9ICdNT1ZFX0RPV04nO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1vdmVEb3duQnV0dG9uLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlcXVlbmNlQ2hpbGQubW92ZURvd24oKTtcbiAgICB9O1xuICAgIHJldHVybiBNb3ZlRG93bkJ1dHRvbjtcbn0oQWN0aW9uQnV0dG9uKSk7XG52YXIgRHVwbGljYXRlQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEdXBsaWNhdGVCdXR0b24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRHVwbGljYXRlQnV0dG9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZW5hYmxlRXZlbnQgPSAnZW5hYmxlRHVwbGljYXRpb24nO1xuICAgICAgICBfdGhpcy5kaXNhYmxlRXZlbnQgPSAnZGlzYWJsZUR1cGxpY2F0aW9uJztcbiAgICAgICAgX3RoaXMuaWNvbiA9ICdkdXBsaWNhdGUnO1xuICAgICAgICBfdGhpcy5sYWJlbElkZW50aWZpZXIgPSAnRFVQTElDQVRFJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEdXBsaWNhdGVCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VxdWVuY2VDaGlsZC5kdXBsaWNhdGUoeyBhbmltYXRlOiB0cnVlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIER1cGxpY2F0ZUJ1dHRvbjtcbn0oQWN0aW9uQnV0dG9uKSk7XG52YXIgRGVsZXRlQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZWxldGVCdXR0b24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVsZXRlQnV0dG9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWNvbiA9ICdiaW4nO1xuICAgICAgICBfdGhpcy5sYWJlbElkZW50aWZpZXIgPSAnREVMRVRFJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWxldGVCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VxdWVuY2VDaGlsZFtcImRlbGV0ZVwiXSh7IGFuaW1hdGU6IHRydWUgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsZXRlQnV0dG9uO1xufShBY3Rpb25CdXR0b24pKTtcbnZhciBCYXNlU2VxdWVuY2VDaGlsZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVNlcXVlbmNlQ2hpbGQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZVNlcXVlbmNlQ2hpbGQoYmxvY2tEZWYsIHBsYWNlaG9sZGVyLCBwcmVmaXgsIGluZGV4LCBpZCwgaW5pdGlhbFN0YXRlLCBzZXF1ZW5jZSwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfdGhpcy5ibG9ja0RlZiA9IGJsb2NrRGVmO1xuICAgICAgICBfdGhpcy50eXBlID0gYmxvY2tEZWYubmFtZTtcbiAgICAgICAgX3RoaXMucHJlZml4ID0gcHJlZml4O1xuICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICBfdGhpcy5pZCA9IGlkO1xuICAgICAgICBfdGhpcy5zZXF1ZW5jZSA9IHNlcXVlbmNlO1xuICAgICAgICB2YXIgYW5pbWF0ZSA9IG9wdHMgJiYgb3B0cy5hbmltYXRlO1xuICAgICAgICB2YXIgZm9jdXMgPSBvcHRzICYmIG9wdHMuZm9jdXM7XG4gICAgICAgIHZhciBjb2xsYXBzZWQgPSBvcHRzICYmIG9wdHMuY29sbGFwc2VkO1xuICAgICAgICBfdGhpcy5zdHJpbmdzID0gKG9wdHMgJiYgb3B0cy5zdHJpbmdzKSB8fCB7fTtcbiAgICAgICAgdmFyIHBhbmVsSWQgPSBcImJsb2NrLVwiLmNvbmNhdChpZCwgXCItc2VjdGlvblwiKTtcbiAgICAgICAgdmFyIGhlYWRpbmdJZCA9IFwiYmxvY2stXCIuY29uY2F0KGlkLCBcIi1oZWFkaW5nXCIpO1xuICAgICAgICB2YXIgY29udGVudElkID0gXCJibG9jay1cIi5jb25jYXQoaWQsIFwiLWNvbnRlbnRcIik7XG4gICAgICAgIHZhciBibG9ja1R5cGVJY29uID0gKDAsIHRleHRfMS5lc2NhcGVIdG1sKShfdGhpcy5ibG9ja0RlZi5tZXRhLmljb24pO1xuICAgICAgICB2YXIgYmxvY2tUeXBlTGFiZWwgPSAoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKF90aGlzLmJsb2NrRGVmLm1ldGEubGFiZWwpO1xuICAgICAgICB2YXIgZG9tID0gJChcIlxcbiAgICAgIDxkaXYgXCIuY29uY2F0KF90aGlzLmlkXG4gICAgICAgICAgICA/IFwiZGF0YS1jb250ZW50cGF0aD1cXFwiXCIuY29uY2F0KCgwLCB0ZXh0XzEuZXNjYXBlSHRtbCkoX3RoaXMuaWQpLCBcIlxcXCJcIilcbiAgICAgICAgICAgIDogJ2RhdGEtY29udGVudHBhdGgtZGlzYWJsZWQnLCBcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiICBuYW1lPVxcXCJcIikuY29uY2F0KF90aGlzLnByZWZpeCwgXCItZGVsZXRlZFxcXCIgdmFsdWU9XFxcIlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJcIikuY29uY2F0KF90aGlzLnByZWZpeCwgXCItb3JkZXJcXFwiIHZhbHVlPVxcXCJcIikuY29uY2F0KGluZGV4LCBcIlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJcIikuY29uY2F0KF90aGlzLnByZWZpeCwgXCItdHlwZVxcXCIgdmFsdWU9XFxcIlwiKS5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKShfdGhpcy50eXBlIHx8ICcnKSwgXCJcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiXCIpLmNvbmNhdChfdGhpcy5wcmVmaXgsIFwiLWlkXFxcIiB2YWx1ZT1cXFwiXCIpLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKF90aGlzLmlkIHx8ICcnKSwgXCJcXFwiPlxcbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XFxcInctcGFuZWwgdy1wYW5lbC0tbmVzdGVkXFxcIiBpZD1cXFwiXCIpLmNvbmNhdChwYW5lbElkLCBcIlxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJcIikuY29uY2F0KGhlYWRpbmdJZCwgXCJcXFwiIGRhdGEtcGFuZWw+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInctcGFuZWxfX2hlYWRlclxcXCI+XFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcInctcGFuZWxfX2FuY2hvciB3LXBhbmVsX19hbmNob3ItLXByZWZpeFxcXCIgaHJlZj1cXFwiI1wiKS5jb25jYXQocGFuZWxJZCwgXCJcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwiXCIpLmNvbmNhdChoZWFkaW5nSWQsIFwiXFxcIiBkYXRhLXBhbmVsLWFuY2hvcj5cXG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XFxcImljb24gaWNvbi1saW5rIHctcGFuZWxfX2ljb25cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHVzZSBocmVmPVxcXCIjaWNvbi1saW5rXFxcIj48L3VzZT5cXG4gICAgICAgICAgICAgIDwvc3ZnPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJ3LXBhbmVsX190b2dnbGVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgYXJpYS1sYWJlbD1cXFwiXCIpLmNvbmNhdCgnVG9nZ2xlIHNlY3Rpb24nLCBcIlxcXCIgYXJpYS1kZXNjcmliZWRieT1cXFwiXCIpLmNvbmNhdChoZWFkaW5nSWQsIFwiXFxcIiBkYXRhLXBhbmVsLXRvZ2dsZSBhcmlhLWNvbnRyb2xzPVxcXCJcIikuY29uY2F0KGNvbnRlbnRJZCwgXCJcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcInRydWVcXFwiPlxcbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cXFwiaWNvbiBpY29uLVwiKS5jb25jYXQoYmxvY2tUeXBlSWNvbiwgXCIgdy1wYW5lbF9faWNvblxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPlxcbiAgICAgICAgICAgICAgICA8dXNlIGhyZWY9XFxcIiNpY29uLVwiKS5jb25jYXQoYmxvY2tUeXBlSWNvbiwgXCJcXFwiPjwvdXNlPlxcbiAgICAgICAgICAgICAgPC9zdmc+XFxuICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgPGgyIGNsYXNzPVxcXCJ3LXBhbmVsX19oZWFkaW5nIHctcGFuZWxfX2hlYWRpbmctLWxhYmVsXFxcIiBhcmlhLWxldmVsPVxcXCIzXFxcIiBpZD1cXFwiXCIpLmNvbmNhdChoZWFkaW5nSWQsIFwiXFxcIiBkYXRhLXBhbmVsLWhlYWRpbmc+XFxuICAgICAgICAgICAgICA8c3BhbiBkYXRhLXBhbmVsLWhlYWRpbmctdGV4dCBjbGFzcz1cXFwiYy1zZi1ibG9ja19fdGl0bGVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjLXNmLWJsb2NrX190eXBlXFxcIj5cIikuY29uY2F0KGJsb2NrVHlwZUxhYmVsLCBcIjwvc3Bhbj5cXG4gICAgICAgICAgICAgIFwiKS5jb25jYXQoYmxvY2tEZWYubWV0YS5yZXF1aXJlZFxuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJ3LXJlcXVpcmVkLW1hcmtcIiBkYXRhLXBhbmVsLXJlcXVpcmVkPio8L3NwYW4+J1xuICAgICAgICAgICAgOiAnJywgXCJcXG4gICAgICAgICAgICA8L2gyPlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJ3LXBhbmVsX19hbmNob3Igdy1wYW5lbF9fYW5jaG9yLS1zdWZmaXhcXFwiIGhyZWY9XFxcIiNcIikuY29uY2F0KHBhbmVsSWQsIFwiXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcIlwiKS5jb25jYXQoaGVhZGluZ0lkLCBcIlxcXCI+XFxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVxcXCJpY29uIGljb24tbGluayB3LXBhbmVsX19pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+XFxuICAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cXFwiI2ljb24tbGlua1xcXCI+PC91c2U+XFxuICAgICAgICAgICAgICA8L3N2Zz5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidy1wYW5lbF9fZGl2aWRlclxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwidy1wYW5lbF9fY29udHJvbHNcXFwiIGRhdGEtcGFuZWwtY29udHJvbHM+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3LXBhbmVsX19jb250cm9scy1jdWVcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVxcXCJpY29uIGljb24tZG90cy1ob3Jpem9udGFsIHctcGFuZWxfX2ljb25cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8dXNlIGhyZWY9XFxcIiNpY29uLWRvdHMtaG9yaXpvbnRhbFxcXCI+PC91c2U+XFxuICAgICAgICAgICAgICAgIDwvc3ZnPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGlkPVxcXCJcIikuY29uY2F0KGNvbnRlbnRJZCwgXCJcXFwiIGNsYXNzPVxcXCJ3LXBhbmVsX19jb250ZW50XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGRhdGEtc3RyZWFtZmllbGQtYmxvY2s+PC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9zZWN0aW9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICBcIikpO1xuICAgICAgICAkKHBsYWNlaG9sZGVyKS5yZXBsYWNlV2l0aChkb20pO1xuICAgICAgICBfdGhpcy5lbGVtZW50ID0gZG9tLmdldCgwKTtcbiAgICAgICAgdmFyIGJsb2NrRWxlbWVudCA9IGRvbS5maW5kKCdbZGF0YS1zdHJlYW1maWVsZC1ibG9ja10nKS5nZXQoMCk7XG4gICAgICAgIF90aGlzLmFjdGlvbnNDb250YWluZXJFbGVtZW50ID0gZG9tLmZpbmQoJ1tkYXRhLXBhbmVsLWNvbnRyb2xzXScpLmdldCgwKTtcbiAgICAgICAgX3RoaXMudGl0bGVFbGVtZW50ID0gZG9tLmZpbmQoJ1tkYXRhLXBhbmVsLWhlYWRpbmctdGV4dF0nKTtcbiAgICAgICAgX3RoaXMudG9nZ2xlRWxlbWVudCA9IF90aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFuZWwtdG9nZ2xlXScpO1xuICAgICAgICBfdGhpcy5kZWxldGVkSW5wdXQgPSBkb20uZmluZChcImlucHV0W25hbWU9XFxcIlwiLmNvbmNhdChfdGhpcy5wcmVmaXgsIFwiLWRlbGV0ZWRcXFwiXVwiKSk7XG4gICAgICAgIF90aGlzLmluZGV4SW5wdXQgPSBkb20uZmluZChcImlucHV0W25hbWU9XFxcIlwiLmNvbmNhdChfdGhpcy5wcmVmaXgsIFwiLW9yZGVyXFxcIl1cIikpO1xuICAgICAgICBfdGhpcy5hZGRBY3Rpb25CdXR0b24obmV3IE1vdmVVcEJ1dHRvbihfdGhpcykpO1xuICAgICAgICBfdGhpcy5hZGRBY3Rpb25CdXR0b24obmV3IE1vdmVEb3duQnV0dG9uKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmFkZEFjdGlvbkJ1dHRvbihuZXcgRHVwbGljYXRlQnV0dG9uKF90aGlzKSk7XG4gICAgICAgIF90aGlzLmFkZEFjdGlvbkJ1dHRvbihuZXcgRGVsZXRlQnV0dG9uKF90aGlzKSk7XG4gICAgICAgIHZhciBjYXBhYmlsaXRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNhcGFiaWxpdGllcy5zZXQoJ2R1cGxpY2F0ZScsIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBmbjogX3RoaXMuZHVwbGljYXRlXG4gICAgICAgIH0pO1xuICAgICAgICBjYXBhYmlsaXRpZXMuc2V0KCdzcGxpdCcsIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBmbjogX3RoaXMuc3BsaXQuYmluZChfdGhpcylcbiAgICAgICAgfSk7XG4gICAgICAgIGNhcGFiaWxpdGllcy5zZXQoJ2FkZFNpYmxpbmcnLCB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgZm46IF90aGlzLmFkZFNpYmxpbmcuYmluZChfdGhpcyksXG4gICAgICAgICAgICBibG9ja0dyb3VwczogX3RoaXMuc2VxdWVuY2UuZ2V0QmxvY2tHcm91cHMoKSxcbiAgICAgICAgICAgIGdldEJsb2NrQ291bnQ6IF90aGlzLnNlcXVlbmNlLmdldEJsb2NrQ291bnQuYmluZChfdGhpcy5zZXF1ZW5jZSksXG4gICAgICAgICAgICBnZXRCbG9ja01heDogX3RoaXMuc2VxdWVuY2UuZ2V0QmxvY2tNYXguYmluZChfdGhpcy5zZXF1ZW5jZSlcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLmJsb2NrID0gX3RoaXMuYmxvY2tEZWYucmVuZGVyKGJsb2NrRWxlbWVudCwgX3RoaXMucHJlZml4ICsgJy12YWx1ZScsIGluaXRpYWxTdGF0ZSwgdW5kZWZpbmVkLCBjYXBhYmlsaXRpZXMpO1xuICAgICAgICAoMCwgcGFuZWxzXzEuaW5pdENvbGxhcHNpYmxlUGFuZWwpKF90aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcGFuZWwtdG9nZ2xlXScpKTtcbiAgICAgICAgaWYgKGNvbGxhcHNlZCkge1xuICAgICAgICAgICAgX3RoaXMuY29sbGFwc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy50b2dnbGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dhZ3RhaWw6cGFuZWwtdG9nZ2xlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gX3RoaXMuZ2V0VGV4dExhYmVsKHsgbWF4TGVuZ3RoOiA1MCB9KTtcbiAgICAgICAgICAgIF90aGlzLnRpdGxlRWxlbWVudC50ZXh0KGxhYmVsIHx8ICcnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFNldCBpbiBpbml0aWFsaXNhdGlvbiByZWdhcmRsZXNzIG9mIGJsb2NrIHN0YXRlIGZvciBzY3JlZW4gcmVhZGVyIHVzZXJzLlxuICAgICAgICB2YXIgdGV4dExhYmVsID0gX3RoaXMuZ2V0VGV4dExhYmVsKHsgbWF4TGVuZ3RoOiA1MCB9KTtcbiAgICAgICAgX3RoaXMudGl0bGVFbGVtZW50LnRleHQodGV4dExhYmVsIHx8ICcnKTtcbiAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAgIGRvbS5oaWRlKCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb20uc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgaWYgKGZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvY3VzIHRoaXMgZmllbGQgaWYgd2UgY2FuIGRvIHNvIHdpdGhvdXQgb2J0cnVzaXZlIFVJIGJlaGF2aW91clxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ibG9jay5mb2N1cyh7IHNvZnQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvY3VzKSB7XG4gICAgICAgICAgICAvLyBmb2N1cyB0aGlzIGZpZWxkIGlmIHdlIGNhbiBkbyBzbyB3aXRob3V0IG9idHJ1c2l2ZSBVSSBiZWhhdmlvdXJcbiAgICAgICAgICAgIF90aGlzLmJsb2NrLmZvY3VzKHsgc29mdDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEJhc2VTZXF1ZW5jZUNoaWxkLnByb3RvdHlwZS5hZGRBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5yZW5kZXIodGhpcy5hY3Rpb25zQ29udGFpbmVyRWxlbWVudCk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuYWRkU2libGluZyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIHRoaXMuc2VxdWVuY2UuX29uUmVxdWVzdEluc2VydCh0aGlzLmluZGV4ICsgMSwgb3B0cyk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUubW92ZVVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlcXVlbmNlLm1vdmVCbG9ja1VwKHRoaXMuaW5kZXgpO1xuICAgIH07XG4gICAgQmFzZVNlcXVlbmNlQ2hpbGQucHJvdG90eXBlLm1vdmVEb3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlcXVlbmNlLm1vdmVCbG9ja0Rvd24odGhpcy5pbmRleCk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZHVwbGljYXRlID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZS5kdXBsaWNhdGVCbG9jayh0aGlzLmluZGV4LCBvcHRzKTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUNoaWxkLnByb3RvdHlwZVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIHRoaXMuc2VxdWVuY2UuZGVsZXRlQmxvY2sodGhpcy5pbmRleCwgb3B0cyk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUubWFya0RlbGV0ZWQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EuYW5pbWF0ZSwgYW5pbWF0ZSA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iO1xuICAgICAgICB0aGlzLmRlbGV0ZWRJbnB1dC52YWwoJzEnKTtcbiAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5zbGlkZVVwKCkuZGVxdWV1ZSgpLmZhZGVPdXQoKS5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuaGlkZSgpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbmZvcm0gdGhlIGNvbW1lbnQgYXBwIHRoYXQgdGhlIGNvbnRlbnQgcGF0aCBvZiB0aGlzIGJsb2NrIGlzIG5vIGxvbmdlciB2YWxpZFxuICAgICAgICAvLyBUaGlzIHdpbGwgaGlkZSBhbnkgY29tbWVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgb24gdGhlIGJsb2NrXG4gICAgICAgIHZhciBjb250ZW50UGF0aCA9IHRoaXMuZ2V0Q29udGVudFBhdGgoKTtcbiAgICAgICAgaWYgKGNvbnRlbnRQYXRoICYmIHdpbmRvdy5jb21tZW50cy5jb21tZW50QXBwKSB7XG4gICAgICAgICAgICB3aW5kb3cuY29tbWVudHMuY29tbWVudEFwcC5pbnZhbGlkYXRlQ29udGVudFBhdGgoY29udGVudFBhdGgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZ2V0Q29udGVudFBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHdpbmRvdy5jb21tZW50cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldENvbnRlbnRQYXRoKHRoaXMuZWxlbWVudCk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZW5hYmxlRHVwbGljYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZW5hYmxlRHVwbGljYXRpb24nKTtcbiAgICAgICAgaWYgKHRoaXMuYmxvY2sgJiYgdGhpcy5ibG9jay5zZXRDYXBhYmlsaXR5T3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5ibG9jay5zZXRDYXBhYmlsaXR5T3B0aW9ucygnZHVwbGljYXRlJywgeyBlbmFibGVkOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZGlzYWJsZUR1cGxpY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc2FibGVEdXBsaWNhdGlvbicpO1xuICAgICAgICBpZiAodGhpcy5ibG9jayAmJiB0aGlzLmJsb2NrLnNldENhcGFiaWxpdHlPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmJsb2NrLnNldENhcGFiaWxpdHlPcHRpb25zKCdkdXBsaWNhdGUnLCB7IGVuYWJsZWQ6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZW5hYmxlU3BsaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJsb2NrICYmIHRoaXMuYmxvY2suc2V0Q2FwYWJpbGl0eU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYmxvY2suc2V0Q2FwYWJpbGl0eU9wdGlvbnMoJ3NwbGl0JywgeyBlbmFibGVkOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZGlzYWJsZVNwbGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ibG9jayAmJiB0aGlzLmJsb2NrLnNldENhcGFiaWxpdHlPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmJsb2NrLnNldENhcGFiaWxpdHlPcHRpb25zKCdzcGxpdCcsIHsgZW5hYmxlZDogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUNoaWxkLnByb3RvdHlwZS5lbmFibGVNb3ZlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZW5hYmxlTW92ZVVwJyk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZGlzYWJsZU1vdmVVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNhYmxlTW92ZVVwJyk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZW5hYmxlTW92ZURvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZW5hYmxlTW92ZURvd24nKTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUNoaWxkLnByb3RvdHlwZS5kaXNhYmxlTW92ZURvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzYWJsZU1vdmVEb3duJyk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuc2V0SW5kZXggPSBmdW5jdGlvbiAobmV3SW5kZXgpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IG5ld0luZGV4O1xuICAgICAgICB0aGlzLmluZGV4SW5wdXQudmFsKG5ld0luZGV4KTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUNoaWxkLnByb3RvdHlwZS5zZXRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLmJsb2NrLnNldEVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUNoaWxkLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIHRoaXMuYmxvY2suZm9jdXMob3B0cyk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuZ2V0VGV4dExhYmVsID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuYmxvY2suZ2V0VGV4dExhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9jay5nZXRUZXh0TGFiZWwob3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VDaGlsZC5wcm90b3R5cGUuY29sbGFwc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICgwLCBwYW5lbHNfMS50b2dnbGVDb2xsYXBzaWJsZVBhbmVsKSh0aGlzLnRvZ2dsZUVsZW1lbnQsIGZhbHNlKTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUNoaWxkLnByb3RvdHlwZS5nZXREdXBsaWNhdGVkU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogKDAsIHV1aWRfMS52NCkoKSxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmJsb2NrLmdldER1cGxpY2F0ZWRTdGF0ZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB0aGlzLmJsb2NrLmdldFN0YXRlKClcbiAgICAgICAgICAgICAgICA6IHRoaXMuYmxvY2suZ2V0RHVwbGljYXRlZFN0YXRlKClcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlU2VxdWVuY2VDaGlsZDtcbn0oZXZlbnRzXzFbXCJkZWZhdWx0XCJdKSk7XG5leHBvcnRzLkJhc2VTZXF1ZW5jZUNoaWxkID0gQmFzZVNlcXVlbmNlQ2hpbGQ7XG52YXIgQmFzZUluc2VydGlvbkNvbnRyb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyogQmFzZSBjbGFzcyBmb3IgY29udHJvbHMgdGhhdCBhcHBlYXIgYmV0d2VlbiBibG9ja3MgaW4gYSBzZXF1ZW5jZSwgdG8gYWxsb3cgaW5zZXJ0aW5nIG5ld1xuICAgIGJsb2NrcyBhdCB0aGF0IHBvaW50LiBTdWJjbGFzc2VzIHNob3VsZCByZW5kZXIgYW4gSFRNTCBzdHJ1Y3R1cmUgd2l0aCBhIHNpbmdsZSByb290IGVsZW1lbnRcbiAgICAocmVwbGFjaW5nIHRoZSBwbGFjZWhvbGRlciBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yKSBhbmQgc2V0IGl0IGFzIHRoaXMuZWxlbWVudC5cbiAgICBXaGVuIHRoZSB1c2VyIHJlcXVlc3RzIHRvIGluc2VydCBhIGJsb2NrLCB3ZSBjYWxsIG9uUmVxdWVzdEluc2VydCBwYXNzaW5nIHRoZSBpbmRleCBudW1iZXJcbiAgICBhbmQgYSBkaWN0IG9mIGNvbnRyb2wtc3BlY2lmaWMgb3B0aW9ucy4gKi9cbiAgICBmdW5jdGlvbiBCYXNlSW5zZXJ0aW9uQ29udHJvbChwbGFjZWhvbGRlciwgb3B0cykge1xuICAgICAgICB0aGlzLmluZGV4ID0gb3B0cyAmJiBvcHRzLmluZGV4O1xuICAgICAgICB0aGlzLm9uUmVxdWVzdEluc2VydCA9IG9wdHMgJiYgb3B0cy5vblJlcXVlc3RJbnNlcnQ7XG4gICAgfVxuICAgIEJhc2VJbnNlcnRpb25Db250cm9sLnByb3RvdHlwZS5zZXRJbmRleCA9IGZ1bmN0aW9uIChuZXdJbmRleCkge1xuICAgICAgICB0aGlzLmluZGV4ID0gbmV3SW5kZXg7XG4gICAgfTtcbiAgICBCYXNlSW5zZXJ0aW9uQ29udHJvbC5wcm90b3R5cGVbXCJkZWxldGVcIl0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EuYW5pbWF0ZSwgYW5pbWF0ZSA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iO1xuICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnNsaWRlVXAoKS5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMuZWxlbWVudCkuaGlkZSgpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJhc2VJbnNlcnRpb25Db250cm9sO1xufSgpKTtcbmV4cG9ydHMuQmFzZUluc2VydGlvbkNvbnRyb2wgPSBCYXNlSW5zZXJ0aW9uQ29udHJvbDtcbnZhciBCYXNlU2VxdWVuY2VCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNlU2VxdWVuY2VCbG9jaygpIHtcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLl9jcmVhdGVDaGlsZCA9IGZ1bmN0aW9uIChibG9ja0RlZiwgcGxhY2Vob2xkZXIsIHByZWZpeCwgaW5kZXgsIGlkLCBpbml0aWFsU3RhdGUsIHNlcXVlbmNlLCBvcHRzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VCbG9jay5wcm90b3R5cGUuX2NyZWF0ZUluc2VydGlvbkNvbnRyb2wgPSBmdW5jdGlvbiAocGxhY2Vob2xkZXIsIG9wdHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUJsb2NrLnByb3RvdHlwZS5fZ2V0Q2hpbGREYXRhRm9ySW5zZXJ0aW9uID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUJsb2NrLnByb3RvdHlwZS5nZXRCbG9ja0dyb3VwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvdW50SW5wdXQudmFsKDApO1xuICAgICAgICB0aGlzLnNlcXVlbmNlQ29udGFpbmVyLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5ibG9ja0NvdW50ZXIgPSAwO1xuICAgICAgICAvLyBDcmVhdGUgaW5pdGlhbCBpbnNlcnRpb24gY29udHJvbFxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZUNvbnRhaW5lci5hcHBlbmQocGxhY2Vob2xkZXIpO1xuICAgICAgICB0aGlzLmluc2VydGVycyA9IFtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUluc2VydGlvbkNvbnRyb2wocGxhY2Vob2xkZXIsIHtcbiAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICBvblJlcXVlc3RJbnNlcnQ6IGZ1bmN0aW9uIChuZXdJbmRleCwgb3B0cykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25SZXF1ZXN0SW5zZXJ0KG5ld0luZGV4LCBvcHRzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cmluZ3M6IHRoaXMuYmxvY2tEZWYubWV0YS5zdHJpbmdzXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5ibG9ja0NvdW50Q2hhbmdlZCgpO1xuICAgIH07XG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLl9vblJlcXVlc3RJbnNlcnQgPSBmdW5jdGlvbiAoaW5kZXgsIG9wdHMpIHtcbiAgICAgICAgLyogaGFuZGxlciBmb3IgYW4gJ2luc2VydCBuZXcgYmxvY2snIGFjdGlvbiAqL1xuICAgICAgICB2YXIgX2EgPSBfX3JlYWQodGhpcy5fZ2V0Q2hpbGREYXRhRm9ySW5zZXJ0aW9uKG9wdHMpLCAzKSwgYmxvY2tEZWYgPSBfYVswXSwgaW5pdGlhbFN0YXRlID0gX2FbMV0sIGlkID0gX2FbMl07XG4gICAgICAgIHRoaXMuX2luc2VydChibG9ja0RlZiwgaW5pdGlhbFN0YXRlLCBpZCB8fCBudWxsLCBpbmRleCwge1xuICAgICAgICAgICAgYW5pbWF0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGZvY3VzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLmJsb2NrQ291bnRDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiBDYWxsZWQgd2hlbmV2ZXIgdGhlIGJsb2NrIGNvdW50IGhhcyBjaGFuZ2VkOyBzdWJjbGFzc2VzIGNhbiBvdmVycmlkZSB0aGlzIHRvIGFwcGx5XG4gICAgICAgIGNoZWNrcyBvbiBtYXggYmxvY2sgY291bnQgYW5kIGRpc2FibGUgaW5zZXJ0IC8gZHVwbGljYXRlIGNvbnRyb2xzIGFjY29yZGluZ2x5ICovXG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VCbG9jay5wcm90b3R5cGUuX2luc2VydCA9IGZ1bmN0aW9uIChjaGlsZEJsb2NrRGVmLCBpbml0aWFsU3RhdGUsIGlkLCBpbmRleCwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcHJlZml4ID0gdGhpcy5wcmVmaXggKyAnLScgKyB0aGlzLmJsb2NrQ291bnRlcjtcbiAgICAgICAgdmFyIGFuaW1hdGUgPSBvcHRzICYmIG9wdHMuYW5pbWF0ZTtcbiAgICAgICAgdmFyIGZvY3VzID0gb3B0cyAmJiBvcHRzLmZvY3VzO1xuICAgICAgICB2YXIgY29sbGFwc2VkID0gb3B0cyAmJiBvcHRzLmNvbGxhcHNlZDtcbiAgICAgICAgdGhpcy5ibG9ja0NvdW50ZXIgKz0gMTtcbiAgICAgICAgLypcbiAgICAgICAgYSBuZXcgaW5zZXJ0ZXIgYW5kIGJsb2NrIHdpbGwgYmUgaW5zZXJ0ZWQgQUZURVIgdGhlIGluc2VydGVyIHdpdGggdGhlIGdpdmVuIGluZGV4O1xuICAgICAgICBlLmcgaWYgdGhlcmUgYXJlIDMgYmxvY2tzIHRoZSBjaGlsZHJlbiBvZiBzZXF1ZW5jZUNvbnRhaW5lciB3aWxsIGJlXG4gICAgICAgIFtpbnNlcnRlciAwLCBibG9jayAwLCBpbnNlcnRlciAxLCBibG9jayAxLCBpbnNlcnRlciAyLCBibG9jayAyLCBpbnNlcnRlciAzXVxuICAgICAgICBhbmQgaW5zZXJ0aW5nIGEgbmV3IGJsb2NrIGF0IGluZGV4IDEgd2lsbCBjcmVhdGUgYSBuZXcgYmxvY2sgMSBhbmQgaW5zZXJ0ZXIgMiBhZnRlciB0aGVcbiAgICAgICAgY3VycmVudCBpbnNlcnRlciAxLCBhbmQgaW5jcmVtZW50IGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhhdCBwb2ludFxuICAgICAgICAqL1xuICAgICAgICB2YXIgZXhpc3RpbmdJbnNlcnRlckVsZW1lbnQgPSB0aGlzLmluc2VydGVyc1tpbmRleF0uZWxlbWVudDtcbiAgICAgICAgdmFyIGJsb2NrUGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmFyIGluc2VydGVyUGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgJChibG9ja1BsYWNlaG9sZGVyKS5pbnNlcnRBZnRlcihleGlzdGluZ0luc2VydGVyRWxlbWVudCk7XG4gICAgICAgICQoaW5zZXJ0ZXJQbGFjZWhvbGRlcikuaW5zZXJ0QWZ0ZXIoYmxvY2tQbGFjZWhvbGRlcik7XG4gICAgICAgIC8qIHNodWZmbGUgdXAgaW5kZXhlcyBvZiBhbGwgYmxvY2tzIC8gaW5zZXJ0ZXJzIGFib3ZlIHRoaXMgaW5kZXggKi9cbiAgICAgICAgKDAsIHJhbmdlXzEucmFuZ2UpKGluZGV4LCB0aGlzLmNoaWxkcmVuLmxlbmd0aCkuZm9yRWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgX3RoaXMuY2hpbGRyZW5baV0uc2V0SW5kZXgoaSArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgKDAsIHJhbmdlXzEucmFuZ2UpKGluZGV4ICsgMSwgdGhpcy5pbnNlcnRlcnMubGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBfdGhpcy5pbnNlcnRlcnNbaV0uc2V0SW5kZXgoaSArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5fY3JlYXRlQ2hpbGQoY2hpbGRCbG9ja0RlZiwgYmxvY2tQbGFjZWhvbGRlciwgcHJlZml4LCBpbmRleCwgaWQsIGluaXRpYWxTdGF0ZSwgdGhpcywge1xuICAgICAgICAgICAgYW5pbWF0ZTogYW5pbWF0ZSxcbiAgICAgICAgICAgIGZvY3VzOiBmb2N1cyxcbiAgICAgICAgICAgIGNvbGxhcHNlZDogY29sbGFwc2VkLFxuICAgICAgICAgICAgc3RyaW5nczogdGhpcy5ibG9ja0RlZi5tZXRhLnN0cmluZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gICAgICAgIHZhciBpbnNlcnRlciA9IHRoaXMuX2NyZWF0ZUluc2VydGlvbkNvbnRyb2woaW5zZXJ0ZXJQbGFjZWhvbGRlciwge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4ICsgMSxcbiAgICAgICAgICAgIG9uUmVxdWVzdEluc2VydDogZnVuY3Rpb24gKG5ld0luZGV4LCBpbnNlcnRlck9wdHMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fb25SZXF1ZXN0SW5zZXJ0KG5ld0luZGV4LCBpbnNlcnRlck9wdHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cmluZ3M6IHRoaXMuYmxvY2tEZWYubWV0YS5zdHJpbmdzLFxuICAgICAgICAgICAgYW5pbWF0ZTogYW5pbWF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnNlcnRlcnMuc3BsaWNlKGluZGV4ICsgMSwgMCwgaW5zZXJ0ZXIpO1xuICAgICAgICB0aGlzLmNvdW50SW5wdXQudmFsKHRoaXMuYmxvY2tDb3VudGVyKTtcbiAgICAgICAgdmFyIGlzRmlyc3RDaGlsZCA9IGluZGV4ID09PSAwO1xuICAgICAgICB2YXIgaXNMYXN0Q2hpbGQgPSBpbmRleCA9PT0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoIWlzRmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgY2hpbGQuZW5hYmxlTW92ZVVwKCk7XG4gICAgICAgICAgICBpZiAoaXNMYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAvKiBwcmV2aW91cyBjaGlsZCAod2hpY2ggd2FzIHByZXZpb3VzbHkgdGhlIGxhc3Qgb25lKSBjYW4gbm93IG1vdmUgZG93biAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXggLSAxXS5lbmFibGVNb3ZlRG93bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNMYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGNoaWxkLmVuYWJsZU1vdmVEb3duKCk7XG4gICAgICAgICAgICBpZiAoaXNGaXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgLyogbmV4dCBjaGlsZCAod2hpY2ggd2FzIHByZXZpb3VzbHkgdGhlIGZpcnN0IG9uZSkgY2FuIG5vdyBtb3ZlIHVwICovXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleCArIDFdLmVuYWJsZU1vdmVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmxvY2tDb3VudENoYW5nZWQoKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLmRlbGV0ZUJsb2NrID0gZnVuY3Rpb24gKGluZGV4LCBvcHRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhbmltYXRlID0gb3B0cyAmJiBvcHRzLmFuaW1hdGU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXhdLm1hcmtEZWxldGVkKHsgYW5pbWF0ZTogYW5pbWF0ZSB9KTtcbiAgICAgICAgdGhpcy5pbnNlcnRlcnNbaW5kZXhdW1wiZGVsZXRlXCJdKHsgYW5pbWF0ZTogYW5pbWF0ZSB9KTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmluc2VydGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAvKiBpbmRleCBudW1iZXJzIG9mIGNoaWxkcmVuIC8gaW5zZXJ0ZXJzIGFib3ZlIHRoaXMgaW5kZXggbm93IG5lZWQgdXBkYXRpbmcgdG8gbWF0Y2hcbiAgICAgICAgdGhlaXIgYXJyYXkgaW5kZXhlcyAqL1xuICAgICAgICAoMCwgcmFuZ2VfMS5yYW5nZSkoaW5kZXgsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBfdGhpcy5jaGlsZHJlbltpXS5zZXRJbmRleChpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICgwLCByYW5nZV8xLnJhbmdlKShpbmRleCwgdGhpcy5pbnNlcnRlcnMubGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBfdGhpcy5pbnNlcnRlcnNbaV0uc2V0SW5kZXgoaSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvKiB3ZSBoYXZlIHJlbW92ZWQgdGhlIGZpcnN0IGNoaWxkOyB0aGUgbmV3IGZpcnN0IGNoaWxkIGNhbm5vdCBiZSBtb3ZlZCB1cCAqL1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblswXS5kaXNhYmxlTW92ZVVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8qIHdlIGhhdmUgcmVtb3ZlZCB0aGUgbGFzdCBjaGlsZDsgdGhlIG5ldyBsYXN0IGNoaWxkIGNhbm5vdCBiZSBtb3ZlZCBkb3duICovXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uZGlzYWJsZU1vdmVEb3duKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibG9ja0NvdW50Q2hhbmdlZCgpO1xuICAgIH07XG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLm1vdmVCbG9jayA9IGZ1bmN0aW9uIChvbGRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9sZEluZGV4ID09PSBuZXdJbmRleClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGluc2VydGVyVG9Nb3ZlID0gdGhpcy5pbnNlcnRlcnNbb2xkSW5kZXhdO1xuICAgICAgICB2YXIgY2hpbGRUb01vdmUgPSB0aGlzLmNoaWxkcmVuW29sZEluZGV4XTtcbiAgICAgICAgLyogbW92ZSBIVE1MIGVsZW1lbnRzICovXG4gICAgICAgIGlmIChuZXdJbmRleCA+IG9sZEluZGV4KSB7XG4gICAgICAgICAgICAkKGluc2VydGVyVG9Nb3ZlLmVsZW1lbnQpLmluc2VydEFmdGVyKHRoaXMuY2hpbGRyZW5bbmV3SW5kZXhdLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJChpbnNlcnRlclRvTW92ZS5lbGVtZW50KS5pbnNlcnRCZWZvcmUodGhpcy5pbnNlcnRlcnNbbmV3SW5kZXhdLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgICQoY2hpbGRUb01vdmUuZWxlbWVudCkuaW5zZXJ0QWZ0ZXIoaW5zZXJ0ZXJUb01vdmUuZWxlbWVudCk7XG4gICAgICAgIC8qIHJlb3JkZXIgaXRlbXMgaW4gdGhlIGBpbnNlcnRlcnNgIGFuZCBgY2hpbGRyZW5gIGFycmF5cyAqL1xuICAgICAgICB0aGlzLmluc2VydGVycy5zcGxpY2Uob2xkSW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmluc2VydGVycy5zcGxpY2UobmV3SW5kZXgsIDAsIGluc2VydGVyVG9Nb3ZlKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2Uob2xkSW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShuZXdJbmRleCwgMCwgY2hpbGRUb01vdmUpO1xuICAgICAgICAvKiB1cGRhdGUgaW5kZXggcHJvcGVydGllcyBvZiBtb3ZlZCBpdGVtcyAqL1xuICAgICAgICBpZiAobmV3SW5kZXggPiBvbGRJbmRleCkge1xuICAgICAgICAgICAgKDAsIHJhbmdlXzEucmFuZ2UpKG9sZEluZGV4LCBuZXdJbmRleCArIDEpLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbnNlcnRlcnNbaV0uc2V0SW5kZXgoaSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2hpbGRyZW5baV0uc2V0SW5kZXgoaSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICgwLCByYW5nZV8xLnJhbmdlKShuZXdJbmRleCwgb2xkSW5kZXggKyAxKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5zZXJ0ZXJzW2ldLnNldEluZGV4KGkpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNoaWxkcmVuW2ldLnNldEluZGV4KGkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZW5hYmxlL2Rpc2FibGUgdXAvZG93biBhcnJvd3MgYXMgcmVxdWlyZWQgKi9cbiAgICAgICAgdmFyIG1heEluZGV4ID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgICBpZiAob2xkSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGNoaWxkVG9Nb3ZlLmVuYWJsZU1vdmVVcCgpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblswXS5kaXNhYmxlTW92ZVVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZEluZGV4ID09PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgY2hpbGRUb01vdmUuZW5hYmxlTW92ZURvd24oKTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bbWF4SW5kZXhdLmRpc2FibGVNb3ZlRG93bigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgY2hpbGRUb01vdmUuZGlzYWJsZU1vdmVVcCgpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblsxXS5lbmFibGVNb3ZlVXAoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SW5kZXggPT09IG1heEluZGV4KSB7XG4gICAgICAgICAgICBjaGlsZFRvTW92ZS5kaXNhYmxlTW92ZURvd24oKTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bbWF4SW5kZXggLSAxXS5lbmFibGVNb3ZlRG93bigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VCbG9jay5wcm90b3R5cGUubW92ZUJsb2NrVXAgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5tb3ZlQmxvY2soaW5kZXgsIGluZGV4IC0gMSk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VCbG9jay5wcm90b3R5cGUubW92ZUJsb2NrRG93biA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB0aGlzLm1vdmVCbG9jayhpbmRleCwgaW5kZXggKyAxKTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUJsb2NrLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpKSB7XG4gICAgICAgICAgICBfdGhpcy5pbnNlcnQodmFsLCBpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCYXNlU2VxdWVuY2VCbG9jay5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIGNoaWxkLmdldFN0YXRlKCk7IH0pO1xuICAgIH07XG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLmdldER1cGxpY2F0ZWRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQuZ2V0RHVwbGljYXRlZFN0YXRlKCk7IH0pO1xuICAgIH07XG4gICAgQmFzZVNlcXVlbmNlQmxvY2sucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZC5nZXRWYWx1ZSgpOyB9KTtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUJsb2NrLnByb3RvdHlwZS5nZXRUZXh0TGFiZWwgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgLyogVXNlIGFzIG1hbnkgY2hpbGQgdGV4dCBsYWJlbHMgYXMgd2UgY2FuIGZpdCBpbnRvIG1heExlbmd0aCAqL1xuICAgICAgICB2YXIgbWF4TGVuZ3RoID0gb3B0cyAmJiBvcHRzLm1heExlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLmNoaWxkcmVuKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZExhYmVsID0gY2hpbGQuZ2V0VGV4dExhYmVsKHsgbWF4TGVuZ3RoOiBtYXhMZW5ndGggfSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkTGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsd2F5cyB1c2UgdGhlIGZpcnN0IGNoaWxkLCB0cnVuY2F0ZWQgYXMgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjaGlsZExhYmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Jlc3VsdCA9IHJlc3VsdCArICcsICcgKyBjaGlsZExhYmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heExlbmd0aCAmJiBuZXdSZXN1bHQubGVuZ3RoID4gbWF4TGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvbyBsb25nLCBzbyBkb24ndCBhZGQgdGhpczsgcmV0dXJuIHRoZSBjdXJyZW50IGxpc3Qgd2l0aCBhbiBlbGxpcHNpcyBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZW5kc1dpdGgoJ+KApicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ+KApic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ld1Jlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iW1wicmV0dXJuXCJdKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEJhc2VTZXF1ZW5jZUJsb2NrLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblswXS5mb2N1cyhvcHRzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJhc2VTZXF1ZW5jZUJsb2NrO1xufSgpKTtcbmV4cG9ydHMuQmFzZVNlcXVlbmNlQmxvY2sgPSBCYXNlU2VxdWVuY2VCbG9jaztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./client/src/components/StreamField/blocks/BaseSequenceBlock.js\n");

/***/ }),

/***/ "./client/src/components/StreamField/blocks/FieldBlock.js":
/*!****************************************************************!*\
  !*** ./client/src/components/StreamField/blocks/FieldBlock.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.FieldBlockDefinition = exports.FieldBlock = void 0;\n/* global $ */\nvar react_dom_1 = __importDefault(__webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index-exposed.js\"));\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"./node_modules/react/index-exposed.js\"));\nvar text_1 = __webpack_require__(/*! ../../../utils/text */ \"./client/src/utils/text.ts\");\nvar Icon_1 = __importDefault(__webpack_require__(/*! ../../Icon/Icon */ \"./client/src/components/Icon/Icon.tsx\"));\nvar FieldBlock = /** @class */ (function () {\n    function FieldBlock(blockDef, placeholder, prefix, initialState, initialError, parentCapabilities) {\n        this.blockDef = blockDef;\n        this.type = blockDef.name;\n        // See field.html for the reference implementation of this markup.\n        var dom = $(\"\\n      <div class=\\\"w-field__wrapper\\\" data-field-wrapper>\\n        <div class=\\\"\".concat((0, text_1.escapeHtml)(this.blockDef.meta.classname), \"\\\" data-field>\\n          <div class=\\\"w-field__errors\\\" id=\\\"\").concat(prefix, \"-errors\\\" data-field-errors>\\n            <svg class=\\\"icon icon-warning w-field__errors-icon\\\" aria-hidden=\\\"true\\\" hidden><use href=\\\"#icon-warning\\\"></use></svg>\\n          </div>\\n          <div class=\\\"w-field__input\\\" data-field-input>\\n            <div data-streamfield-widget></div>\\n          </div>\\n          <div id=\\\"\").concat(prefix, \"-helptext\\\" data-field-help></div>\\n        </div>\\n      </div>\\n    \"));\n        $(placeholder).replaceWith(dom);\n        var widgetElement = dom.find('[data-streamfield-widget]').get(0);\n        this.element = dom[0];\n        this.field = this.element.querySelector('[data-field]');\n        this.parentCapabilities = parentCapabilities || new Map();\n        this.prefix = prefix;\n        try {\n            this.widget = this.blockDef.widget.render(widgetElement, prefix, prefix, initialState, this.parentCapabilities);\n        }\n        catch (e) {\n            // eslint-disable-next-line no-console\n            console.error(e);\n            this.setError([\n                {\n                    messages: [\n                        'This widget failed to render, please check the console for details',\n                    ]\n                },\n            ]);\n            return;\n        }\n        this.idForLabel = this.widget.idForLabel;\n        if (this.blockDef.meta.helpText) {\n            var helpElement = document.createElement('p');\n            helpElement.classList.add('help');\n            helpElement.innerHTML = this.blockDef.meta.helpText; // unescaped, as per Django conventions\n            this.field.querySelector('[data-field-help]').appendChild(helpElement);\n        }\n        if (window.comments && this.blockDef.meta.showAddCommentButton) {\n            var addCommentButtonElement = document.createElement('button');\n            addCommentButtonElement.type = 'button';\n            addCommentButtonElement.setAttribute('aria-label', blockDef.meta.strings.ADD_COMMENT);\n            addCommentButtonElement.setAttribute('data-comment-add', '');\n            addCommentButtonElement.classList.add('w-field__comment-button', 'w-field__comment-button--add', 'u-hidden');\n            react_dom_1[\"default\"].render(react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n                react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"comment-add\" }),\n                react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"comment-add-reversed\" })), addCommentButtonElement);\n            this.field.classList.add('w-field--commentable');\n            this.field\n                .querySelector('[data-field-input]')\n                .appendChild(addCommentButtonElement);\n            window.comments.initAddCommentButton(addCommentButtonElement);\n        }\n        if (initialError) {\n            this.setError(initialError);\n        }\n    }\n    FieldBlock.prototype.setCapabilityOptions = function (capability, options) {\n        Object.assign(this.parentCapabilities.get(capability), options);\n        if (this.widget && this.widget.setCapabilityOptions) {\n            this.widget.setCapabilityOptions(capability, options);\n        }\n    };\n    FieldBlock.prototype.setState = function (state) {\n        if (this.widget) {\n            this.widget.setState(state);\n        }\n    };\n    FieldBlock.prototype.setError = function (errorList) {\n        var errors = this.field.querySelector('[data-field-errors]');\n        errors\n            .querySelectorAll('.error-message')\n            .forEach(function (element) { return element.remove(); });\n        if (errorList) {\n            this.field.classList.add('w-field--error');\n            errors.querySelector('.icon').removeAttribute('hidden');\n            var errorElement = document.createElement('p');\n            errorElement.classList.add('error-message');\n            errorElement.innerHTML = errorList\n                .map(function (error) { return \"<span>\".concat((0, text_1.escapeHtml)(error.messages[0]), \"</span>\"); })\n                .join('');\n            errors.appendChild(errorElement);\n        }\n        else {\n            this.field.classList.remove('w-field--error');\n            errors.querySelector('.icon').setAttribute('hidden', 'true');\n        }\n    };\n    FieldBlock.prototype.getState = function () {\n        return this.widget.getState();\n    };\n    FieldBlock.prototype.getValue = function () {\n        return this.widget.getValue();\n    };\n    FieldBlock.prototype.getTextLabel = function (opts) {\n        if (this.widget.getTextLabel) {\n            return this.widget.getTextLabel(opts);\n        }\n        return null;\n    };\n    FieldBlock.prototype.focus = function (opts) {\n        if (this.widget) {\n            this.widget.focus(opts);\n        }\n    };\n    return FieldBlock;\n}());\nexports.FieldBlock = FieldBlock;\nvar FieldBlockDefinition = /** @class */ (function () {\n    function FieldBlockDefinition(name, widget, meta) {\n        this.name = name;\n        this.widget = widget;\n        this.meta = meta;\n    }\n    FieldBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError, parentCapabilities) {\n        return new FieldBlock(this, placeholder, prefix, initialState, initialError, parentCapabilities);\n    };\n    return FieldBlockDefinition;\n}());\nexports.FieldBlockDefinition = FieldBlockDefinition;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL0ZpZWxkQmxvY2suanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vY2xpZW50L3NyYy9jb21wb25lbnRzL1N0cmVhbUZpZWxkL2Jsb2Nrcy9GaWVsZEJsb2NrLmpzP2E3YmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5GaWVsZEJsb2NrRGVmaW5pdGlvbiA9IGV4cG9ydHMuRmllbGRCbG9jayA9IHZvaWQgMDtcbi8qIGdsb2JhbCAkICovXG52YXIgcmVhY3RfZG9tXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG52YXIgcmVhY3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xudmFyIHRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy90ZXh0XCIpO1xudmFyIEljb25fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vSWNvbi9JY29uXCIpKTtcbnZhciBGaWVsZEJsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpZWxkQmxvY2soYmxvY2tEZWYsIHBsYWNlaG9sZGVyLCBwcmVmaXgsIGluaXRpYWxTdGF0ZSwgaW5pdGlhbEVycm9yLCBwYXJlbnRDYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgdGhpcy5ibG9ja0RlZiA9IGJsb2NrRGVmO1xuICAgICAgICB0aGlzLnR5cGUgPSBibG9ja0RlZi5uYW1lO1xuICAgICAgICAvLyBTZWUgZmllbGQuaHRtbCBmb3IgdGhlIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIG1hcmt1cC5cbiAgICAgICAgdmFyIGRvbSA9ICQoXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ3LWZpZWxkX193cmFwcGVyXFxcIiBkYXRhLWZpZWxkLXdyYXBwZXI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIi5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKSh0aGlzLmJsb2NrRGVmLm1ldGEuY2xhc3NuYW1lKSwgXCJcXFwiIGRhdGEtZmllbGQ+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInctZmllbGRfX2Vycm9yc1xcXCIgaWQ9XFxcIlwiKS5jb25jYXQocHJlZml4LCBcIi1lcnJvcnNcXFwiIGRhdGEtZmllbGQtZXJyb3JzPlxcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XFxcImljb24gaWNvbi13YXJuaW5nIHctZmllbGRfX2Vycm9ycy1pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgaGlkZGVuPjx1c2UgaHJlZj1cXFwiI2ljb24td2FybmluZ1xcXCI+PC91c2U+PC9zdmc+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3LWZpZWxkX19pbnB1dFxcXCIgZGF0YS1maWVsZC1pbnB1dD5cXG4gICAgICAgICAgICA8ZGl2IGRhdGEtc3RyZWFtZmllbGQtd2lkZ2V0PjwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBpZD1cXFwiXCIpLmNvbmNhdChwcmVmaXgsIFwiLWhlbHB0ZXh0XFxcIiBkYXRhLWZpZWxkLWhlbHA+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpKTtcbiAgICAgICAgJChwbGFjZWhvbGRlcikucmVwbGFjZVdpdGgoZG9tKTtcbiAgICAgICAgdmFyIHdpZGdldEVsZW1lbnQgPSBkb20uZmluZCgnW2RhdGEtc3RyZWFtZmllbGQtd2lkZ2V0XScpLmdldCgwKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9tWzBdO1xuICAgICAgICB0aGlzLmZpZWxkID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZpZWxkXScpO1xuICAgICAgICB0aGlzLnBhcmVudENhcGFiaWxpdGllcyA9IHBhcmVudENhcGFiaWxpdGllcyB8fCBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucHJlZml4ID0gcHJlZml4O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQgPSB0aGlzLmJsb2NrRGVmLndpZGdldC5yZW5kZXIod2lkZ2V0RWxlbWVudCwgcHJlZml4LCBwcmVmaXgsIGluaXRpYWxTdGF0ZSwgdGhpcy5wYXJlbnRDYXBhYmlsaXRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RXJyb3IoW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUaGlzIHdpZGdldCBmYWlsZWQgdG8gcmVuZGVyLCBwbGVhc2UgY2hlY2sgdGhlIGNvbnNvbGUgZm9yIGRldGFpbHMnLFxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWRGb3JMYWJlbCA9IHRoaXMud2lkZ2V0LmlkRm9yTGFiZWw7XG4gICAgICAgIGlmICh0aGlzLmJsb2NrRGVmLm1ldGEuaGVscFRleHQpIHtcbiAgICAgICAgICAgIHZhciBoZWxwRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIGhlbHBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hlbHAnKTtcbiAgICAgICAgICAgIGhlbHBFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuYmxvY2tEZWYubWV0YS5oZWxwVGV4dDsgLy8gdW5lc2NhcGVkLCBhcyBwZXIgRGphbmdvIGNvbnZlbnRpb25zXG4gICAgICAgICAgICB0aGlzLmZpZWxkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZpZWxkLWhlbHBdJykuYXBwZW5kQ2hpbGQoaGVscEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuY29tbWVudHMgJiYgdGhpcy5ibG9ja0RlZi5tZXRhLnNob3dBZGRDb21tZW50QnV0dG9uKSB7XG4gICAgICAgICAgICB2YXIgYWRkQ29tbWVudEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIGFkZENvbW1lbnRCdXR0b25FbGVtZW50LnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICAgIGFkZENvbW1lbnRCdXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGJsb2NrRGVmLm1ldGEuc3RyaW5ncy5BRERfQ09NTUVOVCk7XG4gICAgICAgICAgICBhZGRDb21tZW50QnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29tbWVudC1hZGQnLCAnJyk7XG4gICAgICAgICAgICBhZGRDb21tZW50QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd3LWZpZWxkX19jb21tZW50LWJ1dHRvbicsICd3LWZpZWxkX19jb21tZW50LWJ1dHRvbi0tYWRkJywgJ3UtaGlkZGVuJyk7XG4gICAgICAgICAgICByZWFjdF9kb21fMVtcImRlZmF1bHRcIl0ucmVuZGVyKHJlYWN0XzFbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQocmVhY3RfMVtcImRlZmF1bHRcIl0uRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgcmVhY3RfMVtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChJY29uXzFbXCJkZWZhdWx0XCJdLCB7IG5hbWU6IFwiY29tbWVudC1hZGRcIiB9KSxcbiAgICAgICAgICAgICAgICByZWFjdF8xW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KEljb25fMVtcImRlZmF1bHRcIl0sIHsgbmFtZTogXCJjb21tZW50LWFkZC1yZXZlcnNlZFwiIH0pKSwgYWRkQ29tbWVudEJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5maWVsZC5jbGFzc0xpc3QuYWRkKCd3LWZpZWxkLS1jb21tZW50YWJsZScpO1xuICAgICAgICAgICAgdGhpcy5maWVsZFxuICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1maWVsZC1pbnB1dF0nKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRDaGlsZChhZGRDb21tZW50QnV0dG9uRWxlbWVudCk7XG4gICAgICAgICAgICB3aW5kb3cuY29tbWVudHMuaW5pdEFkZENvbW1lbnRCdXR0b24oYWRkQ29tbWVudEJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbml0aWFsRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RXJyb3IoaW5pdGlhbEVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBGaWVsZEJsb2NrLnByb3RvdHlwZS5zZXRDYXBhYmlsaXR5T3B0aW9ucyA9IGZ1bmN0aW9uIChjYXBhYmlsaXR5LCBvcHRpb25zKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wYXJlbnRDYXBhYmlsaXRpZXMuZ2V0KGNhcGFiaWxpdHkpLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0ICYmIHRoaXMud2lkZ2V0LnNldENhcGFiaWxpdHlPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC5zZXRDYXBhYmlsaXR5T3B0aW9ucyhjYXBhYmlsaXR5LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRmllbGRCbG9jay5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEZpZWxkQmxvY2sucHJvdG90eXBlLnNldEVycm9yID0gZnVuY3Rpb24gKGVycm9yTGlzdCkge1xuICAgICAgICB2YXIgZXJyb3JzID0gdGhpcy5maWVsZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1maWVsZC1lcnJvcnNdJyk7XG4gICAgICAgIGVycm9yc1xuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lcnJvci1tZXNzYWdlJylcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LnJlbW92ZSgpOyB9KTtcbiAgICAgICAgaWYgKGVycm9yTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5maWVsZC5jbGFzc0xpc3QuYWRkKCd3LWZpZWxkLS1lcnJvcicpO1xuICAgICAgICAgICAgZXJyb3JzLnF1ZXJ5U2VsZWN0b3IoJy5pY29uJykucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHZhciBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZXJyb3ItbWVzc2FnZScpO1xuICAgICAgICAgICAgZXJyb3JFbGVtZW50LmlubmVySFRNTCA9IGVycm9yTGlzdFxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBcIjxzcGFuPlwiLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKGVycm9yLm1lc3NhZ2VzWzBdKSwgXCI8L3NwYW4+XCIpOyB9KVxuICAgICAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgICAgICAgIGVycm9ycy5hcHBlbmRDaGlsZChlcnJvckVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5maWVsZC5jbGFzc0xpc3QucmVtb3ZlKCd3LWZpZWxkLS1lcnJvcicpO1xuICAgICAgICAgICAgZXJyb3JzLnF1ZXJ5U2VsZWN0b3IoJy5pY29uJykuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBGaWVsZEJsb2NrLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkZ2V0LmdldFN0YXRlKCk7XG4gICAgfTtcbiAgICBGaWVsZEJsb2NrLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkZ2V0LmdldFZhbHVlKCk7XG4gICAgfTtcbiAgICBGaWVsZEJsb2NrLnByb3RvdHlwZS5nZXRUZXh0TGFiZWwgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQuZ2V0VGV4dExhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53aWRnZXQuZ2V0VGV4dExhYmVsKG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRmllbGRCbG9jay5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmZvY3VzKG9wdHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmllbGRCbG9jaztcbn0oKSk7XG5leHBvcnRzLkZpZWxkQmxvY2sgPSBGaWVsZEJsb2NrO1xudmFyIEZpZWxkQmxvY2tEZWZpbml0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpZWxkQmxvY2tEZWZpbml0aW9uKG5hbWUsIHdpZGdldCwgbWV0YSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy5tZXRhID0gbWV0YTtcbiAgICB9XG4gICAgRmllbGRCbG9ja0RlZmluaXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlciwgcHJlZml4LCBpbml0aWFsU3RhdGUsIGluaXRpYWxFcnJvciwgcGFyZW50Q2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRCbG9jayh0aGlzLCBwbGFjZWhvbGRlciwgcHJlZml4LCBpbml0aWFsU3RhdGUsIGluaXRpYWxFcnJvciwgcGFyZW50Q2FwYWJpbGl0aWVzKTtcbiAgICB9O1xuICAgIHJldHVybiBGaWVsZEJsb2NrRGVmaW5pdGlvbjtcbn0oKSk7XG5leHBvcnRzLkZpZWxkQmxvY2tEZWZpbml0aW9uID0gRmllbGRCbG9ja0RlZmluaXRpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./client/src/components/StreamField/blocks/FieldBlock.js\n");

/***/ }),

/***/ "./client/src/components/StreamField/blocks/ListBlock.js":
/*!***************************************************************!*\
  !*** ./client/src/components/StreamField/blocks/ListBlock.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexports.__esModule = true;\nexports.ListBlockDefinition = exports.ListBlock = exports.ListBlockValidationError = void 0;\n/* eslint-disable no-underscore-dangle */\nvar uuid_1 = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\nvar BaseSequenceBlock_1 = __webpack_require__(/*! ./BaseSequenceBlock */ \"./client/src/components/StreamField/blocks/BaseSequenceBlock.js\");\nvar text_1 = __webpack_require__(/*! ../../../utils/text */ \"./client/src/utils/text.ts\");\nvar range_1 = __webpack_require__(/*! ../../../utils/range */ \"./client/src/utils/range.ts\");\n/* global $ */\nvar ListBlockValidationError = /** @class */ (function () {\n    function ListBlockValidationError(blockErrors, nonBlockErrors) {\n        this.blockErrors = blockErrors;\n        this.nonBlockErrors = nonBlockErrors;\n    }\n    return ListBlockValidationError;\n}());\nexports.ListBlockValidationError = ListBlockValidationError;\nvar ListChild = /** @class */ (function (_super) {\n    __extends(ListChild, _super);\n    function ListChild() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /*\n    wrapper for an item inside a ListBlock\n    */\n    ListChild.prototype.getState = function () {\n        return {\n            id: this.id,\n            value: this.block.getState()\n        };\n    };\n    ListChild.prototype.getValue = function () {\n        return this.block.getValue();\n    };\n    ListChild.prototype.setState = function (_a) {\n        var value = _a.value, id = _a.id;\n        this.block.setState(value);\n        this.id = id;\n    };\n    ListChild.prototype.setValue = function (value) {\n        this.block.setState(value);\n    };\n    ListChild.prototype.split = function (valueBefore, valueAfter, shouldMoveCommentFn, opts) {\n        this.sequence.splitBlock(this.index, valueBefore, valueAfter, shouldMoveCommentFn, opts);\n    };\n    return ListChild;\n}(BaseSequenceBlock_1.BaseSequenceChild));\nvar InsertPosition = /** @class */ (function (_super) {\n    __extends(InsertPosition, _super);\n    /*\n    Represents a position in the DOM where a new list item can be inserted.\n  \n    This renders a + button. Later, these could also be used to represent drop zones for drag+drop reordering.\n    */\n    function InsertPosition(placeholder, opts) {\n        var _this = _super.call(this, placeholder, opts) || this;\n        _this.onRequestInsert = opts && opts.onRequestInsert;\n        var animate = opts && opts.animate;\n        var button = $(\"\\n      <button type=\\\"button\\\" title=\\\"\".concat((0, text_1.escapeHtml)(opts.strings.ADD), \"\\\" data-streamfield-list-add\\n          class=\\\"c-sf-add-button c-sf-add-button--visible\\\">\\n        <svg class=\\\"icon icon-plus\\\" aria-hidden=\\\"true\\\"><use href=\\\"#icon-plus\\\"></use></svg>\\n      </button>\\n    \"));\n        $(placeholder).replaceWith(button);\n        _this.element = button.get(0);\n        button.click(function () {\n            if (_this.onRequestInsert) {\n                _this.onRequestInsert(_this.index);\n            }\n        });\n        if (animate) {\n            button.hide().slideDown();\n        }\n        return _this;\n    }\n    InsertPosition.prototype.enable = function () {\n        $(this.element).removeAttr('disabled');\n    };\n    InsertPosition.prototype.disable = function () {\n        $(this.element).attr('disabled', 'true');\n    };\n    return InsertPosition;\n}(BaseSequenceBlock_1.BaseInsertionControl));\nvar ListBlock = /** @class */ (function (_super) {\n    __extends(ListBlock, _super);\n    function ListBlock(blockDef, placeholder, prefix, initialState, initialError) {\n        var _this = this;\n        _this.blockDef = blockDef;\n        _this.type = blockDef.name;\n        _this.prefix = prefix;\n        var dom = $(\"\\n      <div class=\\\"\".concat((0, text_1.escapeHtml)(_this.blockDef.meta.classname || ''), \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\").concat((0, text_1.escapeHtml)(prefix), \"-count\\\" data-streamfield-list-count value=\\\"0\\\">\\n\\n        <div data-streamfield-list-container></div>\\n      </div>\\n    \"));\n        $(placeholder).replaceWith(dom);\n        if (_this.blockDef.meta.helpText) {\n            // help text is left unescaped as per Django conventions\n            $(\"\\n        <div class=\\\"c-sf-help\\\">\\n          <div class=\\\"help\\\">\\n            \".concat(_this.blockDef.meta.helpText, \"\\n          </div>\\n        </div>\\n      \")).insertBefore(dom);\n        }\n        _this.children = [];\n        _this.inserters = [];\n        _this.blockCounter = 0;\n        _this.countInput = dom.find('[data-streamfield-list-count]');\n        _this.sequenceContainer = dom.find('[data-streamfield-list-container]');\n        _this.container = dom;\n        _this.setState(initialState || []);\n        if (_this.blockDef.meta.collapsed) {\n            _this.children.forEach(function (block) {\n                block.collapse();\n            });\n        }\n        if (initialError) {\n            _this.setError(initialError);\n        }\n        return _this;\n    }\n    ListBlock.prototype.setState = function (blocks) {\n        var _this = this;\n        // State for a ListBlock is a list of {id, value} objects, but\n        // ListBlock.insert accepts the value as first argument; id is passed in the options dict instead.\n        this.clear();\n        blocks.forEach(function (_a, i) {\n            var value = _a.value, id = _a.id;\n            _this.insert(value, i, { id: id || (0, uuid_1.v4)() });\n        });\n    };\n    ListBlock.prototype._getChildDataForInsertion = function () {\n        /* Called when an 'insert new block' action is triggered: given a dict of data from the insertion control,\n        return the block definition and initial state to be used for the new block.\n        For a ListBlock, no data is passed from the insertion control, as there is a single fixed child block definition.\n        */\n        var blockDef = this.blockDef.childBlockDef;\n        var initialState = this.blockDef.initialChildState;\n        return [blockDef, initialState];\n    };\n    ListBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, sequence, opts) {\n        return new ListChild(blockDef, placeholder, prefix, index, id, initialState, sequence, opts);\n    };\n    ListBlock.prototype._createInsertionControl = function (placeholder, opts) {\n        return new InsertPosition(placeholder, opts);\n    };\n    /*\n     * Called whenever a block is added or removed\n     *\n     * Updates the state of add / duplicate block buttons to prevent too many blocks being inserted.\n     */\n    ListBlock.prototype.blockCountChanged = function () {\n        var _this = this;\n        _super.prototype.blockCountChanged.call(this);\n        if (typeof this.blockDef.meta.maxNum === 'number') {\n            if (this.children.length >= this.blockDef.meta.maxNum) {\n                /* prevent adding new blocks */\n                (0, range_1.range)(0, this.inserters.length).forEach(function (i) {\n                    _this.inserters[i].disable();\n                });\n            }\n            else {\n                /* allow adding new blocks */\n                (0, range_1.range)(0, this.inserters.length).forEach(function (i) {\n                    _this.inserters[i].enable();\n                });\n            }\n        }\n    };\n    ListBlock.prototype.insert = function (value, index, opts) {\n        return this._insert(this.blockDef.childBlockDef, value, opts === null || opts === void 0 ? void 0 : opts.id, index, opts);\n    };\n    ListBlock.prototype.duplicateBlock = function (index, opts) {\n        var child = this.children[index];\n        var _a = child.getDuplicatedState(), newId = _a.id, childValue = _a.value;\n        var animate = opts && opts.animate;\n        this.insert(childValue, index + 1, {\n            animate: animate,\n            focus: true,\n            collapsed: child.collapsed,\n            id: newId\n        });\n    };\n    ListBlock.prototype.splitBlock = function (index, valueBefore, valueAfter, shouldMoveCommentFn, opts) {\n        var _a;\n        var child = this.children[index];\n        var animate = opts && opts.animate;\n        child.setValue(valueBefore);\n        var newChild = this.insert(valueAfter, index + 1, {\n            animate: animate,\n            focus: true,\n            collapsed: child.collapsed\n        });\n        var oldContentPath = child.getContentPath();\n        var newContentPath = newChild.getContentPath();\n        var commentApp = (_a = window.comments) === null || _a === void 0 ? void 0 : _a.commentApp;\n        if (oldContentPath && newContentPath && commentApp) {\n            // Move comments from the old contentpath to the new\n            // We allow use of a custom function to determine whether to move each comment\n            // so it can be done based on intra-field position\n            var selector = commentApp.utils.selectCommentsForContentPathFactory(oldContentPath);\n            var comments = selector(commentApp.store.getState());\n            comments.forEach(function (comment) {\n                if (shouldMoveCommentFn(comment)) {\n                    commentApp.updateContentPath(comment.localId, newContentPath);\n                }\n            });\n        }\n    };\n    ListBlock.prototype.setError = function (errorList) {\n        var _this = this;\n        if (errorList.length !== 1) {\n            return;\n        }\n        var error = errorList[0];\n        // Non block errors\n        var container = this.container[0];\n        container\n            .querySelectorAll(':scope > .help-block.help-critical')\n            .forEach(function (element) { return element.remove(); });\n        if (error.nonBlockErrors.length > 0) {\n            // Add a help block for each error raised\n            error.nonBlockErrors.forEach(function (nonBlockError) {\n                var errorElement = document.createElement('p');\n                errorElement.classList.add('help-block');\n                errorElement.classList.add('help-critical');\n                errorElement.innerHTML = (0, text_1.escapeHtml)(nonBlockError.messages[0]);\n                container.insertBefore(errorElement, container.childNodes[0]);\n            });\n        }\n        // error.blockErrors = a list with the same length as the data,\n        // with nulls for items without errors\n        error.blockErrors.forEach(function (blockError, blockIndex) {\n            if (blockError) {\n                _this.children[blockIndex].setError(blockError);\n            }\n        });\n    };\n    ListBlock.prototype.getBlockGroups = function () {\n        var group = ['', [this.blockDef.childBlockDef]];\n        return [group];\n    };\n    ListBlock.prototype.getBlockCount = function () {\n        return this.children.length;\n    };\n    ListBlock.prototype.getBlockMax = function () {\n        return this.blockDef.meta.maxNum || 0;\n    };\n    return ListBlock;\n}(BaseSequenceBlock_1.BaseSequenceBlock));\nexports.ListBlock = ListBlock;\nvar ListBlockDefinition = /** @class */ (function () {\n    function ListBlockDefinition(name, childBlockDef, initialChildState, meta) {\n        this.name = name;\n        this.childBlockDef = childBlockDef;\n        this.initialChildState = initialChildState;\n        this.meta = meta;\n    }\n    ListBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\n        return new ListBlock(this, placeholder, prefix, initialState, initialError);\n    };\n    return ListBlockDefinition;\n}());\nexports.ListBlockDefinition = ListBlockDefinition;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL0xpc3RCbG9jay5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vY2xpZW50L3NyYy9jb21wb25lbnRzL1N0cmVhbUZpZWxkL2Jsb2Nrcy9MaXN0QmxvY2suanM/Yjg1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5MaXN0QmxvY2tEZWZpbml0aW9uID0gZXhwb3J0cy5MaXN0QmxvY2sgPSBleHBvcnRzLkxpc3RCbG9ja1ZhbGlkYXRpb25FcnJvciA9IHZvaWQgMDtcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG52YXIgdXVpZF8xID0gcmVxdWlyZShcInV1aWRcIik7XG52YXIgQmFzZVNlcXVlbmNlQmxvY2tfMSA9IHJlcXVpcmUoXCIuL0Jhc2VTZXF1ZW5jZUJsb2NrXCIpO1xudmFyIHRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy90ZXh0XCIpO1xudmFyIHJhbmdlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcmFuZ2VcIik7XG4vKiBnbG9iYWwgJCAqL1xudmFyIExpc3RCbG9ja1ZhbGlkYXRpb25FcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaXN0QmxvY2tWYWxpZGF0aW9uRXJyb3IoYmxvY2tFcnJvcnMsIG5vbkJsb2NrRXJyb3JzKSB7XG4gICAgICAgIHRoaXMuYmxvY2tFcnJvcnMgPSBibG9ja0Vycm9ycztcbiAgICAgICAgdGhpcy5ub25CbG9ja0Vycm9ycyA9IG5vbkJsb2NrRXJyb3JzO1xuICAgIH1cbiAgICByZXR1cm4gTGlzdEJsb2NrVmFsaWRhdGlvbkVycm9yO1xufSgpKTtcbmV4cG9ydHMuTGlzdEJsb2NrVmFsaWRhdGlvbkVycm9yID0gTGlzdEJsb2NrVmFsaWRhdGlvbkVycm9yO1xudmFyIExpc3RDaGlsZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGlzdENoaWxkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpc3RDaGlsZCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKlxuICAgIHdyYXBwZXIgZm9yIGFuIGl0ZW0gaW5zaWRlIGEgTGlzdEJsb2NrXG4gICAgKi9cbiAgICBMaXN0Q2hpbGQucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5ibG9jay5nZXRTdGF0ZSgpXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBMaXN0Q2hpbGQucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9jay5nZXRWYWx1ZSgpO1xuICAgIH07XG4gICAgTGlzdENoaWxkLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBfYS52YWx1ZSwgaWQgPSBfYS5pZDtcbiAgICAgICAgdGhpcy5ibG9jay5zZXRTdGF0ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9O1xuICAgIExpc3RDaGlsZC5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5ibG9jay5zZXRTdGF0ZSh2YWx1ZSk7XG4gICAgfTtcbiAgICBMaXN0Q2hpbGQucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24gKHZhbHVlQmVmb3JlLCB2YWx1ZUFmdGVyLCBzaG91bGRNb3ZlQ29tbWVudEZuLCBvcHRzKSB7XG4gICAgICAgIHRoaXMuc2VxdWVuY2Uuc3BsaXRCbG9jayh0aGlzLmluZGV4LCB2YWx1ZUJlZm9yZSwgdmFsdWVBZnRlciwgc2hvdWxkTW92ZUNvbW1lbnRGbiwgb3B0cyk7XG4gICAgfTtcbiAgICByZXR1cm4gTGlzdENoaWxkO1xufShCYXNlU2VxdWVuY2VCbG9ja18xLkJhc2VTZXF1ZW5jZUNoaWxkKSk7XG52YXIgSW5zZXJ0UG9zaXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEluc2VydFBvc2l0aW9uLCBfc3VwZXIpO1xuICAgIC8qXG4gICAgUmVwcmVzZW50cyBhIHBvc2l0aW9uIGluIHRoZSBET00gd2hlcmUgYSBuZXcgbGlzdCBpdGVtIGNhbiBiZSBpbnNlcnRlZC5cbiAgXG4gICAgVGhpcyByZW5kZXJzIGEgKyBidXR0b24uIExhdGVyLCB0aGVzZSBjb3VsZCBhbHNvIGJlIHVzZWQgdG8gcmVwcmVzZW50IGRyb3Agem9uZXMgZm9yIGRyYWcrZHJvcCByZW9yZGVyaW5nLlxuICAgICovXG4gICAgZnVuY3Rpb24gSW5zZXJ0UG9zaXRpb24ocGxhY2Vob2xkZXIsIG9wdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGxhY2Vob2xkZXIsIG9wdHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uUmVxdWVzdEluc2VydCA9IG9wdHMgJiYgb3B0cy5vblJlcXVlc3RJbnNlcnQ7XG4gICAgICAgIHZhciBhbmltYXRlID0gb3B0cyAmJiBvcHRzLmFuaW1hdGU7XG4gICAgICAgIHZhciBidXR0b24gPSAkKFwiXFxuICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHRpdGxlPVxcXCJcIi5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKShvcHRzLnN0cmluZ3MuQUREKSwgXCJcXFwiIGRhdGEtc3RyZWFtZmllbGQtbGlzdC1hZGRcXG4gICAgICAgICAgY2xhc3M9XFxcImMtc2YtYWRkLWJ1dHRvbiBjLXNmLWFkZC1idXR0b24tLXZpc2libGVcXFwiPlxcbiAgICAgICAgPHN2ZyBjbGFzcz1cXFwiaWNvbiBpY29uLXBsdXNcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48dXNlIGhyZWY9XFxcIiNpY29uLXBsdXNcXFwiPjwvdXNlPjwvc3ZnPlxcbiAgICAgIDwvYnV0dG9uPlxcbiAgICBcIikpO1xuICAgICAgICAkKHBsYWNlaG9sZGVyKS5yZXBsYWNlV2l0aChidXR0b24pO1xuICAgICAgICBfdGhpcy5lbGVtZW50ID0gYnV0dG9uLmdldCgwKTtcbiAgICAgICAgYnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vblJlcXVlc3RJbnNlcnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vblJlcXVlc3RJbnNlcnQoX3RoaXMuaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5oaWRlKCkuc2xpZGVEb3duKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbnNlcnRQb3NpdGlvbi5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICB9O1xuICAgIEluc2VydFBvc2l0aW9uLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMuZWxlbWVudCkuYXR0cignZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH07XG4gICAgcmV0dXJuIEluc2VydFBvc2l0aW9uO1xufShCYXNlU2VxdWVuY2VCbG9ja18xLkJhc2VJbnNlcnRpb25Db250cm9sKSk7XG52YXIgTGlzdEJsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaXN0QmxvY2ssIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGlzdEJsb2NrKGJsb2NrRGVmLCBwbGFjZWhvbGRlciwgcHJlZml4LCBpbml0aWFsU3RhdGUsIGluaXRpYWxFcnJvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfdGhpcy5ibG9ja0RlZiA9IGJsb2NrRGVmO1xuICAgICAgICBfdGhpcy50eXBlID0gYmxvY2tEZWYubmFtZTtcbiAgICAgICAgX3RoaXMucHJlZml4ID0gcHJlZml4O1xuICAgICAgICB2YXIgZG9tID0gJChcIlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcIlwiLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKF90aGlzLmJsb2NrRGVmLm1ldGEuY2xhc3NuYW1lIHx8ICcnKSwgXCJcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiXCIpLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKHByZWZpeCksIFwiLWNvdW50XFxcIiBkYXRhLXN0cmVhbWZpZWxkLWxpc3QtY291bnQgdmFsdWU9XFxcIjBcXFwiPlxcblxcbiAgICAgICAgPGRpdiBkYXRhLXN0cmVhbWZpZWxkLWxpc3QtY29udGFpbmVyPjwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICBcIikpO1xuICAgICAgICAkKHBsYWNlaG9sZGVyKS5yZXBsYWNlV2l0aChkb20pO1xuICAgICAgICBpZiAoX3RoaXMuYmxvY2tEZWYubWV0YS5oZWxwVGV4dCkge1xuICAgICAgICAgICAgLy8gaGVscCB0ZXh0IGlzIGxlZnQgdW5lc2NhcGVkIGFzIHBlciBEamFuZ28gY29udmVudGlvbnNcbiAgICAgICAgICAgICQoXCJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImMtc2YtaGVscFxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhlbHBcXFwiPlxcbiAgICAgICAgICAgIFwiLmNvbmNhdChfdGhpcy5ibG9ja0RlZi5tZXRhLmhlbHBUZXh0LCBcIlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIFwiKSkuaW5zZXJ0QmVmb3JlKGRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgX3RoaXMuaW5zZXJ0ZXJzID0gW107XG4gICAgICAgIF90aGlzLmJsb2NrQ291bnRlciA9IDA7XG4gICAgICAgIF90aGlzLmNvdW50SW5wdXQgPSBkb20uZmluZCgnW2RhdGEtc3RyZWFtZmllbGQtbGlzdC1jb3VudF0nKTtcbiAgICAgICAgX3RoaXMuc2VxdWVuY2VDb250YWluZXIgPSBkb20uZmluZCgnW2RhdGEtc3RyZWFtZmllbGQtbGlzdC1jb250YWluZXJdJyk7XG4gICAgICAgIF90aGlzLmNvbnRhaW5lciA9IGRvbTtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoaW5pdGlhbFN0YXRlIHx8IFtdKTtcbiAgICAgICAgaWYgKF90aGlzLmJsb2NrRGVmLm1ldGEuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICBfdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgICAgICAgICAgIGJsb2NrLmNvbGxhcHNlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdGlhbEVycm9yKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRFcnJvcihpbml0aWFsRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTGlzdEJsb2NrLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChibG9ja3MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gU3RhdGUgZm9yIGEgTGlzdEJsb2NrIGlzIGEgbGlzdCBvZiB7aWQsIHZhbHVlfSBvYmplY3RzLCBidXRcbiAgICAgICAgLy8gTGlzdEJsb2NrLmluc2VydCBhY2NlcHRzIHRoZSB2YWx1ZSBhcyBmaXJzdCBhcmd1bWVudDsgaWQgaXMgcGFzc2VkIGluIHRoZSBvcHRpb25zIGRpY3QgaW5zdGVhZC5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBibG9ja3MuZm9yRWFjaChmdW5jdGlvbiAoX2EsIGkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9hLnZhbHVlLCBpZCA9IF9hLmlkO1xuICAgICAgICAgICAgX3RoaXMuaW5zZXJ0KHZhbHVlLCBpLCB7IGlkOiBpZCB8fCAoMCwgdXVpZF8xLnY0KSgpIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExpc3RCbG9jay5wcm90b3R5cGUuX2dldENoaWxkRGF0YUZvckluc2VydGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyogQ2FsbGVkIHdoZW4gYW4gJ2luc2VydCBuZXcgYmxvY2snIGFjdGlvbiBpcyB0cmlnZ2VyZWQ6IGdpdmVuIGEgZGljdCBvZiBkYXRhIGZyb20gdGhlIGluc2VydGlvbiBjb250cm9sLFxuICAgICAgICByZXR1cm4gdGhlIGJsb2NrIGRlZmluaXRpb24gYW5kIGluaXRpYWwgc3RhdGUgdG8gYmUgdXNlZCBmb3IgdGhlIG5ldyBibG9jay5cbiAgICAgICAgRm9yIGEgTGlzdEJsb2NrLCBubyBkYXRhIGlzIHBhc3NlZCBmcm9tIHRoZSBpbnNlcnRpb24gY29udHJvbCwgYXMgdGhlcmUgaXMgYSBzaW5nbGUgZml4ZWQgY2hpbGQgYmxvY2sgZGVmaW5pdGlvbi5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIGJsb2NrRGVmID0gdGhpcy5ibG9ja0RlZi5jaGlsZEJsb2NrRGVmO1xuICAgICAgICB2YXIgaW5pdGlhbFN0YXRlID0gdGhpcy5ibG9ja0RlZi5pbml0aWFsQ2hpbGRTdGF0ZTtcbiAgICAgICAgcmV0dXJuIFtibG9ja0RlZiwgaW5pdGlhbFN0YXRlXTtcbiAgICB9O1xuICAgIExpc3RCbG9jay5wcm90b3R5cGUuX2NyZWF0ZUNoaWxkID0gZnVuY3Rpb24gKGJsb2NrRGVmLCBwbGFjZWhvbGRlciwgcHJlZml4LCBpbmRleCwgaWQsIGluaXRpYWxTdGF0ZSwgc2VxdWVuY2UsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaXN0Q2hpbGQoYmxvY2tEZWYsIHBsYWNlaG9sZGVyLCBwcmVmaXgsIGluZGV4LCBpZCwgaW5pdGlhbFN0YXRlLCBzZXF1ZW5jZSwgb3B0cyk7XG4gICAgfTtcbiAgICBMaXN0QmxvY2sucHJvdG90eXBlLl9jcmVhdGVJbnNlcnRpb25Db250cm9sID0gZnVuY3Rpb24gKHBsYWNlaG9sZGVyLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5zZXJ0UG9zaXRpb24ocGxhY2Vob2xkZXIsIG9wdHMpO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBDYWxsZWQgd2hlbmV2ZXIgYSBibG9jayBpcyBhZGRlZCBvciByZW1vdmVkXG4gICAgICpcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBhZGQgLyBkdXBsaWNhdGUgYmxvY2sgYnV0dG9ucyB0byBwcmV2ZW50IHRvbyBtYW55IGJsb2NrcyBiZWluZyBpbnNlcnRlZC5cbiAgICAgKi9cbiAgICBMaXN0QmxvY2sucHJvdG90eXBlLmJsb2NrQ291bnRDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJsb2NrQ291bnRDaGFuZ2VkLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5ibG9ja0RlZi5tZXRhLm1heE51bSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+PSB0aGlzLmJsb2NrRGVmLm1ldGEubWF4TnVtKSB7XG4gICAgICAgICAgICAgICAgLyogcHJldmVudCBhZGRpbmcgbmV3IGJsb2NrcyAqL1xuICAgICAgICAgICAgICAgICgwLCByYW5nZV8xLnJhbmdlKSgwLCB0aGlzLmluc2VydGVycy5sZW5ndGgpLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaW5zZXJ0ZXJzW2ldLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qIGFsbG93IGFkZGluZyBuZXcgYmxvY2tzICovXG4gICAgICAgICAgICAgICAgKDAsIHJhbmdlXzEucmFuZ2UpKDAsIHRoaXMuaW5zZXJ0ZXJzLmxlbmd0aCkuZm9yRWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbnNlcnRlcnNbaV0uZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpc3RCbG9jay5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5zZXJ0KHRoaXMuYmxvY2tEZWYuY2hpbGRCbG9ja0RlZiwgdmFsdWUsIG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5pZCwgaW5kZXgsIG9wdHMpO1xuICAgIH07XG4gICAgTGlzdEJsb2NrLnByb3RvdHlwZS5kdXBsaWNhdGVCbG9jayA9IGZ1bmN0aW9uIChpbmRleCwgb3B0cykge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgdmFyIF9hID0gY2hpbGQuZ2V0RHVwbGljYXRlZFN0YXRlKCksIG5ld0lkID0gX2EuaWQsIGNoaWxkVmFsdWUgPSBfYS52YWx1ZTtcbiAgICAgICAgdmFyIGFuaW1hdGUgPSBvcHRzICYmIG9wdHMuYW5pbWF0ZTtcbiAgICAgICAgdGhpcy5pbnNlcnQoY2hpbGRWYWx1ZSwgaW5kZXggKyAxLCB7XG4gICAgICAgICAgICBhbmltYXRlOiBhbmltYXRlLFxuICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICBjb2xsYXBzZWQ6IGNoaWxkLmNvbGxhcHNlZCxcbiAgICAgICAgICAgIGlkOiBuZXdJZFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExpc3RCbG9jay5wcm90b3R5cGUuc3BsaXRCbG9jayA9IGZ1bmN0aW9uIChpbmRleCwgdmFsdWVCZWZvcmUsIHZhbHVlQWZ0ZXIsIHNob3VsZE1vdmVDb21tZW50Rm4sIG9wdHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgdmFyIGFuaW1hdGUgPSBvcHRzICYmIG9wdHMuYW5pbWF0ZTtcbiAgICAgICAgY2hpbGQuc2V0VmFsdWUodmFsdWVCZWZvcmUpO1xuICAgICAgICB2YXIgbmV3Q2hpbGQgPSB0aGlzLmluc2VydCh2YWx1ZUFmdGVyLCBpbmRleCArIDEsIHtcbiAgICAgICAgICAgIGFuaW1hdGU6IGFuaW1hdGUsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgIGNvbGxhcHNlZDogY2hpbGQuY29sbGFwc2VkXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb2xkQ29udGVudFBhdGggPSBjaGlsZC5nZXRDb250ZW50UGF0aCgpO1xuICAgICAgICB2YXIgbmV3Q29udGVudFBhdGggPSBuZXdDaGlsZC5nZXRDb250ZW50UGF0aCgpO1xuICAgICAgICB2YXIgY29tbWVudEFwcCA9IChfYSA9IHdpbmRvdy5jb21tZW50cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbW1lbnRBcHA7XG4gICAgICAgIGlmIChvbGRDb250ZW50UGF0aCAmJiBuZXdDb250ZW50UGF0aCAmJiBjb21tZW50QXBwKSB7XG4gICAgICAgICAgICAvLyBNb3ZlIGNvbW1lbnRzIGZyb20gdGhlIG9sZCBjb250ZW50cGF0aCB0byB0aGUgbmV3XG4gICAgICAgICAgICAvLyBXZSBhbGxvdyB1c2Ugb2YgYSBjdXN0b20gZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gbW92ZSBlYWNoIGNvbW1lbnRcbiAgICAgICAgICAgIC8vIHNvIGl0IGNhbiBiZSBkb25lIGJhc2VkIG9uIGludHJhLWZpZWxkIHBvc2l0aW9uXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBjb21tZW50QXBwLnV0aWxzLnNlbGVjdENvbW1lbnRzRm9yQ29udGVudFBhdGhGYWN0b3J5KG9sZENvbnRlbnRQYXRoKTtcbiAgICAgICAgICAgIHZhciBjb21tZW50cyA9IHNlbGVjdG9yKGNvbW1lbnRBcHAuc3RvcmUuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICBjb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21tZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZE1vdmVDb21tZW50Rm4oY29tbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudEFwcC51cGRhdGVDb250ZW50UGF0aChjb21tZW50LmxvY2FsSWQsIG5ld0NvbnRlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdEJsb2NrLnByb3RvdHlwZS5zZXRFcnJvciA9IGZ1bmN0aW9uIChlcnJvckxpc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGVycm9yTGlzdC5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvckxpc3RbMF07XG4gICAgICAgIC8vIE5vbiBibG9jayBlcnJvcnNcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyWzBdO1xuICAgICAgICBjb250YWluZXJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAuaGVscC1ibG9jay5oZWxwLWNyaXRpY2FsJylcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LnJlbW92ZSgpOyB9KTtcbiAgICAgICAgaWYgKGVycm9yLm5vbkJsb2NrRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEFkZCBhIGhlbHAgYmxvY2sgZm9yIGVhY2ggZXJyb3IgcmFpc2VkXG4gICAgICAgICAgICBlcnJvci5ub25CbG9ja0Vycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChub25CbG9ja0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGVscC1ibG9jaycpO1xuICAgICAgICAgICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoZWxwLWNyaXRpY2FsJyk7XG4gICAgICAgICAgICAgICAgZXJyb3JFbGVtZW50LmlubmVySFRNTCA9ICgwLCB0ZXh0XzEuZXNjYXBlSHRtbCkobm9uQmxvY2tFcnJvci5tZXNzYWdlc1swXSk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShlcnJvckVsZW1lbnQsIGNvbnRhaW5lci5jaGlsZE5vZGVzWzBdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVycm9yLmJsb2NrRXJyb3JzID0gYSBsaXN0IHdpdGggdGhlIHNhbWUgbGVuZ3RoIGFzIHRoZSBkYXRhLFxuICAgICAgICAvLyB3aXRoIG51bGxzIGZvciBpdGVtcyB3aXRob3V0IGVycm9yc1xuICAgICAgICBlcnJvci5ibG9ja0Vycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChibG9ja0Vycm9yLCBibG9ja0luZGV4KSB7XG4gICAgICAgICAgICBpZiAoYmxvY2tFcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmNoaWxkcmVuW2Jsb2NrSW5kZXhdLnNldEVycm9yKGJsb2NrRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExpc3RCbG9jay5wcm90b3R5cGUuZ2V0QmxvY2tHcm91cHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBncm91cCA9IFsnJywgW3RoaXMuYmxvY2tEZWYuY2hpbGRCbG9ja0RlZl1dO1xuICAgICAgICByZXR1cm4gW2dyb3VwXTtcbiAgICB9O1xuICAgIExpc3RCbG9jay5wcm90b3R5cGUuZ2V0QmxvY2tDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgIH07XG4gICAgTGlzdEJsb2NrLnByb3RvdHlwZS5nZXRCbG9ja01heCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tEZWYubWV0YS5tYXhOdW0gfHwgMDtcbiAgICB9O1xuICAgIHJldHVybiBMaXN0QmxvY2s7XG59KEJhc2VTZXF1ZW5jZUJsb2NrXzEuQmFzZVNlcXVlbmNlQmxvY2spKTtcbmV4cG9ydHMuTGlzdEJsb2NrID0gTGlzdEJsb2NrO1xudmFyIExpc3RCbG9ja0RlZmluaXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGlzdEJsb2NrRGVmaW5pdGlvbihuYW1lLCBjaGlsZEJsb2NrRGVmLCBpbml0aWFsQ2hpbGRTdGF0ZSwgbWV0YSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNoaWxkQmxvY2tEZWYgPSBjaGlsZEJsb2NrRGVmO1xuICAgICAgICB0aGlzLmluaXRpYWxDaGlsZFN0YXRlID0gaW5pdGlhbENoaWxkU3RhdGU7XG4gICAgICAgIHRoaXMubWV0YSA9IG1ldGE7XG4gICAgfVxuICAgIExpc3RCbG9ja0RlZmluaXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlciwgcHJlZml4LCBpbml0aWFsU3RhdGUsIGluaXRpYWxFcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IExpc3RCbG9jayh0aGlzLCBwbGFjZWhvbGRlciwgcHJlZml4LCBpbml0aWFsU3RhdGUsIGluaXRpYWxFcnJvcik7XG4gICAgfTtcbiAgICByZXR1cm4gTGlzdEJsb2NrRGVmaW5pdGlvbjtcbn0oKSk7XG5leHBvcnRzLkxpc3RCbG9ja0RlZmluaXRpb24gPSBMaXN0QmxvY2tEZWZpbml0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./client/src/components/StreamField/blocks/ListBlock.js\n");

/***/ }),

/***/ "./client/src/components/StreamField/blocks/StaticBlock.js":
/*!*****************************************************************!*\
  !*** ./client/src/components/StreamField/blocks/StaticBlock.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nexports.__esModule = true;\nexports.StaticBlockDefinition = exports.StaticBlock = void 0;\nvar text_1 = __webpack_require__(/*! ../../../utils/text */ \"./client/src/utils/text.ts\");\nvar StaticBlock = /** @class */ (function () {\n    function StaticBlock(blockDef, placeholder) {\n        this.blockDef = blockDef;\n        var element = document.createElement('div');\n        if (this.blockDef.meta.html) {\n            element.innerHTML = this.blockDef.meta.html;\n        }\n        else {\n            element.innerHTML = (0, text_1.escapeHtml)(this.blockDef.meta.text);\n        }\n        placeholder.replaceWith(element);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n    StaticBlock.prototype.setState = function (_state) { };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n    StaticBlock.prototype.setError = function (_errorList) { };\n    StaticBlock.prototype.getState = function () {\n        return null;\n    };\n    StaticBlock.prototype.getValue = function () {\n        return null;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    StaticBlock.prototype.focus = function () { };\n    return StaticBlock;\n}());\nexports.StaticBlock = StaticBlock;\nvar StaticBlockDefinition = /** @class */ (function () {\n    function StaticBlockDefinition(name, meta) {\n        this.name = name;\n        this.meta = meta;\n    }\n    StaticBlockDefinition.prototype.render = function (placeholder) {\n        return new StaticBlock(this, placeholder);\n    };\n    return StaticBlockDefinition;\n}());\nexports.StaticBlockDefinition = StaticBlockDefinition;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL1N0YXRpY0Jsb2NrLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL1N0YXRpY0Jsb2NrLmpzPzk2MDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5TdGF0aWNCbG9ja0RlZmluaXRpb24gPSBleHBvcnRzLlN0YXRpY0Jsb2NrID0gdm9pZCAwO1xudmFyIHRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy90ZXh0XCIpO1xudmFyIFN0YXRpY0Jsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRpY0Jsb2NrKGJsb2NrRGVmLCBwbGFjZWhvbGRlcikge1xuICAgICAgICB0aGlzLmJsb2NrRGVmID0gYmxvY2tEZWY7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmICh0aGlzLmJsb2NrRGVmLm1ldGEuaHRtbCkge1xuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmJsb2NrRGVmLm1ldGEuaHRtbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gKDAsIHRleHRfMS5lc2NhcGVIdG1sKSh0aGlzLmJsb2NrRGVmLm1ldGEudGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2Vob2xkZXIucmVwbGFjZVdpdGgoZWxlbWVudCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgIFN0YXRpY0Jsb2NrLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChfc3RhdGUpIHsgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICBTdGF0aWNCbG9jay5wcm90b3R5cGUuc2V0RXJyb3IgPSBmdW5jdGlvbiAoX2Vycm9yTGlzdCkgeyB9O1xuICAgIFN0YXRpY0Jsb2NrLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBTdGF0aWNCbG9jay5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgIFN0YXRpY0Jsb2NrLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICByZXR1cm4gU3RhdGljQmxvY2s7XG59KCkpO1xuZXhwb3J0cy5TdGF0aWNCbG9jayA9IFN0YXRpY0Jsb2NrO1xudmFyIFN0YXRpY0Jsb2NrRGVmaW5pdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0aWNCbG9ja0RlZmluaXRpb24obmFtZSwgbWV0YSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm1ldGEgPSBtZXRhO1xuICAgIH1cbiAgICBTdGF0aWNCbG9ja0RlZmluaXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlcikge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRpY0Jsb2NrKHRoaXMsIHBsYWNlaG9sZGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNCbG9ja0RlZmluaXRpb247XG59KCkpO1xuZXhwb3J0cy5TdGF0aWNCbG9ja0RlZmluaXRpb24gPSBTdGF0aWNCbG9ja0RlZmluaXRpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./client/src/components/StreamField/blocks/StaticBlock.js\n");

/***/ }),

/***/ "./client/src/components/StreamField/blocks/StreamBlock.js":
/*!*****************************************************************!*\
  !*** ./client/src/components/StreamField/blocks/StreamBlock.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/* eslint-disable no-underscore-dangle */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nexports.__esModule = true;\nexports.StreamBlockDefinition = exports.StreamBlock = exports.StreamBlockValidationError = void 0;\nvar uuid_1 = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\nvar BaseSequenceBlock_1 = __webpack_require__(/*! ./BaseSequenceBlock */ \"./client/src/components/StreamField/blocks/BaseSequenceBlock.js\");\nvar text_1 = __webpack_require__(/*! ../../../utils/text */ \"./client/src/utils/text.ts\");\nvar hasOwn_1 = __webpack_require__(/*! ../../../utils/hasOwn */ \"./client/src/utils/hasOwn.ts\");\nvar range_1 = __webpack_require__(/*! ../../../utils/range */ \"./client/src/utils/range.ts\");\n/* global $ */\nvar StreamBlockValidationError = /** @class */ (function () {\n    function StreamBlockValidationError(nonBlockErrors, blockErrors) {\n        this.nonBlockErrors = nonBlockErrors;\n        this.blockErrors = blockErrors;\n    }\n    return StreamBlockValidationError;\n}());\nexports.StreamBlockValidationError = StreamBlockValidationError;\nvar StreamChild = /** @class */ (function (_super) {\n    __extends(StreamChild, _super);\n    function StreamChild() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /*\n    wrapper for a block inside a StreamBlock, handling StreamBlock-specific metadata\n    such as id\n    */\n    StreamChild.prototype.getState = function () {\n        return {\n            type: this.type,\n            value: this.block.getState(),\n            id: this.id\n        };\n    };\n    StreamChild.prototype.getDuplicatedState = function () {\n        return __assign(__assign({}, _super.prototype.getDuplicatedState.call(this)), { type: this.type });\n    };\n    StreamChild.prototype.setState = function (_a) {\n        var type = _a.type, value = _a.value, id = _a.id;\n        this.type = type;\n        this.block.setState(value);\n        this.id = id;\n    };\n    StreamChild.prototype.getValue = function () {\n        return {\n            type: this.type,\n            value: this.block.getValue(),\n            id: this.id\n        };\n    };\n    StreamChild.prototype.split = function (valueBefore, valueAfter, shouldMoveCommentFn, opts) {\n        this.sequence.splitBlock(this.index, valueBefore, valueAfter, shouldMoveCommentFn, opts);\n    };\n    return StreamChild;\n}(BaseSequenceBlock_1.BaseSequenceChild));\nvar StreamBlockMenu = /** @class */ (function (_super) {\n    __extends(StreamBlockMenu, _super);\n    function StreamBlockMenu(placeholder, opts) {\n        var _this = _super.call(this, placeholder, opts) || this;\n        _this.groupedChildBlockDefs = opts.groupedChildBlockDefs;\n        var animate = opts.animate;\n        var dom = $(\"\\n      <div>\\n        <button data-streamblock-menu-open type=\\\"button\\\" title=\\\"\".concat((0, text_1.escapeHtml)(opts.strings.ADD), \"\\\"\\n            class=\\\"c-sf-add-button c-sf-add-button--visible\\\">\\n          <svg class=\\\"icon icon-plus\\\" aria-hidden=\\\"true\\\"><use href=\\\"#icon-plus\\\"></use></svg>\\n        </button>\\n        <div data-streamblock-menu-outer>\\n          <div data-streamblock-menu-inner class=\\\"c-sf-add-panel\\\"></div>\\n        </div>\\n      </div>\\n    \"));\n        $(placeholder).replaceWith(dom);\n        _this.element = dom.get(0);\n        _this.addButton = dom.find('[data-streamblock-menu-open]');\n        _this.addButton.click(function () {\n            _this.toggle();\n        });\n        _this.outerContainer = dom.find('[data-streamblock-menu-outer]');\n        _this.innerContainer = dom.find('[data-streamblock-menu-inner]');\n        _this.hasRenderedMenu = false;\n        _this.isOpen = false;\n        _this.canAddBlock = true;\n        _this.disabledBlockTypes = new Set();\n        _this.close({ animate: false });\n        if (animate) {\n            dom.hide().slideDown();\n        }\n        return _this;\n    }\n    StreamBlockMenu.prototype.renderMenu = function () {\n        var _this = this;\n        if (this.hasRenderedMenu)\n            return;\n        this.hasRenderedMenu = true;\n        this.groupedChildBlockDefs.forEach(function (_a) {\n            var _b = __read(_a, 2), group = _b[0], blockDefs = _b[1];\n            if (group) {\n                var heading = $('<h4 class=\"c-sf-add-panel__group-title\"></h4>').text(group);\n                _this.innerContainer.append(heading);\n            }\n            var grid = $('<div class=\"c-sf-add-panel__grid\"></div>');\n            _this.innerContainer.append(grid);\n            blockDefs.forEach(function (blockDef) {\n                var button = $(\"\\n          <button type=\\\"button\\\" class=\\\"c-sf-button action-add-block-\".concat((0, text_1.escapeHtml)(blockDef.name), \"\\\">\\n            <svg class=\\\"icon icon-\").concat((0, text_1.escapeHtml)(blockDef.meta.icon), \" c-sf-button__icon\\\" aria-hidden=\\\"true\\\">\\n              <use href=\\\"#icon-\").concat((0, text_1.escapeHtml)(blockDef.meta.icon), \"\\\"></use>\\n            </svg>\\n            \").concat((0, text_1.escapeHtml)(blockDef.meta.label), \"\\n          </button>\\n        \"));\n                grid.append(button);\n                button.click(function () {\n                    if (_this.onRequestInsert) {\n                        _this.onRequestInsert(_this.index, { type: blockDef.name });\n                    }\n                    _this.close({ animate: true });\n                });\n            });\n        });\n        // Disable buttons for any disabled block types\n        this.disabledBlockTypes.forEach(function (blockType) {\n            $(\"button.action-add-block-\".concat((0, text_1.escapeHtml)(blockType)), _this.innerContainer).attr('disabled', 'true');\n        });\n    };\n    StreamBlockMenu.prototype.setNewBlockRestrictions = function (canAddBlock, disabledBlockTypes) {\n        var _this = this;\n        this.canAddBlock = canAddBlock;\n        this.disabledBlockTypes = disabledBlockTypes;\n        // Disable/enable menu open button\n        if (this.canAddBlock) {\n            this.addButton.removeAttr('disabled');\n        }\n        else {\n            this.addButton.attr('disabled', 'true');\n        }\n        // Close menu if its open and we no longer can add blocks\n        if (!canAddBlock && this.isOpen) {\n            this.close({ animate: true });\n        }\n        // Disable/enable individual block type buttons\n        $('button', this.innerContainer).removeAttr('disabled');\n        disabledBlockTypes.forEach(function (blockType) {\n            $(\"button.action-add-block-\".concat((0, text_1.escapeHtml)(blockType)), _this.innerContainer).attr('disabled', 'true');\n        });\n    };\n    StreamBlockMenu.prototype.toggle = function () {\n        if (this.isOpen) {\n            this.close({ animate: true });\n        }\n        else {\n            this.open({ animate: true });\n        }\n    };\n    StreamBlockMenu.prototype.open = function (opts) {\n        if (!this.canAddBlock) {\n            return;\n        }\n        this.renderMenu();\n        if (opts && opts.animate) {\n            this.outerContainer.slideDown();\n        }\n        else {\n            this.outerContainer.show();\n        }\n        this.addButton.addClass('c-sf-add-button--close');\n        this.outerContainer.attr('aria-hidden', 'false');\n        this.isOpen = true;\n    };\n    StreamBlockMenu.prototype.close = function (opts) {\n        if (opts && opts.animate) {\n            this.outerContainer.slideUp();\n        }\n        else {\n            this.outerContainer.hide();\n        }\n        this.addButton.removeClass('c-sf-add-button--close');\n        this.outerContainer.attr('aria-hidden', 'true');\n        this.isOpen = false;\n    };\n    return StreamBlockMenu;\n}(BaseSequenceBlock_1.BaseInsertionControl));\nvar StreamBlock = /** @class */ (function (_super) {\n    __extends(StreamBlock, _super);\n    function StreamBlock(blockDef, placeholder, prefix, initialState, initialError) {\n        var _this = this;\n        _this.blockDef = blockDef;\n        _this.type = blockDef.name;\n        _this.prefix = prefix;\n        var dom = $(\"\\n      <div class=\\\"\".concat((0, text_1.escapeHtml)(_this.blockDef.meta.classname || ''), \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\").concat((0, text_1.escapeHtml)(prefix), \"-count\\\" data-streamfield-stream-count value=\\\"0\\\">\\n        <div data-streamfield-stream-container></div>\\n      </div>\\n    \"));\n        $(placeholder).replaceWith(dom);\n        if (_this.blockDef.meta.helpText) {\n            // help text is left unescaped as per Django conventions\n            $(\"\\n        <div class=\\\"c-sf-help\\\">\\n          <div class=\\\"help\\\">\\n            \".concat(_this.blockDef.meta.helpText, \"\\n          </div>\\n        </div>\\n      \")).insertBefore(dom);\n        }\n        // StreamChild objects for the current (non-deleted) child blocks\n        _this.children = [];\n        // Cache for child block counting (not guaranteed to be fully populated)\n        _this.childBlockCounts = new Map();\n        // Insertion control objects - there are one more of these than there are children.\n        // The control at index n will insert a block at index n\n        _this.inserters = [];\n        // Incrementing counter used to generate block prefixes, also reflected in the\n        // 'count' hidden input. This count includes deleted items\n        _this.blockCounter = 0;\n        _this.countInput = dom.find('[data-streamfield-stream-count]');\n        // Parent element of insert control and block elements (potentially including deleted items,\n        // which are left behind as hidden elements with a '-deleted' input so that the\n        // server-side form handler knows to skip it)\n        _this.sequenceContainer = dom.find('[data-streamfield-stream-container]');\n        _this.setState(initialState || []);\n        if (_this.blockDef.meta.collapsed) {\n            _this.children.forEach(function (block) {\n                block.collapse();\n            });\n        }\n        _this.container = dom;\n        if (initialError) {\n            _this.setError(initialError);\n        }\n        return _this;\n    }\n    StreamBlock.prototype.getBlockGroups = function () {\n        return this.blockDef.groupedChildBlockDefs;\n    };\n    StreamBlock.prototype.getBlockCount = function (type) {\n        // Get the block count for a particular type, or if none is provided, the total block count\n        if (!type) {\n            return this.children.length;\n        }\n        if (!this.childBlockCounts.has(type)) {\n            this._updateBlockCount(type);\n        }\n        return this.childBlockCounts.get(type) || 0;\n    };\n    StreamBlock.prototype.getBlockMax = function (type) {\n        var _a;\n        // Get the maximum number of blocks allowable for a particular type, or if none is provided, the total maximum\n        if (!type) {\n            return this.blockDef.meta.maxNum;\n        }\n        return (_a = this.blockDef.meta.blockCounts[type]) === null || _a === void 0 ? void 0 : _a.max_num;\n    };\n    StreamBlock.prototype._updateBlockCount = function (type) {\n        var currentBlockCount = this.children.filter(function (child) { return child.type === type; }).length;\n        this.childBlockCounts.set(type, currentBlockCount);\n    };\n    /*\n     * Called whenever a block is added or removed\n     *\n     * Updates the state of add / duplicate block buttons to prevent too many blocks being inserted.\n     */\n    StreamBlock.prototype.blockCountChanged = function () {\n        var _this = this;\n        _super.prototype.blockCountChanged.call(this);\n        this.canAddBlock = true;\n        this.childBlockCounts.clear();\n        if (typeof this.blockDef.meta.maxNum === 'number' &&\n            this.children.length >= this.blockDef.meta.maxNum) {\n            this.canAddBlock = false;\n        }\n        // Check if there are any block types that have count limits\n        this.disabledBlockTypes = new Set();\n        for (var blockType in this.blockDef.meta.blockCounts) {\n            if ((0, hasOwn_1.hasOwn)(this.blockDef.meta.blockCounts, blockType)) {\n                var maxNum = this.getBlockMax(blockType);\n                if (typeof maxNum === 'number') {\n                    var currentBlockCount = this.getBlockCount(blockType);\n                    if (currentBlockCount >= maxNum) {\n                        this.disabledBlockTypes.add(blockType);\n                    }\n                }\n            }\n        }\n        (0, range_1.range)(0, this.inserters.length).forEach(function (i) {\n            _this.inserters[i].setNewBlockRestrictions(_this.canAddBlock, _this.disabledBlockTypes);\n        });\n    };\n    StreamBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, sequence, opts) {\n        return new StreamChild(blockDef, placeholder, prefix, index, id, initialState, sequence, opts);\n    };\n    StreamBlock.prototype._createInsertionControl = function (placeholder, opts) {\n        // eslint-disable-next-line no-param-reassign\n        opts.groupedChildBlockDefs = this.blockDef.groupedChildBlockDefs;\n        return new StreamBlockMenu(placeholder, opts);\n    };\n    StreamBlock.prototype.insert = function (_a, index, opts) {\n        var type = _a.type, value = _a.value, id = _a.id;\n        var childBlockDef = this.blockDef.childBlockDefsByName[type];\n        return this._insert(childBlockDef, value, id, index, opts);\n    };\n    StreamBlock.prototype._getChildDataForInsertion = function (_a) {\n        var type = _a.type;\n        /* Called when an 'insert new block' action is triggered: given a dict of data from the insertion control,\n        return the block definition and initial state to be used for the new block.\n        For a StreamBlock, the dict of data consists of 'type' (the chosen block type name, as a string).\n        */\n        var blockDef = this.blockDef.childBlockDefsByName[type];\n        var initialState = this.blockDef.initialChildStates[type];\n        return [blockDef, initialState, (0, uuid_1.v4)()];\n    };\n    StreamBlock.prototype.duplicateBlock = function (index, opts) {\n        var child = this.children[index];\n        var childState = child.getDuplicatedState();\n        var animate = opts && opts.animate;\n        this.insert(childState, index + 1, {\n            animate: animate,\n            focus: true,\n            collapsed: child.collapsed\n        });\n    };\n    StreamBlock.prototype.splitBlock = function (index, valueBefore, valueAfter, shouldMoveCommentFn, opts) {\n        var _a;\n        var child = this.children[index];\n        var animate = opts && opts.animate;\n        var initialState = child.getState();\n        var newChild = this.insert({ type: initialState.type, id: (0, uuid_1.v4)(), value: valueAfter }, index + 1, { animate: animate, focus: true, collapsed: child.collapsed });\n        child.setState({\n            type: initialState.type,\n            id: initialState.id,\n            value: valueBefore\n        });\n        var oldContentPath = child.getContentPath();\n        var newContentPath = newChild.getContentPath();\n        var commentApp = (_a = window.comments) === null || _a === void 0 ? void 0 : _a.commentApp;\n        if (oldContentPath && newContentPath && commentApp) {\n            // Move comments from the old contentpath to the new\n            // We allow use of a custom function to determine whether to move each comment\n            // so it can be done based on intra-field position\n            var selector = commentApp.utils.selectCommentsForContentPathFactory(oldContentPath);\n            var comments = selector(commentApp.store.getState());\n            comments.forEach(function (comment) {\n                if (shouldMoveCommentFn(comment)) {\n                    commentApp.updateContentPath(comment.localId, newContentPath);\n                }\n            });\n        }\n    };\n    StreamBlock.prototype.setState = function (values) {\n        _super.prototype.setState.call(this, values);\n        if (values.length === 0) {\n            /* for an empty list, begin with the menu open */\n            this.inserters[0].open({ animate: false });\n        }\n    };\n    StreamBlock.prototype.setError = function (errorList) {\n        if (errorList.length !== 1) {\n            return;\n        }\n        var error = errorList[0];\n        // Non block errors\n        var container = this.container[0];\n        container\n            .querySelectorAll(':scope > .help-block.help-critical')\n            .forEach(function (element) { return element.remove(); });\n        if (error.nonBlockErrors.length > 0) {\n            // Add a help block for each error raised\n            error.nonBlockErrors.forEach(function (nonBlockError) {\n                var errorElement = document.createElement('p');\n                errorElement.classList.add('help-block');\n                errorElement.classList.add('help-critical');\n                errorElement.innerHTML = (0, text_1.escapeHtml)(nonBlockError.messages[0]);\n                container.insertBefore(errorElement, container.childNodes[0]);\n            });\n        }\n        // Block errors\n        for (var blockIndex in error.blockErrors) {\n            if ((0, hasOwn_1.hasOwn)(error.blockErrors, blockIndex)) {\n                this.children[blockIndex].setError(error.blockErrors[blockIndex]);\n            }\n        }\n    };\n    return StreamBlock;\n}(BaseSequenceBlock_1.BaseSequenceBlock));\nexports.StreamBlock = StreamBlock;\nvar StreamBlockDefinition = /** @class */ (function () {\n    function StreamBlockDefinition(name, groupedChildBlockDefs, initialChildStates, meta) {\n        var _this = this;\n        this.name = name;\n        this.groupedChildBlockDefs = groupedChildBlockDefs;\n        this.initialChildStates = initialChildStates;\n        this.childBlockDefsByName = {};\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.groupedChildBlockDefs.forEach(function (_a) {\n            var _b = __read(_a, 2), group = _b[0], blockDefs = _b[1];\n            blockDefs.forEach(function (blockDef) {\n                _this.childBlockDefsByName[blockDef.name] = blockDef;\n            });\n        });\n        this.meta = meta;\n    }\n    StreamBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\n        return new StreamBlock(this, placeholder, prefix, initialState, initialError);\n    };\n    return StreamBlockDefinition;\n}());\nexports.StreamBlockDefinition = StreamBlockDefinition;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL1N0cmVhbUJsb2NrLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL1N0cmVhbUJsb2NrLmpzPzU0ODEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5TdHJlYW1CbG9ja0RlZmluaXRpb24gPSBleHBvcnRzLlN0cmVhbUJsb2NrID0gZXhwb3J0cy5TdHJlYW1CbG9ja1ZhbGlkYXRpb25FcnJvciA9IHZvaWQgMDtcbnZhciB1dWlkXzEgPSByZXF1aXJlKFwidXVpZFwiKTtcbnZhciBCYXNlU2VxdWVuY2VCbG9ja18xID0gcmVxdWlyZShcIi4vQmFzZVNlcXVlbmNlQmxvY2tcIik7XG52YXIgdGV4dF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3RleHRcIik7XG52YXIgaGFzT3duXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvaGFzT3duXCIpO1xudmFyIHJhbmdlXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvcmFuZ2VcIik7XG4vKiBnbG9iYWwgJCAqL1xudmFyIFN0cmVhbUJsb2NrVmFsaWRhdGlvbkVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmVhbUJsb2NrVmFsaWRhdGlvbkVycm9yKG5vbkJsb2NrRXJyb3JzLCBibG9ja0Vycm9ycykge1xuICAgICAgICB0aGlzLm5vbkJsb2NrRXJyb3JzID0gbm9uQmxvY2tFcnJvcnM7XG4gICAgICAgIHRoaXMuYmxvY2tFcnJvcnMgPSBibG9ja0Vycm9ycztcbiAgICB9XG4gICAgcmV0dXJuIFN0cmVhbUJsb2NrVmFsaWRhdGlvbkVycm9yO1xufSgpKTtcbmV4cG9ydHMuU3RyZWFtQmxvY2tWYWxpZGF0aW9uRXJyb3IgPSBTdHJlYW1CbG9ja1ZhbGlkYXRpb25FcnJvcjtcbnZhciBTdHJlYW1DaGlsZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RyZWFtQ2hpbGQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RyZWFtQ2hpbGQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLypcbiAgICB3cmFwcGVyIGZvciBhIGJsb2NrIGluc2lkZSBhIFN0cmVhbUJsb2NrLCBoYW5kbGluZyBTdHJlYW1CbG9jay1zcGVjaWZpYyBtZXRhZGF0YVxuICAgIHN1Y2ggYXMgaWRcbiAgICAqL1xuICAgIFN0cmVhbUNoaWxkLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmJsb2NrLmdldFN0YXRlKCksXG4gICAgICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgICB9O1xuICAgIH07XG4gICAgU3RyZWFtQ2hpbGQucHJvdG90eXBlLmdldER1cGxpY2F0ZWRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBfc3VwZXIucHJvdG90eXBlLmdldER1cGxpY2F0ZWRTdGF0ZS5jYWxsKHRoaXMpKSwgeyB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgfTtcbiAgICBTdHJlYW1DaGlsZC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBfYS50eXBlLCB2YWx1ZSA9IF9hLnZhbHVlLCBpZCA9IF9hLmlkO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmJsb2NrLnNldFN0YXRlKHZhbHVlKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH07XG4gICAgU3RyZWFtQ2hpbGQucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuYmxvY2suZ2V0VmFsdWUoKSxcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBTdHJlYW1DaGlsZC5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbiAodmFsdWVCZWZvcmUsIHZhbHVlQWZ0ZXIsIHNob3VsZE1vdmVDb21tZW50Rm4sIG9wdHMpIHtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZS5zcGxpdEJsb2NrKHRoaXMuaW5kZXgsIHZhbHVlQmVmb3JlLCB2YWx1ZUFmdGVyLCBzaG91bGRNb3ZlQ29tbWVudEZuLCBvcHRzKTtcbiAgICB9O1xuICAgIHJldHVybiBTdHJlYW1DaGlsZDtcbn0oQmFzZVNlcXVlbmNlQmxvY2tfMS5CYXNlU2VxdWVuY2VDaGlsZCkpO1xudmFyIFN0cmVhbUJsb2NrTWVudSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RyZWFtQmxvY2tNZW51LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0cmVhbUJsb2NrTWVudShwbGFjZWhvbGRlciwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwbGFjZWhvbGRlciwgb3B0cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZ3JvdXBlZENoaWxkQmxvY2tEZWZzID0gb3B0cy5ncm91cGVkQ2hpbGRCbG9ja0RlZnM7XG4gICAgICAgIHZhciBhbmltYXRlID0gb3B0cy5hbmltYXRlO1xuICAgICAgICB2YXIgZG9tID0gJChcIlxcbiAgICAgIDxkaXY+XFxuICAgICAgICA8YnV0dG9uIGRhdGEtc3RyZWFtYmxvY2stbWVudS1vcGVuIHR5cGU9XFxcImJ1dHRvblxcXCIgdGl0bGU9XFxcIlwiLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKG9wdHMuc3RyaW5ncy5BREQpLCBcIlxcXCJcXG4gICAgICAgICAgICBjbGFzcz1cXFwiYy1zZi1hZGQtYnV0dG9uIGMtc2YtYWRkLWJ1dHRvbi0tdmlzaWJsZVxcXCI+XFxuICAgICAgICAgIDxzdmcgY2xhc3M9XFxcImljb24gaWNvbi1wbHVzXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PHVzZSBocmVmPVxcXCIjaWNvbi1wbHVzXFxcIj48L3VzZT48L3N2Zz5cXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPGRpdiBkYXRhLXN0cmVhbWJsb2NrLW1lbnUtb3V0ZXI+XFxuICAgICAgICAgIDxkaXYgZGF0YS1zdHJlYW1ibG9jay1tZW51LWlubmVyIGNsYXNzPVxcXCJjLXNmLWFkZC1wYW5lbFxcXCI+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpKTtcbiAgICAgICAgJChwbGFjZWhvbGRlcikucmVwbGFjZVdpdGgoZG9tKTtcbiAgICAgICAgX3RoaXMuZWxlbWVudCA9IGRvbS5nZXQoMCk7XG4gICAgICAgIF90aGlzLmFkZEJ1dHRvbiA9IGRvbS5maW5kKCdbZGF0YS1zdHJlYW1ibG9jay1tZW51LW9wZW5dJyk7XG4gICAgICAgIF90aGlzLmFkZEJ1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy50b2dnbGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLm91dGVyQ29udGFpbmVyID0gZG9tLmZpbmQoJ1tkYXRhLXN0cmVhbWJsb2NrLW1lbnUtb3V0ZXJdJyk7XG4gICAgICAgIF90aGlzLmlubmVyQ29udGFpbmVyID0gZG9tLmZpbmQoJ1tkYXRhLXN0cmVhbWJsb2NrLW1lbnUtaW5uZXJdJyk7XG4gICAgICAgIF90aGlzLmhhc1JlbmRlcmVkTWVudSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuY2FuQWRkQmxvY2sgPSB0cnVlO1xuICAgICAgICBfdGhpcy5kaXNhYmxlZEJsb2NrVHlwZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIF90aGlzLmNsb3NlKHsgYW5pbWF0ZTogZmFsc2UgfSk7XG4gICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgICBkb20uaGlkZSgpLnNsaWRlRG93bigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RyZWFtQmxvY2tNZW51LnByb3RvdHlwZS5yZW5kZXJNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5oYXNSZW5kZXJlZE1lbnUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaGFzUmVuZGVyZWRNZW51ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ncm91cGVkQ2hpbGRCbG9ja0RlZnMuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMiksIGdyb3VwID0gX2JbMF0sIGJsb2NrRGVmcyA9IF9iWzFdO1xuICAgICAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRpbmcgPSAkKCc8aDQgY2xhc3M9XCJjLXNmLWFkZC1wYW5lbF9fZ3JvdXAtdGl0bGVcIj48L2g0PicpLnRleHQoZ3JvdXApO1xuICAgICAgICAgICAgICAgIF90aGlzLmlubmVyQ29udGFpbmVyLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBncmlkID0gJCgnPGRpdiBjbGFzcz1cImMtc2YtYWRkLXBhbmVsX19ncmlkXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICBfdGhpcy5pbm5lckNvbnRhaW5lci5hcHBlbmQoZ3JpZCk7XG4gICAgICAgICAgICBibG9ja0RlZnMuZm9yRWFjaChmdW5jdGlvbiAoYmxvY2tEZWYpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gJChcIlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImMtc2YtYnV0dG9uIGFjdGlvbi1hZGQtYmxvY2stXCIuY29uY2F0KCgwLCB0ZXh0XzEuZXNjYXBlSHRtbCkoYmxvY2tEZWYubmFtZSksIFwiXFxcIj5cXG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVxcXCJpY29uIGljb24tXCIpLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKGJsb2NrRGVmLm1ldGEuaWNvbiksIFwiIGMtc2YtYnV0dG9uX19pY29uXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+XFxuICAgICAgICAgICAgICA8dXNlIGhyZWY9XFxcIiNpY29uLVwiKS5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKShibG9ja0RlZi5tZXRhLmljb24pLCBcIlxcXCI+PC91c2U+XFxuICAgICAgICAgICAgPC9zdmc+XFxuICAgICAgICAgICAgXCIpLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKGJsb2NrRGVmLm1ldGEubGFiZWwpLCBcIlxcbiAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIFwiKSk7XG4gICAgICAgICAgICAgICAgZ3JpZC5hcHBlbmQoYnV0dG9uKTtcbiAgICAgICAgICAgICAgICBidXR0b24uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25SZXF1ZXN0SW5zZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vblJlcXVlc3RJbnNlcnQoX3RoaXMuaW5kZXgsIHsgdHlwZTogYmxvY2tEZWYubmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSh7IGFuaW1hdGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERpc2FibGUgYnV0dG9ucyBmb3IgYW55IGRpc2FibGVkIGJsb2NrIHR5cGVzXG4gICAgICAgIHRoaXMuZGlzYWJsZWRCbG9ja1R5cGVzLmZvckVhY2goZnVuY3Rpb24gKGJsb2NrVHlwZSkge1xuICAgICAgICAgICAgJChcImJ1dHRvbi5hY3Rpb24tYWRkLWJsb2NrLVwiLmNvbmNhdCgoMCwgdGV4dF8xLmVzY2FwZUh0bWwpKGJsb2NrVHlwZSkpLCBfdGhpcy5pbm5lckNvbnRhaW5lcikuYXR0cignZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0cmVhbUJsb2NrTWVudS5wcm90b3R5cGUuc2V0TmV3QmxvY2tSZXN0cmljdGlvbnMgPSBmdW5jdGlvbiAoY2FuQWRkQmxvY2ssIGRpc2FibGVkQmxvY2tUeXBlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhbkFkZEJsb2NrID0gY2FuQWRkQmxvY2s7XG4gICAgICAgIHRoaXMuZGlzYWJsZWRCbG9ja1R5cGVzID0gZGlzYWJsZWRCbG9ja1R5cGVzO1xuICAgICAgICAvLyBEaXNhYmxlL2VuYWJsZSBtZW51IG9wZW4gYnV0dG9uXG4gICAgICAgIGlmICh0aGlzLmNhbkFkZEJsb2NrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEJ1dHRvbi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGRCdXR0b24uYXR0cignZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsb3NlIG1lbnUgaWYgaXRzIG9wZW4gYW5kIHdlIG5vIGxvbmdlciBjYW4gYWRkIGJsb2Nrc1xuICAgICAgICBpZiAoIWNhbkFkZEJsb2NrICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKHsgYW5pbWF0ZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEaXNhYmxlL2VuYWJsZSBpbmRpdmlkdWFsIGJsb2NrIHR5cGUgYnV0dG9uc1xuICAgICAgICAkKCdidXR0b24nLCB0aGlzLmlubmVyQ29udGFpbmVyKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICBkaXNhYmxlZEJsb2NrVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoYmxvY2tUeXBlKSB7XG4gICAgICAgICAgICAkKFwiYnV0dG9uLmFjdGlvbi1hZGQtYmxvY2stXCIuY29uY2F0KCgwLCB0ZXh0XzEuZXNjYXBlSHRtbCkoYmxvY2tUeXBlKSksIF90aGlzLmlubmVyQ29udGFpbmVyKS5hdHRyKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RyZWFtQmxvY2tNZW51LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSh7IGFuaW1hdGU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oeyBhbmltYXRlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1CbG9ja01lbnUucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICBpZiAoIXRoaXMuY2FuQWRkQmxvY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlck1lbnUoKTtcbiAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5hbmltYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyQ29udGFpbmVyLnNsaWRlRG93bigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vdXRlckNvbnRhaW5lci5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRCdXR0b24uYWRkQ2xhc3MoJ2Mtc2YtYWRkLWJ1dHRvbi0tY2xvc2UnKTtcbiAgICAgICAgdGhpcy5vdXRlckNvbnRhaW5lci5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgfTtcbiAgICBTdHJlYW1CbG9ja01lbnUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5hbmltYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyQ29udGFpbmVyLnNsaWRlVXAoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3V0ZXJDb250YWluZXIuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQnV0dG9uLnJlbW92ZUNsYXNzKCdjLXNmLWFkZC1idXR0b24tLWNsb3NlJyk7XG4gICAgICAgIHRoaXMub3V0ZXJDb250YWluZXIuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFN0cmVhbUJsb2NrTWVudTtcbn0oQmFzZVNlcXVlbmNlQmxvY2tfMS5CYXNlSW5zZXJ0aW9uQ29udHJvbCkpO1xudmFyIFN0cmVhbUJsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdHJlYW1CbG9jaywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdHJlYW1CbG9jayhibG9ja0RlZiwgcGxhY2Vob2xkZXIsIHByZWZpeCwgaW5pdGlhbFN0YXRlLCBpbml0aWFsRXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3RoaXMuYmxvY2tEZWYgPSBibG9ja0RlZjtcbiAgICAgICAgX3RoaXMudHlwZSA9IGJsb2NrRGVmLm5hbWU7XG4gICAgICAgIF90aGlzLnByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgdmFyIGRvbSA9ICQoXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJcIi5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKShfdGhpcy5ibG9ja0RlZi5tZXRhLmNsYXNzbmFtZSB8fCAnJyksIFwiXFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlwiKS5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKShwcmVmaXgpLCBcIi1jb3VudFxcXCIgZGF0YS1zdHJlYW1maWVsZC1zdHJlYW0tY291bnQgdmFsdWU9XFxcIjBcXFwiPlxcbiAgICAgICAgPGRpdiBkYXRhLXN0cmVhbWZpZWxkLXN0cmVhbS1jb250YWluZXI+PC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIFwiKSk7XG4gICAgICAgICQocGxhY2Vob2xkZXIpLnJlcGxhY2VXaXRoKGRvbSk7XG4gICAgICAgIGlmIChfdGhpcy5ibG9ja0RlZi5tZXRhLmhlbHBUZXh0KSB7XG4gICAgICAgICAgICAvLyBoZWxwIHRleHQgaXMgbGVmdCB1bmVzY2FwZWQgYXMgcGVyIERqYW5nbyBjb252ZW50aW9uc1xuICAgICAgICAgICAgJChcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYy1zZi1oZWxwXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGVscFxcXCI+XFxuICAgICAgICAgICAgXCIuY29uY2F0KF90aGlzLmJsb2NrRGVmLm1ldGEuaGVscFRleHQsIFwiXFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgXCIpKS5pbnNlcnRCZWZvcmUoZG9tKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdHJlYW1DaGlsZCBvYmplY3RzIGZvciB0aGUgY3VycmVudCAobm9uLWRlbGV0ZWQpIGNoaWxkIGJsb2Nrc1xuICAgICAgICBfdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvLyBDYWNoZSBmb3IgY2hpbGQgYmxvY2sgY291bnRpbmcgKG5vdCBndWFyYW50ZWVkIHRvIGJlIGZ1bGx5IHBvcHVsYXRlZClcbiAgICAgICAgX3RoaXMuY2hpbGRCbG9ja0NvdW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gSW5zZXJ0aW9uIGNvbnRyb2wgb2JqZWN0cyAtIHRoZXJlIGFyZSBvbmUgbW9yZSBvZiB0aGVzZSB0aGFuIHRoZXJlIGFyZSBjaGlsZHJlbi5cbiAgICAgICAgLy8gVGhlIGNvbnRyb2wgYXQgaW5kZXggbiB3aWxsIGluc2VydCBhIGJsb2NrIGF0IGluZGV4IG5cbiAgICAgICAgX3RoaXMuaW5zZXJ0ZXJzID0gW107XG4gICAgICAgIC8vIEluY3JlbWVudGluZyBjb3VudGVyIHVzZWQgdG8gZ2VuZXJhdGUgYmxvY2sgcHJlZml4ZXMsIGFsc28gcmVmbGVjdGVkIGluIHRoZVxuICAgICAgICAvLyAnY291bnQnIGhpZGRlbiBpbnB1dC4gVGhpcyBjb3VudCBpbmNsdWRlcyBkZWxldGVkIGl0ZW1zXG4gICAgICAgIF90aGlzLmJsb2NrQ291bnRlciA9IDA7XG4gICAgICAgIF90aGlzLmNvdW50SW5wdXQgPSBkb20uZmluZCgnW2RhdGEtc3RyZWFtZmllbGQtc3RyZWFtLWNvdW50XScpO1xuICAgICAgICAvLyBQYXJlbnQgZWxlbWVudCBvZiBpbnNlcnQgY29udHJvbCBhbmQgYmxvY2sgZWxlbWVudHMgKHBvdGVudGlhbGx5IGluY2x1ZGluZyBkZWxldGVkIGl0ZW1zLFxuICAgICAgICAvLyB3aGljaCBhcmUgbGVmdCBiZWhpbmQgYXMgaGlkZGVuIGVsZW1lbnRzIHdpdGggYSAnLWRlbGV0ZWQnIGlucHV0IHNvIHRoYXQgdGhlXG4gICAgICAgIC8vIHNlcnZlci1zaWRlIGZvcm0gaGFuZGxlciBrbm93cyB0byBza2lwIGl0KVxuICAgICAgICBfdGhpcy5zZXF1ZW5jZUNvbnRhaW5lciA9IGRvbS5maW5kKCdbZGF0YS1zdHJlYW1maWVsZC1zdHJlYW0tY29udGFpbmVyXScpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUgfHwgW10pO1xuICAgICAgICBpZiAoX3RoaXMuYmxvY2tEZWYubWV0YS5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgYmxvY2suY29sbGFwc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmNvbnRhaW5lciA9IGRvbTtcbiAgICAgICAgaWYgKGluaXRpYWxFcnJvcikge1xuICAgICAgICAgICAgX3RoaXMuc2V0RXJyb3IoaW5pdGlhbEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0cmVhbUJsb2NrLnByb3RvdHlwZS5nZXRCbG9ja0dyb3VwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tEZWYuZ3JvdXBlZENoaWxkQmxvY2tEZWZzO1xuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLmdldEJsb2NrQ291bnQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAvLyBHZXQgdGhlIGJsb2NrIGNvdW50IGZvciBhIHBhcnRpY3VsYXIgdHlwZSwgb3IgaWYgbm9uZSBpcyBwcm92aWRlZCwgdGhlIHRvdGFsIGJsb2NrIGNvdW50XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jaGlsZEJsb2NrQ291bnRzLmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQmxvY2tDb3VudCh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZEJsb2NrQ291bnRzLmdldCh0eXBlKSB8fCAwO1xuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLmdldEJsb2NrTWF4ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBHZXQgdGhlIG1heGltdW0gbnVtYmVyIG9mIGJsb2NrcyBhbGxvd2FibGUgZm9yIGEgcGFydGljdWxhciB0eXBlLCBvciBpZiBub25lIGlzIHByb3ZpZGVkLCB0aGUgdG90YWwgbWF4aW11bVxuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2NrRGVmLm1ldGEubWF4TnVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmJsb2NrRGVmLm1ldGEuYmxvY2tDb3VudHNbdHlwZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXhfbnVtO1xuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLl91cGRhdGVCbG9ja0NvdW50ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRCbG9ja0NvdW50ID0gdGhpcy5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZC50eXBlID09PSB0eXBlOyB9KS5sZW5ndGg7XG4gICAgICAgIHRoaXMuY2hpbGRCbG9ja0NvdW50cy5zZXQodHlwZSwgY3VycmVudEJsb2NrQ291bnQpO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBDYWxsZWQgd2hlbmV2ZXIgYSBibG9jayBpcyBhZGRlZCBvciByZW1vdmVkXG4gICAgICpcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBhZGQgLyBkdXBsaWNhdGUgYmxvY2sgYnV0dG9ucyB0byBwcmV2ZW50IHRvbyBtYW55IGJsb2NrcyBiZWluZyBpbnNlcnRlZC5cbiAgICAgKi9cbiAgICBTdHJlYW1CbG9jay5wcm90b3R5cGUuYmxvY2tDb3VudENoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYmxvY2tDb3VudENoYW5nZWQuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYW5BZGRCbG9jayA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hpbGRCbG9ja0NvdW50cy5jbGVhcigpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYmxvY2tEZWYubWV0YS5tYXhOdW0gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+PSB0aGlzLmJsb2NrRGVmLm1ldGEubWF4TnVtKSB7XG4gICAgICAgICAgICB0aGlzLmNhbkFkZEJsb2NrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIGFueSBibG9jayB0eXBlcyB0aGF0IGhhdmUgY291bnQgbGltaXRzXG4gICAgICAgIHRoaXMuZGlzYWJsZWRCbG9ja1R5cGVzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKHZhciBibG9ja1R5cGUgaW4gdGhpcy5ibG9ja0RlZi5tZXRhLmJsb2NrQ291bnRzKSB7XG4gICAgICAgICAgICBpZiAoKDAsIGhhc093bl8xLmhhc093bikodGhpcy5ibG9ja0RlZi5tZXRhLmJsb2NrQ291bnRzLCBibG9ja1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1heE51bSA9IHRoaXMuZ2V0QmxvY2tNYXgoYmxvY2tUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heE51bSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRCbG9ja0NvdW50ID0gdGhpcy5nZXRCbG9ja0NvdW50KGJsb2NrVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50QmxvY2tDb3VudCA+PSBtYXhOdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZWRCbG9ja1R5cGVzLmFkZChibG9ja1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICgwLCByYW5nZV8xLnJhbmdlKSgwLCB0aGlzLmluc2VydGVycy5sZW5ndGgpLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIF90aGlzLmluc2VydGVyc1tpXS5zZXROZXdCbG9ja1Jlc3RyaWN0aW9ucyhfdGhpcy5jYW5BZGRCbG9jaywgX3RoaXMuZGlzYWJsZWRCbG9ja1R5cGVzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdHJlYW1CbG9jay5wcm90b3R5cGUuX2NyZWF0ZUNoaWxkID0gZnVuY3Rpb24gKGJsb2NrRGVmLCBwbGFjZWhvbGRlciwgcHJlZml4LCBpbmRleCwgaWQsIGluaXRpYWxTdGF0ZSwgc2VxdWVuY2UsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1DaGlsZChibG9ja0RlZiwgcGxhY2Vob2xkZXIsIHByZWZpeCwgaW5kZXgsIGlkLCBpbml0aWFsU3RhdGUsIHNlcXVlbmNlLCBvcHRzKTtcbiAgICB9O1xuICAgIFN0cmVhbUJsb2NrLnByb3RvdHlwZS5fY3JlYXRlSW5zZXJ0aW9uQ29udHJvbCA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlciwgb3B0cykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgb3B0cy5ncm91cGVkQ2hpbGRCbG9ja0RlZnMgPSB0aGlzLmJsb2NrRGVmLmdyb3VwZWRDaGlsZEJsb2NrRGVmcztcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1CbG9ja01lbnUocGxhY2Vob2xkZXIsIG9wdHMpO1xuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChfYSwgaW5kZXgsIG9wdHMpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBfYS50eXBlLCB2YWx1ZSA9IF9hLnZhbHVlLCBpZCA9IF9hLmlkO1xuICAgICAgICB2YXIgY2hpbGRCbG9ja0RlZiA9IHRoaXMuYmxvY2tEZWYuY2hpbGRCbG9ja0RlZnNCeU5hbWVbdHlwZV07XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnNlcnQoY2hpbGRCbG9ja0RlZiwgdmFsdWUsIGlkLCBpbmRleCwgb3B0cyk7XG4gICAgfTtcbiAgICBTdHJlYW1CbG9jay5wcm90b3R5cGUuX2dldENoaWxkRGF0YUZvckluc2VydGlvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdHlwZSA9IF9hLnR5cGU7XG4gICAgICAgIC8qIENhbGxlZCB3aGVuIGFuICdpbnNlcnQgbmV3IGJsb2NrJyBhY3Rpb24gaXMgdHJpZ2dlcmVkOiBnaXZlbiBhIGRpY3Qgb2YgZGF0YSBmcm9tIHRoZSBpbnNlcnRpb24gY29udHJvbCxcbiAgICAgICAgcmV0dXJuIHRoZSBibG9jayBkZWZpbml0aW9uIGFuZCBpbml0aWFsIHN0YXRlIHRvIGJlIHVzZWQgZm9yIHRoZSBuZXcgYmxvY2suXG4gICAgICAgIEZvciBhIFN0cmVhbUJsb2NrLCB0aGUgZGljdCBvZiBkYXRhIGNvbnNpc3RzIG9mICd0eXBlJyAodGhlIGNob3NlbiBibG9jayB0eXBlIG5hbWUsIGFzIGEgc3RyaW5nKS5cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIGJsb2NrRGVmID0gdGhpcy5ibG9ja0RlZi5jaGlsZEJsb2NrRGVmc0J5TmFtZVt0eXBlXTtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHRoaXMuYmxvY2tEZWYuaW5pdGlhbENoaWxkU3RhdGVzW3R5cGVdO1xuICAgICAgICByZXR1cm4gW2Jsb2NrRGVmLCBpbml0aWFsU3RhdGUsICgwLCB1dWlkXzEudjQpKCldO1xuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLmR1cGxpY2F0ZUJsb2NrID0gZnVuY3Rpb24gKGluZGV4LCBvcHRzKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICB2YXIgY2hpbGRTdGF0ZSA9IGNoaWxkLmdldER1cGxpY2F0ZWRTdGF0ZSgpO1xuICAgICAgICB2YXIgYW5pbWF0ZSA9IG9wdHMgJiYgb3B0cy5hbmltYXRlO1xuICAgICAgICB0aGlzLmluc2VydChjaGlsZFN0YXRlLCBpbmRleCArIDEsIHtcbiAgICAgICAgICAgIGFuaW1hdGU6IGFuaW1hdGUsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgIGNvbGxhcHNlZDogY2hpbGQuY29sbGFwc2VkXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLnNwbGl0QmxvY2sgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlQmVmb3JlLCB2YWx1ZUFmdGVyLCBzaG91bGRNb3ZlQ29tbWVudEZuLCBvcHRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gICAgICAgIHZhciBhbmltYXRlID0gb3B0cyAmJiBvcHRzLmFuaW1hdGU7XG4gICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSBjaGlsZC5nZXRTdGF0ZSgpO1xuICAgICAgICB2YXIgbmV3Q2hpbGQgPSB0aGlzLmluc2VydCh7IHR5cGU6IGluaXRpYWxTdGF0ZS50eXBlLCBpZDogKDAsIHV1aWRfMS52NCkoKSwgdmFsdWU6IHZhbHVlQWZ0ZXIgfSwgaW5kZXggKyAxLCB7IGFuaW1hdGU6IGFuaW1hdGUsIGZvY3VzOiB0cnVlLCBjb2xsYXBzZWQ6IGNoaWxkLmNvbGxhcHNlZCB9KTtcbiAgICAgICAgY2hpbGQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdHlwZTogaW5pdGlhbFN0YXRlLnR5cGUsXG4gICAgICAgICAgICBpZDogaW5pdGlhbFN0YXRlLmlkLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlQmVmb3JlXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb2xkQ29udGVudFBhdGggPSBjaGlsZC5nZXRDb250ZW50UGF0aCgpO1xuICAgICAgICB2YXIgbmV3Q29udGVudFBhdGggPSBuZXdDaGlsZC5nZXRDb250ZW50UGF0aCgpO1xuICAgICAgICB2YXIgY29tbWVudEFwcCA9IChfYSA9IHdpbmRvdy5jb21tZW50cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbW1lbnRBcHA7XG4gICAgICAgIGlmIChvbGRDb250ZW50UGF0aCAmJiBuZXdDb250ZW50UGF0aCAmJiBjb21tZW50QXBwKSB7XG4gICAgICAgICAgICAvLyBNb3ZlIGNvbW1lbnRzIGZyb20gdGhlIG9sZCBjb250ZW50cGF0aCB0byB0aGUgbmV3XG4gICAgICAgICAgICAvLyBXZSBhbGxvdyB1c2Ugb2YgYSBjdXN0b20gZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gbW92ZSBlYWNoIGNvbW1lbnRcbiAgICAgICAgICAgIC8vIHNvIGl0IGNhbiBiZSBkb25lIGJhc2VkIG9uIGludHJhLWZpZWxkIHBvc2l0aW9uXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBjb21tZW50QXBwLnV0aWxzLnNlbGVjdENvbW1lbnRzRm9yQ29udGVudFBhdGhGYWN0b3J5KG9sZENvbnRlbnRQYXRoKTtcbiAgICAgICAgICAgIHZhciBjb21tZW50cyA9IHNlbGVjdG9yKGNvbW1lbnRBcHAuc3RvcmUuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICBjb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21tZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZE1vdmVDb21tZW50Rm4oY29tbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudEFwcC51cGRhdGVDb250ZW50UGF0aChjb21tZW50LmxvY2FsSWQsIG5ld0NvbnRlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnNldFN0YXRlLmNhbGwodGhpcywgdmFsdWVzKTtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8qIGZvciBhbiBlbXB0eSBsaXN0LCBiZWdpbiB3aXRoIHRoZSBtZW51IG9wZW4gKi9cbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0ZXJzWzBdLm9wZW4oeyBhbmltYXRlOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQmxvY2sucHJvdG90eXBlLnNldEVycm9yID0gZnVuY3Rpb24gKGVycm9yTGlzdCkge1xuICAgICAgICBpZiAoZXJyb3JMaXN0Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yTGlzdFswXTtcbiAgICAgICAgLy8gTm9uIGJsb2NrIGVycm9yc1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJbMF07XG4gICAgICAgIGNvbnRhaW5lclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IC5oZWxwLWJsb2NrLmhlbHAtY3JpdGljYWwnKVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQucmVtb3ZlKCk7IH0pO1xuICAgICAgICBpZiAoZXJyb3Iubm9uQmxvY2tFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gQWRkIGEgaGVscCBibG9jayBmb3IgZWFjaCBlcnJvciByYWlzZWRcbiAgICAgICAgICAgIGVycm9yLm5vbkJsb2NrRXJyb3JzLmZvckVhY2goZnVuY3Rpb24gKG5vbkJsb2NrRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAgICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoZWxwLWJsb2NrJyk7XG4gICAgICAgICAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hlbHAtY3JpdGljYWwnKTtcbiAgICAgICAgICAgICAgICBlcnJvckVsZW1lbnQuaW5uZXJIVE1MID0gKDAsIHRleHRfMS5lc2NhcGVIdG1sKShub25CbG9ja0Vycm9yLm1lc3NhZ2VzWzBdKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGVycm9yRWxlbWVudCwgY29udGFpbmVyLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmxvY2sgZXJyb3JzXG4gICAgICAgIGZvciAodmFyIGJsb2NrSW5kZXggaW4gZXJyb3IuYmxvY2tFcnJvcnMpIHtcbiAgICAgICAgICAgIGlmICgoMCwgaGFzT3duXzEuaGFzT3duKShlcnJvci5ibG9ja0Vycm9ycywgYmxvY2tJbmRleCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2Jsb2NrSW5kZXhdLnNldEVycm9yKGVycm9yLmJsb2NrRXJyb3JzW2Jsb2NrSW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN0cmVhbUJsb2NrO1xufShCYXNlU2VxdWVuY2VCbG9ja18xLkJhc2VTZXF1ZW5jZUJsb2NrKSk7XG5leHBvcnRzLlN0cmVhbUJsb2NrID0gU3RyZWFtQmxvY2s7XG52YXIgU3RyZWFtQmxvY2tEZWZpbml0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmVhbUJsb2NrRGVmaW5pdGlvbihuYW1lLCBncm91cGVkQ2hpbGRCbG9ja0RlZnMsIGluaXRpYWxDaGlsZFN0YXRlcywgbWV0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmdyb3VwZWRDaGlsZEJsb2NrRGVmcyA9IGdyb3VwZWRDaGlsZEJsb2NrRGVmcztcbiAgICAgICAgdGhpcy5pbml0aWFsQ2hpbGRTdGF0ZXMgPSBpbml0aWFsQ2hpbGRTdGF0ZXM7XG4gICAgICAgIHRoaXMuY2hpbGRCbG9ja0RlZnNCeU5hbWUgPSB7fTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICB0aGlzLmdyb3VwZWRDaGlsZEJsb2NrRGVmcy5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSwgZ3JvdXAgPSBfYlswXSwgYmxvY2tEZWZzID0gX2JbMV07XG4gICAgICAgICAgICBibG9ja0RlZnMuZm9yRWFjaChmdW5jdGlvbiAoYmxvY2tEZWYpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jaGlsZEJsb2NrRGVmc0J5TmFtZVtibG9ja0RlZi5uYW1lXSA9IGJsb2NrRGVmO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1ldGEgPSBtZXRhO1xuICAgIH1cbiAgICBTdHJlYW1CbG9ja0RlZmluaXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlciwgcHJlZml4LCBpbml0aWFsU3RhdGUsIGluaXRpYWxFcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmVhbUJsb2NrKHRoaXMsIHBsYWNlaG9sZGVyLCBwcmVmaXgsIGluaXRpYWxTdGF0ZSwgaW5pdGlhbEVycm9yKTtcbiAgICB9O1xuICAgIHJldHVybiBTdHJlYW1CbG9ja0RlZmluaXRpb247XG59KCkpO1xuZXhwb3J0cy5TdHJlYW1CbG9ja0RlZmluaXRpb24gPSBTdHJlYW1CbG9ja0RlZmluaXRpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./client/src/components/StreamField/blocks/StreamBlock.js\n");

/***/ }),

/***/ "./client/src/components/StreamField/blocks/StructBlock.js":
/*!*****************************************************************!*\
  !*** ./client/src/components/StreamField/blocks/StructBlock.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/* global $ */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexports.__esModule = true;\nexports.StructBlockDefinition = exports.StructBlock = exports.StructBlockValidationError = void 0;\nvar text_1 = __webpack_require__(/*! ../../../utils/text */ \"./client/src/utils/text.ts\");\nvar hasOwn_1 = __webpack_require__(/*! ../../../utils/hasOwn */ \"./client/src/utils/hasOwn.ts\");\nvar StructBlockValidationError = /** @class */ (function () {\n    function StructBlockValidationError(blockErrors) {\n        this.blockErrors = blockErrors;\n    }\n    return StructBlockValidationError;\n}());\nexports.StructBlockValidationError = StructBlockValidationError;\nvar StructBlock = /** @class */ (function () {\n    function StructBlock(blockDef, placeholder, prefix, initialState, initialError) {\n        var _this = this;\n        var state = initialState || {};\n        this.blockDef = blockDef;\n        this.type = blockDef.name;\n        this.childBlocks = {};\n        if (blockDef.meta.formTemplate) {\n            var html = blockDef.meta.formTemplate.replace(/__PREFIX__/g, prefix);\n            var dom_1 = $(html);\n            $(placeholder).replaceWith(dom_1);\n            this.blockDef.childBlockDefs.forEach(function (childBlockDef) {\n                var childBlockElement = dom_1\n                    .find('[data-structblock-child=\"' + childBlockDef.name + '\"]')\n                    .get(0);\n                var childBlock = childBlockDef.render(childBlockElement, prefix + '-' + childBlockDef.name, state[childBlockDef.name], initialError === null || initialError === void 0 ? void 0 : initialError.blockErrors[childBlockDef.name]);\n                _this.childBlocks[childBlockDef.name] = childBlock;\n            });\n        }\n        else {\n            var dom_2 = $(\"\\n        <div class=\\\"\".concat((0, text_1.escapeHtml)(this.blockDef.meta.classname || ''), \"\\\">\\n        </div>\\n      \"));\n            $(placeholder).replaceWith(dom_2);\n            if (this.blockDef.meta.helpText) {\n                // help text is left unescaped as per Django conventions\n                dom_2.append(\"\\n          <div class=\\\"c-sf-help\\\">\\n            <div class=\\\"help\\\">\\n              \".concat(this.blockDef.meta.helpText, \"\\n            </div>\\n          </div>\\n        \"));\n            }\n            this.blockDef.childBlockDefs.forEach(function (childBlockDef) {\n                var childDom = $(\"\\n        <div data-contentpath=\\\"\".concat(childBlockDef.name, \"\\\">\\n          <label class=\\\"w-field__label\\\">\").concat((0, text_1.escapeHtml)(childBlockDef.meta.label)).concat(childBlockDef.meta.required\n                    ? '<span class=\"w-required-mark\">*</span>'\n                    : '', \"</label>\\n            <div data-streamfield-block></div>\\n          </div>\\n        \"));\n                dom_2.append(childDom);\n                var childBlockElement = childDom\n                    .find('[data-streamfield-block]')\n                    .get(0);\n                var labelElement = childDom.find('label').get(0);\n                var childBlock = childBlockDef.render(childBlockElement, prefix + '-' + childBlockDef.name, state[childBlockDef.name], initialError === null || initialError === void 0 ? void 0 : initialError.blockErrors[childBlockDef.name], new Map());\n                _this.childBlocks[childBlockDef.name] = childBlock;\n                if (childBlock.idForLabel) {\n                    labelElement.setAttribute('for', childBlock.idForLabel);\n                }\n            });\n        }\n    }\n    StructBlock.prototype.setState = function (state) {\n        // eslint-disable-next-line guard-for-in\n        for (var name_1 in state) {\n            this.childBlocks[name_1].setState(state[name_1]);\n        }\n    };\n    StructBlock.prototype.setError = function (errorList) {\n        if (errorList.length !== 1) {\n            return;\n        }\n        var error = errorList[0];\n        for (var blockName in error.blockErrors) {\n            if ((0, hasOwn_1.hasOwn)(error.blockErrors, blockName)) {\n                this.childBlocks[blockName].setError(error.blockErrors[blockName]);\n            }\n        }\n    };\n    StructBlock.prototype.getState = function () {\n        var state = {};\n        // eslint-disable-next-line guard-for-in\n        for (var name_2 in this.childBlocks) {\n            state[name_2] = this.childBlocks[name_2].getState();\n        }\n        return state;\n    };\n    StructBlock.prototype.getDuplicatedState = function () {\n        var state = {};\n        // eslint-disable-next-line guard-for-in\n        for (var name_3 in this.childBlocks) {\n            var block = this.childBlocks[name_3];\n            state[name_3] =\n                block.getDuplicatedState === undefined\n                    ? block.getState()\n                    : block.getDuplicatedState();\n        }\n        return state;\n    };\n    StructBlock.prototype.getValue = function () {\n        var value = {};\n        // eslint-disable-next-line guard-for-in\n        for (var name_4 in this.childBlocks) {\n            value[name_4] = this.childBlocks[name_4].getValue();\n        }\n        return value;\n    };\n    StructBlock.prototype.getTextLabel = function (opts) {\n        var e_1, _a;\n        var _this = this;\n        if (this.blockDef.meta.labelFormat) {\n            /* use labelFormat - regexp replace any field references like '{first_name}'\n            with the text label of that sub-block */\n            return this.blockDef.meta.labelFormat.replace(/\\{(\\w+)\\}/g, function (tag, blockName) {\n                var block = _this.childBlocks[blockName];\n                if (block.getTextLabel) {\n                    /* to be strictly correct, we should be adjusting opts.maxLength to account for the overheads\n                  in the format string, and dividing the remainder across all the placeholders in the string,\n                  rather than just passing opts on to the child. But that would get complicated, and this is\n                  better than nothing... */\n                    return block.getTextLabel(opts);\n                }\n                return '';\n            });\n        }\n        try {\n            /* if no labelFormat specified, just try each child block in turn until we find one that provides a label */\n            for (var _b = __values(this.blockDef.childBlockDefs), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var childDef = _c.value;\n                var child = this.childBlocks[childDef.name];\n                if (child.getTextLabel) {\n                    var val = child.getTextLabel(opts);\n                    if (val)\n                        return val;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // no usable label found\n        return null;\n    };\n    StructBlock.prototype.focus = function (opts) {\n        if (this.blockDef.childBlockDefs.length) {\n            var firstChildName = this.blockDef.childBlockDefs[0].name;\n            this.childBlocks[firstChildName].focus(opts);\n        }\n    };\n    return StructBlock;\n}());\nexports.StructBlock = StructBlock;\nvar StructBlockDefinition = /** @class */ (function () {\n    function StructBlockDefinition(name, childBlockDefs, meta) {\n        this.name = name;\n        this.childBlockDefs = childBlockDefs;\n        this.meta = meta;\n    }\n    StructBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\n        return new StructBlock(this, placeholder, prefix, initialState, initialError);\n    };\n    return StructBlockDefinition;\n}());\nexports.StructBlockDefinition = StructBlockDefinition;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL1N0cnVjdEJsb2NrLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vY2xpZW50L3NyYy9jb21wb25lbnRzL1N0cmVhbUZpZWxkL2Jsb2Nrcy9TdHJ1Y3RCbG9jay5qcz8yZTkwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsICQgKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlN0cnVjdEJsb2NrRGVmaW5pdGlvbiA9IGV4cG9ydHMuU3RydWN0QmxvY2sgPSBleHBvcnRzLlN0cnVjdEJsb2NrVmFsaWRhdGlvbkVycm9yID0gdm9pZCAwO1xudmFyIHRleHRfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy90ZXh0XCIpO1xudmFyIGhhc093bl8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2hhc093blwiKTtcbnZhciBTdHJ1Y3RCbG9ja1ZhbGlkYXRpb25FcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJ1Y3RCbG9ja1ZhbGlkYXRpb25FcnJvcihibG9ja0Vycm9ycykge1xuICAgICAgICB0aGlzLmJsb2NrRXJyb3JzID0gYmxvY2tFcnJvcnM7XG4gICAgfVxuICAgIHJldHVybiBTdHJ1Y3RCbG9ja1ZhbGlkYXRpb25FcnJvcjtcbn0oKSk7XG5leHBvcnRzLlN0cnVjdEJsb2NrVmFsaWRhdGlvbkVycm9yID0gU3RydWN0QmxvY2tWYWxpZGF0aW9uRXJyb3I7XG52YXIgU3RydWN0QmxvY2sgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RydWN0QmxvY2soYmxvY2tEZWYsIHBsYWNlaG9sZGVyLCBwcmVmaXgsIGluaXRpYWxTdGF0ZSwgaW5pdGlhbEVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZSB8fCB7fTtcbiAgICAgICAgdGhpcy5ibG9ja0RlZiA9IGJsb2NrRGVmO1xuICAgICAgICB0aGlzLnR5cGUgPSBibG9ja0RlZi5uYW1lO1xuICAgICAgICB0aGlzLmNoaWxkQmxvY2tzID0ge307XG4gICAgICAgIGlmIChibG9ja0RlZi5tZXRhLmZvcm1UZW1wbGF0ZSkge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBibG9ja0RlZi5tZXRhLmZvcm1UZW1wbGF0ZS5yZXBsYWNlKC9fX1BSRUZJWF9fL2csIHByZWZpeCk7XG4gICAgICAgICAgICB2YXIgZG9tXzEgPSAkKGh0bWwpO1xuICAgICAgICAgICAgJChwbGFjZWhvbGRlcikucmVwbGFjZVdpdGgoZG9tXzEpO1xuICAgICAgICAgICAgdGhpcy5ibG9ja0RlZi5jaGlsZEJsb2NrRGVmcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZEJsb2NrRGVmKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQmxvY2tFbGVtZW50ID0gZG9tXzFcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ1tkYXRhLXN0cnVjdGJsb2NrLWNoaWxkPVwiJyArIGNoaWxkQmxvY2tEZWYubmFtZSArICdcIl0nKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KDApO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZEJsb2NrID0gY2hpbGRCbG9ja0RlZi5yZW5kZXIoY2hpbGRCbG9ja0VsZW1lbnQsIHByZWZpeCArICctJyArIGNoaWxkQmxvY2tEZWYubmFtZSwgc3RhdGVbY2hpbGRCbG9ja0RlZi5uYW1lXSwgaW5pdGlhbEVycm9yID09PSBudWxsIHx8IGluaXRpYWxFcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbEVycm9yLmJsb2NrRXJyb3JzW2NoaWxkQmxvY2tEZWYubmFtZV0pO1xuICAgICAgICAgICAgICAgIF90aGlzLmNoaWxkQmxvY2tzW2NoaWxkQmxvY2tEZWYubmFtZV0gPSBjaGlsZEJsb2NrO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZG9tXzIgPSAkKFwiXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJcIi5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKSh0aGlzLmJsb2NrRGVmLm1ldGEuY2xhc3NuYW1lIHx8ICcnKSwgXCJcXFwiPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgXCIpKTtcbiAgICAgICAgICAgICQocGxhY2Vob2xkZXIpLnJlcGxhY2VXaXRoKGRvbV8yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJsb2NrRGVmLm1ldGEuaGVscFRleHQpIHtcbiAgICAgICAgICAgICAgICAvLyBoZWxwIHRleHQgaXMgbGVmdCB1bmVzY2FwZWQgYXMgcGVyIERqYW5nbyBjb252ZW50aW9uc1xuICAgICAgICAgICAgICAgIGRvbV8yLmFwcGVuZChcIlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjLXNmLWhlbHBcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhlbHBcXFwiPlxcbiAgICAgICAgICAgICAgXCIuY29uY2F0KHRoaXMuYmxvY2tEZWYubWV0YS5oZWxwVGV4dCwgXCJcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICBcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ibG9ja0RlZi5jaGlsZEJsb2NrRGVmcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZEJsb2NrRGVmKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkRG9tID0gJChcIlxcbiAgICAgICAgPGRpdiBkYXRhLWNvbnRlbnRwYXRoPVxcXCJcIi5jb25jYXQoY2hpbGRCbG9ja0RlZi5uYW1lLCBcIlxcXCI+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwidy1maWVsZF9fbGFiZWxcXFwiPlwiKS5jb25jYXQoKDAsIHRleHRfMS5lc2NhcGVIdG1sKShjaGlsZEJsb2NrRGVmLm1ldGEubGFiZWwpKS5jb25jYXQoY2hpbGRCbG9ja0RlZi5tZXRhLnJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwidy1yZXF1aXJlZC1tYXJrXCI+Kjwvc3Bhbj4nXG4gICAgICAgICAgICAgICAgICAgIDogJycsIFwiPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGRhdGEtc3RyZWFtZmllbGQtYmxvY2s+PC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgXCIpKTtcbiAgICAgICAgICAgICAgICBkb21fMi5hcHBlbmQoY2hpbGREb20pO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZEJsb2NrRWxlbWVudCA9IGNoaWxkRG9tXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCdbZGF0YS1zdHJlYW1maWVsZC1ibG9ja10nKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0KDApO1xuICAgICAgICAgICAgICAgIHZhciBsYWJlbEVsZW1lbnQgPSBjaGlsZERvbS5maW5kKCdsYWJlbCcpLmdldCgwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRCbG9jayA9IGNoaWxkQmxvY2tEZWYucmVuZGVyKGNoaWxkQmxvY2tFbGVtZW50LCBwcmVmaXggKyAnLScgKyBjaGlsZEJsb2NrRGVmLm5hbWUsIHN0YXRlW2NoaWxkQmxvY2tEZWYubmFtZV0sIGluaXRpYWxFcnJvciA9PT0gbnVsbCB8fCBpbml0aWFsRXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxFcnJvci5ibG9ja0Vycm9yc1tjaGlsZEJsb2NrRGVmLm5hbWVdLCBuZXcgTWFwKCkpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNoaWxkQmxvY2tzW2NoaWxkQmxvY2tEZWYubmFtZV0gPSBjaGlsZEJsb2NrO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZEJsb2NrLmlkRm9yTGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnZm9yJywgY2hpbGRCbG9jay5pZEZvckxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdHJ1Y3RCbG9jay5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgICAgICBmb3IgKHZhciBuYW1lXzEgaW4gc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRCbG9ja3NbbmFtZV8xXS5zZXRTdGF0ZShzdGF0ZVtuYW1lXzFdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RydWN0QmxvY2sucHJvdG90eXBlLnNldEVycm9yID0gZnVuY3Rpb24gKGVycm9yTGlzdCkge1xuICAgICAgICBpZiAoZXJyb3JMaXN0Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yTGlzdFswXTtcbiAgICAgICAgZm9yICh2YXIgYmxvY2tOYW1lIGluIGVycm9yLmJsb2NrRXJyb3JzKSB7XG4gICAgICAgICAgICBpZiAoKDAsIGhhc093bl8xLmhhc093bikoZXJyb3IuYmxvY2tFcnJvcnMsIGJsb2NrTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkQmxvY2tzW2Jsb2NrTmFtZV0uc2V0RXJyb3IoZXJyb3IuYmxvY2tFcnJvcnNbYmxvY2tOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cnVjdEJsb2NrLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0ge307XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cbiAgICAgICAgZm9yICh2YXIgbmFtZV8yIGluIHRoaXMuY2hpbGRCbG9ja3MpIHtcbiAgICAgICAgICAgIHN0YXRlW25hbWVfMl0gPSB0aGlzLmNoaWxkQmxvY2tzW25hbWVfMl0uZ2V0U3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICBTdHJ1Y3RCbG9jay5wcm90b3R5cGUuZ2V0RHVwbGljYXRlZFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgICAgICBmb3IgKHZhciBuYW1lXzMgaW4gdGhpcy5jaGlsZEJsb2Nrcykge1xuICAgICAgICAgICAgdmFyIGJsb2NrID0gdGhpcy5jaGlsZEJsb2Nrc1tuYW1lXzNdO1xuICAgICAgICAgICAgc3RhdGVbbmFtZV8zXSA9XG4gICAgICAgICAgICAgICAgYmxvY2suZ2V0RHVwbGljYXRlZFN0YXRlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBibG9jay5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgIDogYmxvY2suZ2V0RHVwbGljYXRlZFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgU3RydWN0QmxvY2sucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB7fTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgICAgICBmb3IgKHZhciBuYW1lXzQgaW4gdGhpcy5jaGlsZEJsb2Nrcykge1xuICAgICAgICAgICAgdmFsdWVbbmFtZV80XSA9IHRoaXMuY2hpbGRCbG9ja3NbbmFtZV80XS5nZXRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIFN0cnVjdEJsb2NrLnByb3RvdHlwZS5nZXRUZXh0TGFiZWwgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuYmxvY2tEZWYubWV0YS5sYWJlbEZvcm1hdCkge1xuICAgICAgICAgICAgLyogdXNlIGxhYmVsRm9ybWF0IC0gcmVnZXhwIHJlcGxhY2UgYW55IGZpZWxkIHJlZmVyZW5jZXMgbGlrZSAne2ZpcnN0X25hbWV9J1xuICAgICAgICAgICAgd2l0aCB0aGUgdGV4dCBsYWJlbCBvZiB0aGF0IHN1Yi1ibG9jayAqL1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tEZWYubWV0YS5sYWJlbEZvcm1hdC5yZXBsYWNlKC9cXHsoXFx3KylcXH0vZywgZnVuY3Rpb24gKHRhZywgYmxvY2tOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJsb2NrID0gX3RoaXMuY2hpbGRCbG9ja3NbYmxvY2tOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2suZ2V0VGV4dExhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHRvIGJlIHN0cmljdGx5IGNvcnJlY3QsIHdlIHNob3VsZCBiZSBhZGp1c3Rpbmcgb3B0cy5tYXhMZW5ndGggdG8gYWNjb3VudCBmb3IgdGhlIG92ZXJoZWFkc1xuICAgICAgICAgICAgICAgICAgaW4gdGhlIGZvcm1hdCBzdHJpbmcsIGFuZCBkaXZpZGluZyB0aGUgcmVtYWluZGVyIGFjcm9zcyBhbGwgdGhlIHBsYWNlaG9sZGVycyBpbiB0aGUgc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgcmF0aGVyIHRoYW4ganVzdCBwYXNzaW5nIG9wdHMgb24gdG8gdGhlIGNoaWxkLiBCdXQgdGhhdCB3b3VsZCBnZXQgY29tcGxpY2F0ZWQsIGFuZCB0aGlzIGlzXG4gICAgICAgICAgICAgICAgICBiZXR0ZXIgdGhhbiBub3RoaW5nLi4uICovXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9jay5nZXRUZXh0TGFiZWwob3B0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvKiBpZiBubyBsYWJlbEZvcm1hdCBzcGVjaWZpZWQsIGp1c3QgdHJ5IGVhY2ggY2hpbGQgYmxvY2sgaW4gdHVybiB1bnRpbCB3ZSBmaW5kIG9uZSB0aGF0IHByb3ZpZGVzIGEgbGFiZWwgKi9cbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5ibG9ja0RlZi5jaGlsZEJsb2NrRGVmcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGREZWYgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkQmxvY2tzW2NoaWxkRGVmLm5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZXRUZXh0TGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGNoaWxkLmdldFRleHRMYWJlbChvcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2JbXCJyZXR1cm5cIl0pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBubyB1c2FibGUgbGFiZWwgZm91bmRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBTdHJ1Y3RCbG9jay5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICBpZiAodGhpcy5ibG9ja0RlZi5jaGlsZEJsb2NrRGVmcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdENoaWxkTmFtZSA9IHRoaXMuYmxvY2tEZWYuY2hpbGRCbG9ja0RlZnNbMF0ubmFtZTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRCbG9ja3NbZmlyc3RDaGlsZE5hbWVdLmZvY3VzKG9wdHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3RydWN0QmxvY2s7XG59KCkpO1xuZXhwb3J0cy5TdHJ1Y3RCbG9jayA9IFN0cnVjdEJsb2NrO1xudmFyIFN0cnVjdEJsb2NrRGVmaW5pdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJ1Y3RCbG9ja0RlZmluaXRpb24obmFtZSwgY2hpbGRCbG9ja0RlZnMsIG1ldGEpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jaGlsZEJsb2NrRGVmcyA9IGNoaWxkQmxvY2tEZWZzO1xuICAgICAgICB0aGlzLm1ldGEgPSBtZXRhO1xuICAgIH1cbiAgICBTdHJ1Y3RCbG9ja0RlZmluaXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwbGFjZWhvbGRlciwgcHJlZml4LCBpbml0aWFsU3RhdGUsIGluaXRpYWxFcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IFN0cnVjdEJsb2NrKHRoaXMsIHBsYWNlaG9sZGVyLCBwcmVmaXgsIGluaXRpYWxTdGF0ZSwgaW5pdGlhbEVycm9yKTtcbiAgICB9O1xuICAgIHJldHVybiBTdHJ1Y3RCbG9ja0RlZmluaXRpb247XG59KCkpO1xuZXhwb3J0cy5TdHJ1Y3RCbG9ja0RlZmluaXRpb24gPSBTdHJ1Y3RCbG9ja0RlZmluaXRpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./client/src/components/StreamField/blocks/StructBlock.js\n");

/***/ }),

/***/ "./client/src/entrypoints/admin/telepath/blocks.js":
/*!*********************************************************!*\
  !*** ./client/src/entrypoints/admin/telepath/blocks.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nexports.__esModule = true;\nvar FieldBlock_1 = __webpack_require__(/*! ../../../components/StreamField/blocks/FieldBlock */ \"./client/src/components/StreamField/blocks/FieldBlock.js\");\nvar StaticBlock_1 = __webpack_require__(/*! ../../../components/StreamField/blocks/StaticBlock */ \"./client/src/components/StreamField/blocks/StaticBlock.js\");\nvar StructBlock_1 = __webpack_require__(/*! ../../../components/StreamField/blocks/StructBlock */ \"./client/src/components/StreamField/blocks/StructBlock.js\");\nvar ListBlock_1 = __webpack_require__(/*! ../../../components/StreamField/blocks/ListBlock */ \"./client/src/components/StreamField/blocks/ListBlock.js\");\nvar StreamBlock_1 = __webpack_require__(/*! ../../../components/StreamField/blocks/StreamBlock */ \"./client/src/components/StreamField/blocks/StreamBlock.js\");\nvar wagtailStreamField = window.wagtailStreamField || {};\nwagtailStreamField.blocks = {\n    FieldBlock: FieldBlock_1.FieldBlock,\n    FieldBlockDefinition: FieldBlock_1.FieldBlockDefinition,\n    StaticBlock: StaticBlock_1.StaticBlock,\n    StaticBlockDefinition: StaticBlock_1.StaticBlockDefinition,\n    StructBlock: StructBlock_1.StructBlock,\n    StructBlockDefinition: StructBlock_1.StructBlockDefinition,\n    StructBlockValidationError: StructBlock_1.StructBlockValidationError,\n    ListBlock: ListBlock_1.ListBlock,\n    ListBlockDefinition: ListBlock_1.ListBlockDefinition,\n    ListBlockValidationError: ListBlock_1.ListBlockValidationError,\n    StreamBlock: StreamBlock_1.StreamBlock,\n    StreamBlockDefinition: StreamBlock_1.StreamBlockDefinition,\n    StreamBlockValidationError: StreamBlock_1.StreamBlockValidationError\n};\nfunction initBlockWidget(id) {\n    /*\n    Initialises the top-level element of a BlockWidget\n    (the form widget for a StreamField).\n    Receives the ID of a DOM element with the attributes:\n      data-block: JSON-encoded block definition to be passed to telepath.unpack\n        to obtain a Javascript representation of the block\n        (an instance of one of the Block classes below)\n      data-value: JSON-encoded value for this block\n    */\n    var body = document.querySelector('#' + id + '[data-block]');\n    // unpack the block definition and value\n    var blockDefData = JSON.parse(body.dataset.block);\n    var blockDef = window.telepath.unpack(blockDefData);\n    var blockValue = JSON.parse(body.dataset.value);\n    var blockErrors = window.telepath.unpack(JSON.parse(body.dataset.errors));\n    // replace the 'body' element with the populated HTML structure for the block\n    blockDef.render(body, id, blockValue, blockErrors);\n}\nwindow.initBlockWidget = initBlockWidget;\nwindow.telepath.register('wagtail.blocks.FieldBlock', FieldBlock_1.FieldBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StaticBlock', StaticBlock_1.StaticBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StructBlock', StructBlock_1.StructBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StructBlockValidationError', StructBlock_1.StructBlockValidationError);\nwindow.telepath.register('wagtail.blocks.ListBlock', ListBlock_1.ListBlockDefinition);\nwindow.telepath.register('wagtail.blocks.ListBlockValidationError', ListBlock_1.ListBlockValidationError);\nwindow.telepath.register('wagtail.blocks.StreamBlock', StreamBlock_1.StreamBlockDefinition);\nwindow.telepath.register('wagtail.blocks.StreamBlockValidationError', StreamBlock_1.StreamBlockValidationError);\nwindow.wagtailStreamField = wagtailStreamField;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2VudHJ5cG9pbnRzL2FkbWluL3RlbGVwYXRoL2Jsb2Nrcy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9jbGllbnQvc3JjL2VudHJ5cG9pbnRzL2FkbWluL3RlbGVwYXRoL2Jsb2Nrcy5qcz8zM2FlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBGaWVsZEJsb2NrXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tcG9uZW50cy9TdHJlYW1GaWVsZC9ibG9ja3MvRmllbGRCbG9ja1wiKTtcbnZhciBTdGF0aWNCbG9ja18xID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbXBvbmVudHMvU3RyZWFtRmllbGQvYmxvY2tzL1N0YXRpY0Jsb2NrXCIpO1xudmFyIFN0cnVjdEJsb2NrXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tcG9uZW50cy9TdHJlYW1GaWVsZC9ibG9ja3MvU3RydWN0QmxvY2tcIik7XG52YXIgTGlzdEJsb2NrXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tcG9uZW50cy9TdHJlYW1GaWVsZC9ibG9ja3MvTGlzdEJsb2NrXCIpO1xudmFyIFN0cmVhbUJsb2NrXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tcG9uZW50cy9TdHJlYW1GaWVsZC9ibG9ja3MvU3RyZWFtQmxvY2tcIik7XG52YXIgd2FndGFpbFN0cmVhbUZpZWxkID0gd2luZG93LndhZ3RhaWxTdHJlYW1GaWVsZCB8fCB7fTtcbndhZ3RhaWxTdHJlYW1GaWVsZC5ibG9ja3MgPSB7XG4gICAgRmllbGRCbG9jazogRmllbGRCbG9ja18xLkZpZWxkQmxvY2ssXG4gICAgRmllbGRCbG9ja0RlZmluaXRpb246IEZpZWxkQmxvY2tfMS5GaWVsZEJsb2NrRGVmaW5pdGlvbixcbiAgICBTdGF0aWNCbG9jazogU3RhdGljQmxvY2tfMS5TdGF0aWNCbG9jayxcbiAgICBTdGF0aWNCbG9ja0RlZmluaXRpb246IFN0YXRpY0Jsb2NrXzEuU3RhdGljQmxvY2tEZWZpbml0aW9uLFxuICAgIFN0cnVjdEJsb2NrOiBTdHJ1Y3RCbG9ja18xLlN0cnVjdEJsb2NrLFxuICAgIFN0cnVjdEJsb2NrRGVmaW5pdGlvbjogU3RydWN0QmxvY2tfMS5TdHJ1Y3RCbG9ja0RlZmluaXRpb24sXG4gICAgU3RydWN0QmxvY2tWYWxpZGF0aW9uRXJyb3I6IFN0cnVjdEJsb2NrXzEuU3RydWN0QmxvY2tWYWxpZGF0aW9uRXJyb3IsXG4gICAgTGlzdEJsb2NrOiBMaXN0QmxvY2tfMS5MaXN0QmxvY2ssXG4gICAgTGlzdEJsb2NrRGVmaW5pdGlvbjogTGlzdEJsb2NrXzEuTGlzdEJsb2NrRGVmaW5pdGlvbixcbiAgICBMaXN0QmxvY2tWYWxpZGF0aW9uRXJyb3I6IExpc3RCbG9ja18xLkxpc3RCbG9ja1ZhbGlkYXRpb25FcnJvcixcbiAgICBTdHJlYW1CbG9jazogU3RyZWFtQmxvY2tfMS5TdHJlYW1CbG9jayxcbiAgICBTdHJlYW1CbG9ja0RlZmluaXRpb246IFN0cmVhbUJsb2NrXzEuU3RyZWFtQmxvY2tEZWZpbml0aW9uLFxuICAgIFN0cmVhbUJsb2NrVmFsaWRhdGlvbkVycm9yOiBTdHJlYW1CbG9ja18xLlN0cmVhbUJsb2NrVmFsaWRhdGlvbkVycm9yXG59O1xuZnVuY3Rpb24gaW5pdEJsb2NrV2lkZ2V0KGlkKSB7XG4gICAgLypcbiAgICBJbml0aWFsaXNlcyB0aGUgdG9wLWxldmVsIGVsZW1lbnQgb2YgYSBCbG9ja1dpZGdldFxuICAgICh0aGUgZm9ybSB3aWRnZXQgZm9yIGEgU3RyZWFtRmllbGQpLlxuICAgIFJlY2VpdmVzIHRoZSBJRCBvZiBhIERPTSBlbGVtZW50IHdpdGggdGhlIGF0dHJpYnV0ZXM6XG4gICAgICBkYXRhLWJsb2NrOiBKU09OLWVuY29kZWQgYmxvY2sgZGVmaW5pdGlvbiB0byBiZSBwYXNzZWQgdG8gdGVsZXBhdGgudW5wYWNrXG4gICAgICAgIHRvIG9idGFpbiBhIEphdmFzY3JpcHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGJsb2NrXG4gICAgICAgIChhbiBpbnN0YW5jZSBvZiBvbmUgb2YgdGhlIEJsb2NrIGNsYXNzZXMgYmVsb3cpXG4gICAgICBkYXRhLXZhbHVlOiBKU09OLWVuY29kZWQgdmFsdWUgZm9yIHRoaXMgYmxvY2tcbiAgICAqL1xuICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBpZCArICdbZGF0YS1ibG9ja10nKTtcbiAgICAvLyB1bnBhY2sgdGhlIGJsb2NrIGRlZmluaXRpb24gYW5kIHZhbHVlXG4gICAgdmFyIGJsb2NrRGVmRGF0YSA9IEpTT04ucGFyc2UoYm9keS5kYXRhc2V0LmJsb2NrKTtcbiAgICB2YXIgYmxvY2tEZWYgPSB3aW5kb3cudGVsZXBhdGgudW5wYWNrKGJsb2NrRGVmRGF0YSk7XG4gICAgdmFyIGJsb2NrVmFsdWUgPSBKU09OLnBhcnNlKGJvZHkuZGF0YXNldC52YWx1ZSk7XG4gICAgdmFyIGJsb2NrRXJyb3JzID0gd2luZG93LnRlbGVwYXRoLnVucGFjayhKU09OLnBhcnNlKGJvZHkuZGF0YXNldC5lcnJvcnMpKTtcbiAgICAvLyByZXBsYWNlIHRoZSAnYm9keScgZWxlbWVudCB3aXRoIHRoZSBwb3B1bGF0ZWQgSFRNTCBzdHJ1Y3R1cmUgZm9yIHRoZSBibG9ja1xuICAgIGJsb2NrRGVmLnJlbmRlcihib2R5LCBpZCwgYmxvY2tWYWx1ZSwgYmxvY2tFcnJvcnMpO1xufVxud2luZG93LmluaXRCbG9ja1dpZGdldCA9IGluaXRCbG9ja1dpZGdldDtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC5ibG9ja3MuRmllbGRCbG9jaycsIEZpZWxkQmxvY2tfMS5GaWVsZEJsb2NrRGVmaW5pdGlvbik7XG53aW5kb3cudGVsZXBhdGgucmVnaXN0ZXIoJ3dhZ3RhaWwuYmxvY2tzLlN0YXRpY0Jsb2NrJywgU3RhdGljQmxvY2tfMS5TdGF0aWNCbG9ja0RlZmluaXRpb24pO1xud2luZG93LnRlbGVwYXRoLnJlZ2lzdGVyKCd3YWd0YWlsLmJsb2Nrcy5TdHJ1Y3RCbG9jaycsIFN0cnVjdEJsb2NrXzEuU3RydWN0QmxvY2tEZWZpbml0aW9uKTtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC5ibG9ja3MuU3RydWN0QmxvY2tWYWxpZGF0aW9uRXJyb3InLCBTdHJ1Y3RCbG9ja18xLlN0cnVjdEJsb2NrVmFsaWRhdGlvbkVycm9yKTtcbndpbmRvdy50ZWxlcGF0aC5yZWdpc3Rlcignd2FndGFpbC5ibG9ja3MuTGlzdEJsb2NrJywgTGlzdEJsb2NrXzEuTGlzdEJsb2NrRGVmaW5pdGlvbik7XG53aW5kb3cudGVsZXBhdGgucmVnaXN0ZXIoJ3dhZ3RhaWwuYmxvY2tzLkxpc3RCbG9ja1ZhbGlkYXRpb25FcnJvcicsIExpc3RCbG9ja18xLkxpc3RCbG9ja1ZhbGlkYXRpb25FcnJvcik7XG53aW5kb3cudGVsZXBhdGgucmVnaXN0ZXIoJ3dhZ3RhaWwuYmxvY2tzLlN0cmVhbUJsb2NrJywgU3RyZWFtQmxvY2tfMS5TdHJlYW1CbG9ja0RlZmluaXRpb24pO1xud2luZG93LnRlbGVwYXRoLnJlZ2lzdGVyKCd3YWd0YWlsLmJsb2Nrcy5TdHJlYW1CbG9ja1ZhbGlkYXRpb25FcnJvcicsIFN0cmVhbUJsb2NrXzEuU3RyZWFtQmxvY2tWYWxpZGF0aW9uRXJyb3IpO1xud2luZG93LndhZ3RhaWxTdHJlYW1GaWVsZCA9IHdhZ3RhaWxTdHJlYW1GaWVsZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./client/src/entrypoints/admin/telepath/blocks.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"v1\": () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"v3\": () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"v4\": () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   \"v5\": () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   \"NIL\": () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   \"version\": () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   \"validate\": () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   \"stringify\": () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   \"parse\": () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"./node_modules/uuid/dist/esm-browser/v1.js\");\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ \"./node_modules/uuid/dist/esm-browser/v3.js\");\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ \"./node_modules/uuid/dist/esm-browser/v5.js\");\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ \"./node_modules/uuid/dist/esm-browser/nil.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ \"./node_modules/uuid/dist/esm-browser/version.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9pbmRleC5qcz9lMTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgdjEgfSBmcm9tICcuL3YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjMgfSBmcm9tICcuL3YzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjQgfSBmcm9tICcuL3Y0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjUgfSBmcm9tICcuL3Y1LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTklMIH0gZnJvbSAnLi9uaWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmFsaWRhdGUgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/index.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/md5.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/md5.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcz9iNzJiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBCcm93c2VyLWNvbXBhdGlibGUgSmF2YVNjcmlwdCBNRDVcbiAqXG4gKiBNb2RpZmljYXRpb24gb2YgSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXNbaV0gPSBtc2cuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWQ1VG9IZXhFbmNvZGVkQXJyYXkod29yZHNUb01kNShieXRlc1RvV29yZHMoYnl0ZXMpLCBieXRlcy5sZW5ndGggKiA4KSk7XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGFuIGFycmF5IG9mIGJ5dGVzXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVUb0hleEVuY29kZWRBcnJheShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIHZhciBsZW5ndGgzMiA9IGlucHV0Lmxlbmd0aCAqIDMyO1xuICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgIHZhciB4ID0gaW5wdXRbaSA+PiA1XSA+Pj4gaSAlIDMyICYgMHhmZjtcbiAgICB2YXIgaGV4ID0gcGFyc2VJbnQoaGV4VGFiLmNoYXJBdCh4ID4+PiA0ICYgMHgwZikgKyBoZXhUYWIuY2hhckF0KHggJiAweDBmKSwgMTYpO1xuICAgIG91dHB1dC5wdXNoKGhleCk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgb3V0cHV0IGxlbmd0aCB3aXRoIHBhZGRpbmcgYW5kIGJpdCBsZW5ndGhcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE91dHB1dExlbmd0aChpbnB1dExlbmd0aDgpIHtcbiAgcmV0dXJuIChpbnB1dExlbmd0aDggKyA2NCA+Pj4gOSA8PCA0KSArIDE0ICsgMTtcbn1cbi8qXG4gKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoLlxuICovXG5cblxuZnVuY3Rpb24gd29yZHNUb01kNSh4LCBsZW4pIHtcbiAgLyogYXBwZW5kIHBhZGRpbmcgKi9cbiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCBsZW4gJSAzMjtcbiAgeFtnZXRPdXRwdXRMZW5ndGgobGVuKSAtIDFdID0gbGVuO1xuICB2YXIgYSA9IDE3MzI1ODQxOTM7XG4gIHZhciBiID0gLTI3MTczMzg3OTtcbiAgdmFyIGMgPSAtMTczMjU4NDE5NDtcbiAgdmFyIGQgPSAyNzE3MzM4Nzg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNikge1xuICAgIHZhciBvbGRhID0gYTtcbiAgICB2YXIgb2xkYiA9IGI7XG4gICAgdmFyIG9sZGMgPSBjO1xuICAgIHZhciBvbGRkID0gZDtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMCk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA3LCAtMTc2NDE4ODk3KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNywgLTQyMDYzKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTQsIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgNV0sIDUsIC03MDE1NTg2OTEpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDRdLCAyMCwgLTQwNTUzNzg0OCk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2Nyk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDJdLCA5LCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDddLCAxMCwgMTEyNjg5MTQxNSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG4gICAgYSA9IHNhZmVBZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVBZGQoYiwgb2xkYik7XG4gICAgYyA9IHNhZmVBZGQoYywgb2xkYyk7XG4gICAgZCA9IHNhZmVBZGQoZCwgb2xkZCk7XG4gIH1cblxuICByZXR1cm4gW2EsIGIsIGMsIGRdO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgYnl0ZXMgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBieXRlc1RvV29yZHMoaW5wdXQpIHtcbiAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBsZW5ndGg4ID0gaW5wdXQubGVuZ3RoICogODtcbiAgdmFyIG91dHB1dCA9IG5ldyBVaW50MzJBcnJheShnZXRPdXRwdXRMZW5ndGgobGVuZ3RoOCkpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgb3V0cHV0W2kgPj4gNV0gfD0gKGlucHV0W2kgLyA4XSAmIDB4ZmYpIDw8IGkgJSAzMjtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKlxuICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNhZmVBZGQoeCwgeSkge1xuICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gIHJldHVybiBtc3cgPDwgMTYgfCBsc3cgJiAweGZmZmY7XG59XG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5cblxuZnVuY3Rpb24gYml0Um90YXRlTGVmdChudW0sIGNudCkge1xuICByZXR1cm4gbnVtIDw8IGNudCB8IG51bSA+Pj4gMzIgLSBjbnQ7XG59XG4vKlxuICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNWNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gIHJldHVybiBzYWZlQWRkKGJpdFJvdGF0ZUxlZnQoc2FmZUFkZChzYWZlQWRkKGEsIHEpLCBzYWZlQWRkKHgsIHQpKSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBtZDVmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGMgfCB+YiAmIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVnZyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGQgfCBjICYgfmQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVoaChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aWkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGMgXiAoYiB8IH5kKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/md5.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/nil.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/nil.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25pbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uaWwuanM/ZDRjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/nil.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/parse.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/parse.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzPzBkZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiBwYXJzZSh1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgdmFyIHY7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxNik7IC8vIFBhcnNlICMjIyMjIyMjLS4uLi4tLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFyclswXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgwLCA4KSwgMTYpKSA+Pj4gMjQ7XG4gIGFyclsxXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzJdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclszXSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0jIyMjLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoOSwgMTMpLCAxNikpID4+PiA4O1xuICBhcnJbNV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0jIyMjLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzZdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxOCksIDE2KSkgPj4+IDg7XG4gIGFycls3XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tIyMjIy0uLi4uLi4uLi4uLi5cblxuICBhcnJbOF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTksIDIzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzldID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0uLi4uLSMjIyMjIyMjIyMjI1xuICAvLyAoVXNlIFwiL1wiIHRvIGF2b2lkIDMyLWJpdCB0cnVuY2F0aW9uIHdoZW4gYml0LXNoaWZ0aW5nIGhpZ2gtb3JkZXIgYnl0ZXMpXG5cbiAgYXJyWzEwXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgyNCwgMzYpLCAxNikpIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMV0gPSB2IC8gMHgxMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTJdID0gdiA+Pj4gMjQgJiAweGZmO1xuICBhcnJbMTNdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMTRdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclsxNV0gPSB2ICYgMHhmZjtcbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/parse.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JlZ2V4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JlZ2V4LmpzPzQwZDYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/regex.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanM/ZDhmOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbiAgICAvLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/rng.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/sha1.js":
/*!****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/sha1.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanM/Yjc1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZGFwdGVkIGZyb20gQ2hyaXMgVmVuZXNzJyBTSEExIGNvZGUgYXRcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvc2hhMS5odG1sXG5mdW5jdGlvbiBmKHMsIHgsIHksIHopIHtcbiAgc3dpdGNoIChzKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHggJiB5IF4gfnggJiB6O1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcblxuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiB4ICYgeSBeIHggJiB6IF4geSAmIHo7XG5cbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuICB9XG59XG5cbmZ1bmN0aW9uIFJPVEwoeCwgbikge1xuICByZXR1cm4geCA8PCBuIHwgeCA+Pj4gMzIgLSBuO1xufVxuXG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIHZhciBLID0gWzB4NWE4Mjc5OTksIDB4NmVkOWViYTEsIDB4OGYxYmJjZGMsIDB4Y2E2MmMxZDZdO1xuICB2YXIgSCA9IFsweDY3NDUyMzAxLCAweGVmY2RhYjg5LCAweDk4YmFkY2ZlLCAweDEwMzI1NDc2LCAweGMzZDJlMWYwXTtcblxuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMucHVzaChtc2cuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIC8vIENvbnZlcnQgQXJyYXktbGlrZSB0byBBcnJheVxuICAgIGJ5dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYnl0ZXMpO1xuICB9XG5cbiAgYnl0ZXMucHVzaCgweDgwKTtcbiAgdmFyIGwgPSBieXRlcy5sZW5ndGggLyA0ICsgMjtcbiAgdmFyIE4gPSBNYXRoLmNlaWwobCAvIDE2KTtcbiAgdmFyIE0gPSBuZXcgQXJyYXkoTik7XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE47ICsrX2kpIHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQzMkFycmF5KDE2KTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgYXJyW2pdID0gYnl0ZXNbX2kgKiA2NCArIGogKiA0XSA8PCAyNCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDFdIDw8IDE2IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMl0gPDwgOCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDNdO1xuICAgIH1cblxuICAgIE1bX2ldID0gYXJyO1xuICB9XG5cbiAgTVtOIC0gMV1bMTRdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAvIE1hdGgucG93KDIsIDMyKTtcbiAgTVtOIC0gMV1bMTRdID0gTWF0aC5mbG9vcihNW04gLSAxXVsxNF0pO1xuICBNW04gLSAxXVsxNV0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4ICYgMHhmZmZmZmZmZjtcblxuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBOOyArK19pMikge1xuICAgIHZhciBXID0gbmV3IFVpbnQzMkFycmF5KDgwKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMTY7ICsrdCkge1xuICAgICAgV1t0XSA9IE1bX2kyXVt0XTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfdCA9IDE2OyBfdCA8IDgwOyArK190KSB7XG4gICAgICBXW190XSA9IFJPVEwoV1tfdCAtIDNdIF4gV1tfdCAtIDhdIF4gV1tfdCAtIDE0XSBeIFdbX3QgLSAxNl0sIDEpO1xuICAgIH1cblxuICAgIHZhciBhID0gSFswXTtcbiAgICB2YXIgYiA9IEhbMV07XG4gICAgdmFyIGMgPSBIWzJdO1xuICAgIHZhciBkID0gSFszXTtcbiAgICB2YXIgZSA9IEhbNF07XG5cbiAgICBmb3IgKHZhciBfdDIgPSAwOyBfdDIgPCA4MDsgKytfdDIpIHtcbiAgICAgIHZhciBzID0gTWF0aC5mbG9vcihfdDIgLyAyMCk7XG4gICAgICB2YXIgVCA9IFJPVEwoYSwgNSkgKyBmKHMsIGIsIGMsIGQpICsgZSArIEtbc10gKyBXW190Ml0gPj4+IDA7XG4gICAgICBlID0gZDtcbiAgICAgIGQgPSBjO1xuICAgICAgYyA9IFJPVEwoYiwgMzApID4+PiAwO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gVDtcbiAgICB9XG5cbiAgICBIWzBdID0gSFswXSArIGEgPj4+IDA7XG4gICAgSFsxXSA9IEhbMV0gKyBiID4+PiAwO1xuICAgIEhbMl0gPSBIWzJdICsgYyA+Pj4gMDtcbiAgICBIWzNdID0gSFszXSArIGQgPj4+IDA7XG4gICAgSFs0XSA9IEhbNF0gKyBlID4+PiAwO1xuICB9XG5cbiAgcmV0dXJuIFtIWzBdID4+IDI0ICYgMHhmZiwgSFswXSA+PiAxNiAmIDB4ZmYsIEhbMF0gPj4gOCAmIDB4ZmYsIEhbMF0gJiAweGZmLCBIWzFdID4+IDI0ICYgMHhmZiwgSFsxXSA+PiAxNiAmIDB4ZmYsIEhbMV0gPj4gOCAmIDB4ZmYsIEhbMV0gJiAweGZmLCBIWzJdID4+IDI0ICYgMHhmZiwgSFsyXSA+PiAxNiAmIDB4ZmYsIEhbMl0gPj4gOCAmIDB4ZmYsIEhbMl0gJiAweGZmLCBIWzNdID4+IDI0ICYgMHhmZiwgSFszXSA+PiAxNiAmIDB4ZmYsIEhbM10gPj4gOCAmIDB4ZmYsIEhbM10gJiAweGZmLCBIWzRdID4+IDI0ICYgMHhmZiwgSFs0XSA+PiAxNiAmIDB4ZmYsIEhbNF0gPj4gOCAmIDB4ZmYsIEhbNF0gJiAweGZmXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hhMTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/sha1.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcz81OGNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/stringify.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v1.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v1.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(b);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YxLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92MS5qcz9jNTBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7IC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG5cbnZhciBfY2xvY2tzZXE7IC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuXG5cbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDsgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcblxuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgdmFyIGR0ID0gbXNlY3MgLSBfbGFzdE1TZWNzICsgKG5zZWNzIC0gX2xhc3ROU2VjcykgLyAxMDAwMDsgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH0gLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuXG5cbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH0gLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuXG5cbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7IC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwOyAvLyBgdGltZV9sb3dgXG5cbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjsgLy8gYHRpbWVfbWlkYFxuXG4gIHZhciB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v1.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v3.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v3.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"./node_modules/uuid/dist/esm-browser/md5.js\");\n\n\nvar v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FndGFpbC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjMuanM/NTRhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBtZDUgZnJvbSAnLi9tZDUuanMnO1xudmFyIHYzID0gdjM1KCd2MycsIDB4MzAsIG1kNSk7XG5leHBvcnQgZGVmYXVsdCB2MzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v3.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v35.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v35.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DNS\": () => (/* binding */ DNS),\n/* harmony export */   \"URL\": () => (/* binding */ URL),\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nvar DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nvar URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FndGFpbC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjM1LmpzP2ZmYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5cbmZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyKSB7XG4gIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTsgLy8gVVRGOCBlc2NhcGVcblxuICB2YXIgYnl0ZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgdmFyIEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IHZhciBVUkwgPSAnNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uLCBoYXNoZnVuYykge1xuICBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQodmFsdWUsIG5hbWVzcGFjZSwgYnVmLCBvZmZzZXQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBzdHJpbmdUb0J5dGVzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVzcGFjZS5sZW5ndGggIT09IDE2KSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ05hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSknKTtcbiAgICB9IC8vIENvbXB1dGUgaGFzaCBvZiBuYW1lc3BhY2UgYW5kIHZhbHVlLCBQZXIgNC4zXG4gICAgLy8gRnV0dXJlOiBVc2Ugc3ByZWFkIHN5bnRheCB3aGVuIHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLCBlLmcuIGBieXRlcyA9XG4gICAgLy8gaGFzaGZ1bmMoWy4uLm5hbWVzcGFjZSwgLi4uIHZhbHVlXSlgXG5cblxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KDE2ICsgdmFsdWUubGVuZ3RoKTtcbiAgICBieXRlcy5zZXQobmFtZXNwYWNlKTtcbiAgICBieXRlcy5zZXQodmFsdWUsIG5hbWVzcGFjZS5sZW5ndGgpO1xuICAgIGJ5dGVzID0gaGFzaGZ1bmMoYnl0ZXMpO1xuICAgIGJ5dGVzWzZdID0gYnl0ZXNbNl0gJiAweDBmIHwgdmVyc2lvbjtcbiAgICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmdpZnkoYnl0ZXMpO1xuICB9IC8vIEZ1bmN0aW9uI25hbWUgaXMgbm90IHNldHRhYmxlIG9uIHNvbWUgcGxhdGZvcm1zICgjMjcwKVxuXG5cbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICB9IGNhdGNoIChlcnIpIHt9IC8vIEZvciBDb21tb25KUyBkZWZhdWx0IGV4cG9ydCBzdXBwb3J0XG5cblxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v35.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dhZ3RhaWwvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzP2VjMjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v4.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v5.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v5.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"./node_modules/uuid/dist/esm-browser/sha1.js\");\n\n\nvar v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y1LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FndGFpbC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjUuanM/MjZiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG52YXIgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v5.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWd0YWlsLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcz8wNmU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/validate.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/version.js":
/*!*******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/version.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction version(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZlcnNpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FndGFpbC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmVyc2lvbi5qcz83NmU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/version.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"telepath/blocks": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = globalThis["webpackChunkwagtail"] = globalThis["webpackChunkwagtail"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["wagtail/admin/static/wagtailadmin/js/vendor"], () => (__webpack_require__("./client/src/entrypoints/admin/telepath/blocks.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;